const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/modules-D8RyIJDO.js","assets/modules-D95GE6Gn.css"])))=>i.map(i=>d[i]);
import{r as m,j as o,Y as Br,Z as bt,$ as An,S as Fo,a0 as ke,a1 as In,a2 as er,a3 as Vo,f as Er,i as Lo,a4 as $o,a5 as Ka,a6 as Ko,a7 as Go,a8 as Fr,a9 as Qo,aa as Yo,ab as Jo,ac as Xo}from"./modules-D8RyIJDO.js";import{B as E,C as vt,I as ot,a as ar,D as ut,T as j,u as ir,L as Te,b as Zo,c as _o,d as Ga,e as Xe,f as Qa,g as De,S as dt,h as qi,i as Rt,j as ve,k as vr,s as Lt,l as Ia,m as ts,n as es,o as Vr,p as rr,q as Et,H as Tn,r as Lr,G as $r,t as vn,v as jn,w as Ge,x as Ze,y as kn,P as as,z as jr,A as Bi,U as Hn,E as is,V as nr,F as Ei,J as rs,K as or,M as ns,N as Kr,O as Gr,Q as Wn,R as Ta,W as ma,X as os,Y as Rn,Z as ss,_ as Nn,$ as sr,a0 as cs,a1 as ls,a2 as ds,a3 as Fi,a4 as Ya,a5 as Ja,a6 as je,a7 as xt,a8 as Xa,a9 as we,aa as us,ab as Zt,ac as zn,ad as Ba,ae as Me,af as Zi,ag as ps,ah as kr,ai as Qr,aj as fa,ak as Mn,al as Ea,am as Fa,an as Za,ao as Qe,ap as On,aq as Dn,ar as Ae,as as hs,at as ms,au as fs,av as kt,aw as _a,ax as Aa,ay as cr,az as ys,aA as gs,aB as bs,aC as ws,aD as $t,aE as Un,aF as Yt,aG as Jt,aH as $i,aI as ce,aJ as qn,aK as lr,aL as ca,aM as Oe,aN as _e,aO as xs,aP as sn,aQ as Ss,aR as Cs,aS as Bn,aT as En,aU as Ps,aV as As,aW as Is,aX as Fn,aY as Ts,aZ as vs,a_ as js,a$ as Vn,b0 as ks,b1 as Hs,b2 as Ws,b3 as Rs,b4 as Yr,b5 as Va,b6 as Ns,b7 as zs,b8 as Ms,b9 as Os,ba as Ln,bb as Ds,bc as Us,bd as $n,be as Kn,bf as qs,bg as Bs,bh as Es,bi as Fs,bj as Vs,bk as Ls,bl as $s,bm as Cr,bn as Ks,bo as Gs,bp as Qs,bq as Ys,br as Js,bs as Xs,bt as Zs,bu as _s,bv as tc,bw as ec,bx as ac}from"./mui-DnmxpPcp.js";import{r as ic}from"./openapi-explorer-DrntHFvP.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}})();const rc={frameScrollHandler:void 0,setFrameScrollHandler:()=>()=>{}},Gn=m.createContext(rc),nc=({children:p})=>{const[t,e]=m.useState();return o.jsx(Gn.Provider,{value:{frameScrollHandler:t,setFrameScrollHandler:e},children:p})},Jr=()=>m.useContext(Gn),oc=({children:p})=>{let t;if(!t&&typeof window<"u"){const e=window.location.protocol,a=window.location.hostname,s=window.location.port;t=`${e}//${a}${s?`:${s}`:""}`}return o.jsx(Hl,{server:t,children:o.jsx(Rl,{children:o.jsx(Ml,{children:o.jsx(nc,{children:p})})})})};class dr{constructor(t){this.promise=t}toPromise(){return this.promise}pipe(t){return new dr(this.promise.then(t))}}function x(p){return new dr(p)}function P(p){return new dr(Promise.resolve(p))}function h(p){return t=>p(t).toPromise()}class sc{send(t){let e=t.getHttpMethod().toString(),a=t.getBody();const s=fetch(t.getUrl(),{method:e,body:a,headers:t.getHeaders(),credentials:"same-origin"}).then(r=>{const i={};r.headers.forEach((c,l)=>{i[l]=c});const n={text:()=>r.text(),binary:()=>r.blob()};return new Qn(r.status,i,n)});return x(s)}}var S;(function(p){p.GET="GET",p.HEAD="HEAD",p.POST="POST",p.PUT="PUT",p.DELETE="DELETE",p.CONNECT="CONNECT",p.OPTIONS="OPTIONS",p.TRACE="TRACE",p.PATCH="PATCH"})(S||(S={}));function cn(p){return p.startsWith("http://")||p.startsWith("https://")?p:window.location.origin+p}class cc{constructor(t,e){this.httpMethod=e,this.headers={},this.body=void 0,this.url=new URL(cn(t))}getUrl(){return this.url.toString().endsWith("/")?this.url.toString().slice(0,-1):this.url.toString()}setUrl(t){this.url=new URL(cn(t))}setBody(t){this.body=t}getHttpMethod(){return this.httpMethod}getHeaders(){return this.headers}getBody(){return this.body}setQueryParam(t,e){this.url.searchParams.set(t,e)}appendQueryParam(t,e){this.url.searchParams.append(t,e)}addCookie(t,e){this.headers.Cookie||(this.headers.Cookie=""),this.headers.Cookie+=t+"="+e+"; "}setHeaderParam(t,e){this.headers[t]=e}}class Qn{constructor(t,e,a){this.httpStatusCode=t,this.headers=e,this.body=a}getParsedHeader(t){const e={};if(!this.headers[t])return e;const a=this.headers[t].split(";");for(const s of a){let[r,i]=s.split("=",2);r&&(r=r.toLowerCase().trim(),i===void 0?e[""]=r:(i=i.trim(),i.startsWith('"')&&i.endsWith('"')&&(i=i.substring(1,i.length-1)),e[r]=i))}return e}async getBodyAsFile(){const t=await this.body.binary(),e=this.getParsedHeader("content-disposition").filename||"",a=this.headers["content-type"]||"";try{return new File([t],e,{type:a})}catch{return Object.assign(t,{name:e,type:a})}}getBodyAsAny(){try{return this.body.text()}catch{}try{return this.body.binary()}catch{}return Promise.resolve(void 0)}}class g extends Qn{constructor(t,e,a,s){super(t,e,a),this.data=s}}class lc{constructor(t){this.tokenProvider=t}getName(){return"bearerAuth"}async applySecurityAuthentication(t){t.setHeaderParam("Authorization","Bearer "+await this.tokenProvider.getToken())}}function dc(p){let t={};return p&&(t.default=p.default,p.bearerAuth&&(t.bearerAuth=new lc(p.bearerAuth.tokenProvider))),t}class ti{static getAttributeTypeMap(){return ti.attributeTypeMap}constructor(){}}ti.discriminator=void 0;ti.mapping=void 0;ti.attributeTypeMap=[{name:"parentUid",baseName:"parentUid",type:"string",format:""},{name:"visibility",baseName:"visibility",type:"string",format:""},{name:"format",baseName:"format",type:"string",format:""},{name:"name",baseName:"name",type:"string",format:""},{name:"description",baseName:"description",type:"string",format:""},{name:"config",baseName:"config",type:"string",format:""},{name:"example",baseName:"example",type:"string",format:""},{name:"parameters",baseName:"parameters",type:"string",format:""},{name:"ext",baseName:"ext",type:"string",format:""},{name:"draft",baseName:"draft",type:"string",format:""},{name:"tags",baseName:"tags",type:"Array<string>",format:""},{name:"aiModels",baseName:"aiModels",type:"Array<string>",format:""}];class ei{static getAttributeTypeMap(){return ei.attributeTypeMap}constructor(){}}ei.discriminator=void 0;ei.mapping=void 0;ei.attributeTypeMap=[{name:"requestId",baseName:"requestId",type:"string",format:""},{name:"agentId",baseName:"agentId",type:"number",format:"int64"},{name:"agentUid",baseName:"agentUid",type:"string",format:""},{name:"gmtCreate",baseName:"gmtCreate",type:"Date",format:"date-time"},{name:"gmtModified",baseName:"gmtModified",type:"Date",format:"date-time"},{name:"parentUid",baseName:"parentUid",type:"string",format:""},{name:"visibility",baseName:"visibility",type:"string",format:""},{name:"format",baseName:"format",type:"string",format:""},{name:"version",baseName:"version",type:"number",format:"int32"},{name:"name",baseName:"name",type:"string",format:""},{name:"description",baseName:"description",type:"string",format:""},{name:"username",baseName:"username",type:"string",format:""},{name:"tags",baseName:"tags",type:"Array<string>",format:""},{name:"aiModels",baseName:"aiModels",type:"Array<AiModelInfoDTO>",format:""},{name:"config",baseName:"config",type:"string",format:""},{name:"example",baseName:"example",type:"string",format:""},{name:"parameters",baseName:"parameters",type:"string",format:""},{name:"ext",baseName:"ext",type:"string",format:""},{name:"draft",baseName:"draft",type:"string",format:""}];class ai{static getAttributeTypeMap(){return ai.attributeTypeMap}constructor(){}}ai.discriminator=void 0;ai.mapping=void 0;ai.attributeTypeMap=[{name:"agentId",baseName:"agentId",type:"number",format:"int64"},{name:"version",baseName:"version",type:"number",format:"int32"},{name:"stats",baseName:"stats",type:"InteractiveStatsDTO",format:""}];class ii{static getAttributeTypeMap(){return ii.attributeTypeMap}constructor(){}}ii.discriminator=void 0;ii.mapping=void 0;ii.attributeTypeMap=[{name:"where",baseName:"where",type:"AgentQueryWhere",format:""},{name:"orderBy",baseName:"orderBy",type:"Array<string>",format:""},{name:"pageNum",baseName:"pageNum",type:"number",format:"int64"},{name:"pageSize",baseName:"pageSize",type:"number",format:"int64"}];class ri{static getAttributeTypeMap(){return ri.attributeTypeMap}constructor(){}}ri.discriminator=void 0;ri.mapping=void 0;ri.attributeTypeMap=[{name:"visibility",baseName:"visibility",type:"string",format:""},{name:"username",baseName:"username",type:"string",format:""},{name:"format",baseName:"format",type:"string",format:""},{name:"tags",baseName:"tags",type:"Array<string>",format:""},{name:"tagsOp",baseName:"tagsOp",type:"string",format:""},{name:"aiModels",baseName:"aiModels",type:"Array<string>",format:""},{name:"aiModelsOp",baseName:"aiModelsOp",type:"string",format:""},{name:"name",baseName:"name",type:"string",format:""},{name:"text",baseName:"text",type:"string",format:""}];class ni{static getAttributeTypeMap(){return ni.attributeTypeMap}constructor(){}}ni.discriminator=void 0;ni.mapping=void 0;ni.attributeTypeMap=[{name:"requestId",baseName:"requestId",type:"string",format:""},{name:"agentId",baseName:"agentId",type:"number",format:"int64"},{name:"agentUid",baseName:"agentUid",type:"string",format:""},{name:"gmtCreate",baseName:"gmtCreate",type:"Date",format:"date-time"},{name:"gmtModified",baseName:"gmtModified",type:"Date",format:"date-time"},{name:"parentUid",baseName:"parentUid",type:"string",format:""},{name:"visibility",baseName:"visibility",type:"string",format:""},{name:"format",baseName:"format",type:"string",format:""},{name:"version",baseName:"version",type:"number",format:"int32"},{name:"name",baseName:"name",type:"string",format:""},{name:"description",baseName:"description",type:"string",format:""},{name:"username",baseName:"username",type:"string",format:""},{name:"tags",baseName:"tags",type:"Array<string>",format:""},{name:"aiModels",baseName:"aiModels",type:"Array<AiModelInfoDTO>",format:""}];class oi{static getAttributeTypeMap(){return oi.attributeTypeMap}constructor(){}}oi.discriminator=void 0;oi.mapping=void 0;oi.attributeTypeMap=[{name:"requestId",baseName:"requestId",type:"string",format:""},{name:"agentId",baseName:"agentId",type:"number",format:"int64"},{name:"agentUid",baseName:"agentUid",type:"string",format:""},{name:"gmtCreate",baseName:"gmtCreate",type:"Date",format:"date-time"},{name:"gmtModified",baseName:"gmtModified",type:"Date",format:"date-time"},{name:"parentUid",baseName:"parentUid",type:"string",format:""},{name:"visibility",baseName:"visibility",type:"string",format:""},{name:"format",baseName:"format",type:"string",format:""},{name:"version",baseName:"version",type:"number",format:"int32"},{name:"name",baseName:"name",type:"string",format:""},{name:"description",baseName:"description",type:"string",format:""},{name:"username",baseName:"username",type:"string",format:""},{name:"tags",baseName:"tags",type:"Array<string>",format:""},{name:"aiModels",baseName:"aiModels",type:"Array<AiModelInfoDTO>",format:""},{name:"viewCount",baseName:"viewCount",type:"number",format:"int64"},{name:"referCount",baseName:"referCount",type:"number",format:"int64"},{name:"recommendCount",baseName:"recommendCount",type:"number",format:"int64"},{name:"scoreCount",baseName:"scoreCount",type:"number",format:"int64"},{name:"score",baseName:"score",type:"number",format:"int64"}];class si{static getAttributeTypeMap(){return si.attributeTypeMap}constructor(){}}si.discriminator=void 0;si.mapping=void 0;si.attributeTypeMap=[{name:"parentUid",baseName:"parentUid",type:"string",format:""},{name:"visibility",baseName:"visibility",type:"string",format:""},{name:"format",baseName:"format",type:"string",format:""},{name:"name",baseName:"name",type:"string",format:""},{name:"description",baseName:"description",type:"string",format:""},{name:"config",baseName:"config",type:"string",format:""},{name:"example",baseName:"example",type:"string",format:""},{name:"parameters",baseName:"parameters",type:"string",format:""},{name:"ext",baseName:"ext",type:"string",format:""},{name:"draft",baseName:"draft",type:"string",format:""},{name:"tags",baseName:"tags",type:"Array<string>",format:""},{name:"aiModels",baseName:"aiModels",type:"Array<string>",format:""}];class va{static getAttributeTypeMap(){return va.attributeTypeMap}constructor(){}}va.discriminator=void 0;va.mapping=void 0;va.attributeTypeMap=[{name:"name",baseName:"name",type:"string",format:""},{name:"provider",baseName:"provider",type:"string",format:""},{name:"token",baseName:"token",type:"string",format:""},{name:"enabled",baseName:"enabled",type:"boolean",format:""}];class ci{static getAttributeTypeMap(){return ci.attributeTypeMap}constructor(){}}ci.discriminator=void 0;ci.mapping=void 0;ci.attributeTypeMap=[{name:"requestId",baseName:"requestId",type:"string",format:""},{name:"id",baseName:"id",type:"number",format:"int64"},{name:"gmtCreate",baseName:"gmtCreate",type:"Date",format:"date-time"},{name:"gmtModified",baseName:"gmtModified",type:"Date",format:"date-time"},{name:"gmtUsed",baseName:"gmtUsed",type:"Date",format:"date-time"},{name:"name",baseName:"name",type:"string",format:""},{name:"provider",baseName:"provider",type:"string",format:""},{name:"token",baseName:"token",type:"string",format:""},{name:"enabled",baseName:"enabled",type:"boolean",format:""},{name:"username",baseName:"username",type:"string",format:""}];class li{static getAttributeTypeMap(){return li.attributeTypeMap}constructor(){}}li.discriminator=void 0;li.mapping=void 0;li.attributeTypeMap=[{name:"requestId",baseName:"requestId",type:"string",format:""},{name:"modelId",baseName:"modelId",type:"string",format:""},{name:"name",baseName:"name",type:"string",format:""},{name:"description",baseName:"description",type:"string",format:""},{name:"provider",baseName:"provider",type:"string",format:""},{name:"type",baseName:"type",type:"string",format:""}];class di{static getAttributeTypeMap(){return di.attributeTypeMap}constructor(){}}di.discriminator=void 0;di.mapping=void 0;di.attributeTypeMap=[{name:"requestId",baseName:"requestId",type:"string",format:""},{name:"id",baseName:"id",type:"number",format:"int64"},{name:"gmtCreate",baseName:"gmtCreate",type:"Date",format:"date-time"},{name:"gmtModified",baseName:"gmtModified",type:"Date",format:"date-time"},{name:"type",baseName:"type",type:"string",format:""},{name:"issuedAt",baseName:"issuedAt",type:"Date",format:"date-time"},{name:"expiresAt",baseName:"expiresAt",type:"Date",format:"date-time"},{name:"token",baseName:"token",type:"string",format:""},{name:"policy",baseName:"policy",type:"string",format:""},{name:"username",baseName:"username",type:"string",format:""}];class ui{static getAttributeTypeMap(){return ui.attributeTypeMap}constructor(){}}ui.discriminator=void 0;ui.mapping=void 0;ui.attributeTypeMap=[{name:"name",baseName:"name",type:"string",format:""},{name:"version",baseName:"version",type:"string",format:""},{name:"buildTimestamp",baseName:"buildTimestamp",type:"string",format:""},{name:"buildNumber",baseName:"buildNumber",type:"string",format:""},{name:"commitUrl",baseName:"commitUrl",type:"string",format:""},{name:"releaseNoteUrl",baseName:"releaseNoteUrl",type:"string",format:""},{name:"runningEnv",baseName:"runningEnv",type:"string",format:""}];class ja{static getAttributeTypeMap(){return ja.attributeTypeMap}constructor(){}}ja.discriminator=void 0;ja.mapping=void 0;ja.attributeTypeMap=[{name:"isDefault",baseName:"isDefault",type:"boolean",format:""},{name:"chatPromptTaskId",baseName:"chatPromptTaskId",type:"string",format:""},{name:"greetingPromptTaskId",baseName:"greetingPromptTaskId",type:"string",format:""},{name:"moderationModelId",baseName:"moderationModelId",type:"string",format:""},{name:"moderationApiKeyName",baseName:"moderationApiKeyName",type:"string",format:""},{name:"moderationParams",baseName:"moderationParams",type:"string",format:""},{name:"messageWindowSize",baseName:"messageWindowSize",type:"number",format:"int32"},{name:"longTermMemoryWindowSize",baseName:"longTermMemoryWindowSize",type:"number",format:"int32"},{name:"proactiveChatWaitingTime",baseName:"proactiveChatWaitingTime",type:"number",format:"int32"},{name:"initQuota",baseName:"initQuota",type:"number",format:"int64"},{name:"quotaType",baseName:"quotaType",type:"string",format:""},{name:"enableAlbumTool",baseName:"enableAlbumTool",type:"boolean",format:""},{name:"enableTts",baseName:"enableTts",type:"boolean",format:""},{name:"ttsSpeakerIdx",baseName:"ttsSpeakerIdx",type:"string",format:""},{name:"ttsSpeakerWav",baseName:"ttsSpeakerWav",type:"string",format:""},{name:"ttsSpeakerType",baseName:"ttsSpeakerType",type:"string",format:""}];class ya{static getAttributeTypeMap(){return ya.attributeTypeMap}constructor(){}}ya.discriminator=void 0;ya.mapping=void 0;ya.attributeTypeMap=[{name:"requestId",baseName:"requestId",type:"string",format:""},{name:"backendId",baseName:"backendId",type:"string",format:""},{name:"gmtCreate",baseName:"gmtCreate",type:"Date",format:"date-time"},{name:"gmtModified",baseName:"gmtModified",type:"Date",format:"date-time"},{name:"characterUid",baseName:"characterUid",type:"string",format:""},{name:"isDefault",baseName:"isDefault",type:"boolean",format:""},{name:"chatPromptTaskId",baseName:"chatPromptTaskId",type:"string",format:""},{name:"greetingPromptTaskId",baseName:"greetingPromptTaskId",type:"string",format:""},{name:"moderationModelId",baseName:"moderationModelId",type:"string",format:""},{name:"moderationApiKeyName",baseName:"moderationApiKeyName",type:"string",format:""},{name:"moderationParams",baseName:"moderationParams",type:"string",format:""},{name:"messageWindowSize",baseName:"messageWindowSize",type:"number",format:"int32"},{name:"longTermMemoryWindowSize",baseName:"longTermMemoryWindowSize",type:"number",format:"int32"},{name:"proactiveChatWaitingTime",baseName:"proactiveChatWaitingTime",type:"number",format:"int32"},{name:"initQuota",baseName:"initQuota",type:"number",format:"int64"},{name:"quotaType",baseName:"quotaType",type:"string",format:""},{name:"enableAlbumTool",baseName:"enableAlbumTool",type:"boolean",format:""},{name:"enableTts",baseName:"enableTts",type:"boolean",format:""},{name:"ttsSpeakerIdx",baseName:"ttsSpeakerIdx",type:"string",format:""},{name:"ttsSpeakerWav",baseName:"ttsSpeakerWav",type:"string",format:""},{name:"ttsSpeakerType",baseName:"ttsSpeakerType",type:"string",format:""}];class ka{static getAttributeTypeMap(){return ka.attributeTypeMap}constructor(){}}ka.discriminator=void 0;ka.mapping=void 0;ka.attributeTypeMap=[{name:"parentUid",baseName:"parentUid",type:"string",format:""},{name:"visibility",baseName:"visibility",type:"string",format:""},{name:"name",baseName:"name",type:"string",format:""},{name:"description",baseName:"description",type:"string",format:""},{name:"nickname",baseName:"nickname",type:"string",format:""},{name:"avatar",baseName:"avatar",type:"string",format:""},{name:"picture",baseName:"picture",type:"string",format:""},{name:"video",baseName:"video",type:"string",format:""},{name:"gender",baseName:"gender",type:"string",format:""},{name:"profile",baseName:"profile",type:"string",format:""},{name:"greeting",baseName:"greeting",type:"string",format:""},{name:"chatStyle",baseName:"chatStyle",type:"string",format:""},{name:"chatExample",baseName:"chatExample",type:"string",format:""},{name:"defaultScene",baseName:"defaultScene",type:"string",format:""},{name:"lang",baseName:"lang",type:"string",format:""},{name:"ext",baseName:"ext",type:"string",format:""},{name:"draft",baseName:"draft",type:"string",format:""},{name:"tags",baseName:"tags",type:"Array<string>",format:""}];class da{static getAttributeTypeMap(){return da.attributeTypeMap}constructor(){}}da.discriminator=void 0;da.mapping=void 0;da.attributeTypeMap=[{name:"requestId",baseName:"requestId",type:"string",format:""},{name:"characterId",baseName:"characterId",type:"number",format:"int64"},{name:"characterUid",baseName:"characterUid",type:"string",format:""},{name:"gmtCreate",baseName:"gmtCreate",type:"Date",format:"date-time"},{name:"gmtModified",baseName:"gmtModified",type:"Date",format:"date-time"},{name:"parentUid",baseName:"parentUid",type:"string",format:""},{name:"visibility",baseName:"visibility",type:"string",format:""},{name:"version",baseName:"version",type:"number",format:"int32"},{name:"name",baseName:"name",type:"string",format:""},{name:"description",baseName:"description",type:"string",format:""},{name:"nickname",baseName:"nickname",type:"string",format:""},{name:"avatar",baseName:"avatar",type:"string",format:""},{name:"picture",baseName:"picture",type:"string",format:""},{name:"video",baseName:"video",type:"string",format:""},{name:"gender",baseName:"gender",type:"string",format:""},{name:"lang",baseName:"lang",type:"string",format:""},{name:"greeting",baseName:"greeting",type:"string",format:""},{name:"defaultScene",baseName:"defaultScene",type:"string",format:""},{name:"priority",baseName:"priority",type:"number",format:"int32"},{name:"username",baseName:"username",type:"string",format:""},{name:"tags",baseName:"tags",type:"Array<string>",format:""},{name:"profile",baseName:"profile",type:"string",format:""},{name:"chatStyle",baseName:"chatStyle",type:"string",format:""},{name:"chatExample",baseName:"chatExample",type:"string",format:""},{name:"ext",baseName:"ext",type:"string",format:""},{name:"draft",baseName:"draft",type:"string",format:""},{name:"backends",baseName:"backends",type:"Array<CharacterBackendDetailsDTO>",format:""}];class pi{static getAttributeTypeMap(){return pi.attributeTypeMap}constructor(){}}pi.discriminator=void 0;pi.mapping=void 0;pi.attributeTypeMap=[{name:"characterId",baseName:"characterId",type:"number",format:"int64"},{name:"version",baseName:"version",type:"number",format:"int32"},{name:"stats",baseName:"stats",type:"InteractiveStatsDTO",format:""}];class ne{static getAttributeTypeMap(){return ne.attributeTypeMap}constructor(){}}ne.discriminator=void 0;ne.mapping=void 0;ne.attributeTypeMap=[{name:"where",baseName:"where",type:"CharacterQueryWhere",format:""},{name:"orderBy",baseName:"orderBy",type:"Array<string>",format:""},{name:"pageNum",baseName:"pageNum",type:"number",format:"int64"},{name:"pageSize",baseName:"pageSize",type:"number",format:"int64"}];class le{static getAttributeTypeMap(){return le.attributeTypeMap}constructor(){}}le.discriminator=void 0;le.mapping=void 0;le.attributeTypeMap=[{name:"visibility",baseName:"visibility",type:"string",format:""},{name:"username",baseName:"username",type:"string",format:""},{name:"tags",baseName:"tags",type:"Array<string>",format:""},{name:"tagsOp",baseName:"tagsOp",type:"string",format:""},{name:"name",baseName:"name",type:"string",format:""},{name:"lang",baseName:"lang",type:"string",format:""},{name:"text",baseName:"text",type:"string",format:""},{name:"highPriority",baseName:"highPriority",type:"boolean",format:""}];class hi{static getAttributeTypeMap(){return hi.attributeTypeMap}constructor(){}}hi.discriminator=void 0;hi.mapping=void 0;hi.attributeTypeMap=[{name:"requestId",baseName:"requestId",type:"string",format:""},{name:"characterId",baseName:"characterId",type:"number",format:"int64"},{name:"characterUid",baseName:"characterUid",type:"string",format:""},{name:"gmtCreate",baseName:"gmtCreate",type:"Date",format:"date-time"},{name:"gmtModified",baseName:"gmtModified",type:"Date",format:"date-time"},{name:"parentUid",baseName:"parentUid",type:"string",format:""},{name:"visibility",baseName:"visibility",type:"string",format:""},{name:"version",baseName:"version",type:"number",format:"int32"},{name:"name",baseName:"name",type:"string",format:""},{name:"description",baseName:"description",type:"string",format:""},{name:"nickname",baseName:"nickname",type:"string",format:""},{name:"avatar",baseName:"avatar",type:"string",format:""},{name:"picture",baseName:"picture",type:"string",format:""},{name:"video",baseName:"video",type:"string",format:""},{name:"gender",baseName:"gender",type:"string",format:""},{name:"lang",baseName:"lang",type:"string",format:""},{name:"greeting",baseName:"greeting",type:"string",format:""},{name:"defaultScene",baseName:"defaultScene",type:"string",format:""},{name:"priority",baseName:"priority",type:"number",format:"int32"},{name:"username",baseName:"username",type:"string",format:""},{name:"tags",baseName:"tags",type:"Array<string>",format:""}];class mi{static getAttributeTypeMap(){return mi.attributeTypeMap}constructor(){}}mi.discriminator=void 0;mi.mapping=void 0;mi.attributeTypeMap=[{name:"requestId",baseName:"requestId",type:"string",format:""},{name:"characterId",baseName:"characterId",type:"number",format:"int64"},{name:"characterUid",baseName:"characterUid",type:"string",format:""},{name:"gmtCreate",baseName:"gmtCreate",type:"Date",format:"date-time"},{name:"gmtModified",baseName:"gmtModified",type:"Date",format:"date-time"},{name:"parentUid",baseName:"parentUid",type:"string",format:""},{name:"visibility",baseName:"visibility",type:"string",format:""},{name:"version",baseName:"version",type:"number",format:"int32"},{name:"name",baseName:"name",type:"string",format:""},{name:"description",baseName:"description",type:"string",format:""},{name:"nickname",baseName:"nickname",type:"string",format:""},{name:"avatar",baseName:"avatar",type:"string",format:""},{name:"picture",baseName:"picture",type:"string",format:""},{name:"video",baseName:"video",type:"string",format:""},{name:"gender",baseName:"gender",type:"string",format:""},{name:"lang",baseName:"lang",type:"string",format:""},{name:"greeting",baseName:"greeting",type:"string",format:""},{name:"defaultScene",baseName:"defaultScene",type:"string",format:""},{name:"priority",baseName:"priority",type:"number",format:"int32"},{name:"username",baseName:"username",type:"string",format:""},{name:"tags",baseName:"tags",type:"Array<string>",format:""},{name:"viewCount",baseName:"viewCount",type:"number",format:"int64"},{name:"referCount",baseName:"referCount",type:"number",format:"int64"},{name:"recommendCount",baseName:"recommendCount",type:"number",format:"int64"},{name:"scoreCount",baseName:"scoreCount",type:"number",format:"int64"},{name:"score",baseName:"score",type:"number",format:"int64"}];class Le{static getAttributeTypeMap(){return Le.attributeTypeMap}constructor(){}}Le.discriminator=void 0;Le.mapping=void 0;Le.attributeTypeMap=[{name:"parentUid",baseName:"parentUid",type:"string",format:""},{name:"visibility",baseName:"visibility",type:"string",format:""},{name:"name",baseName:"name",type:"string",format:""},{name:"description",baseName:"description",type:"string",format:""},{name:"nickname",baseName:"nickname",type:"string",format:""},{name:"avatar",baseName:"avatar",type:"string",format:""},{name:"picture",baseName:"picture",type:"string",format:""},{name:"video",baseName:"video",type:"string",format:""},{name:"gender",baseName:"gender",type:"string",format:""},{name:"profile",baseName:"profile",type:"string",format:""},{name:"greeting",baseName:"greeting",type:"string",format:""},{name:"chatStyle",baseName:"chatStyle",type:"string",format:""},{name:"chatExample",baseName:"chatExample",type:"string",format:""},{name:"defaultScene",baseName:"defaultScene",type:"string",format:""},{name:"lang",baseName:"lang",type:"string",format:""},{name:"ext",baseName:"ext",type:"string",format:""},{name:"draft",baseName:"draft",type:"string",format:""},{name:"tags",baseName:"tags",type:"Array<string>",format:""}];class Ye{static getAttributeTypeMap(){return Ye.attributeTypeMap}constructor(){}}Ye.discriminator=void 0;Ye.mapping=void 0;Ye.attributeTypeMap=[{name:"type",baseName:"type",type:"string",format:""},{name:"content",baseName:"content",type:"string",format:""}];class fi{static getAttributeTypeMap(){return fi.attributeTypeMap}constructor(){}}fi.discriminator=void 0;fi.mapping=void 0;fi.attributeTypeMap=[{name:"requestId",baseName:"requestId",type:"string",format:""},{name:"chatId",baseName:"chatId",type:"string",format:""},{name:"gmtCreate",baseName:"gmtCreate",type:"Date",format:"date-time"},{name:"gmtModified",baseName:"gmtModified",type:"Date",format:"date-time"},{name:"gmtRead",baseName:"gmtRead",type:"Date",format:"date-time"},{name:"userNickname",baseName:"userNickname",type:"string",format:""},{name:"userProfile",baseName:"userProfile",type:"string",format:""},{name:"characterNickname",baseName:"characterNickname",type:"string",format:""},{name:"about",baseName:"about",type:"string",format:""},{name:"backendId",baseName:"backendId",type:"string",format:""},{name:"apiKeyName",baseName:"apiKeyName",type:"string",format:""},{name:"apiKeyValue",baseName:"apiKeyValue",type:"string",format:""},{name:"quota",baseName:"quota",type:"number",format:"int64"},{name:"quotaType",baseName:"quotaType",type:"string",format:""},{name:"ext",baseName:"ext",type:"string",format:""}];class Ue{static getAttributeTypeMap(){return Ue.attributeTypeMap}constructor(){}}Ue.discriminator=void 0;Ue.mapping=void 0;Ue.attributeTypeMap=[{name:"userNickname",baseName:"userNickname",type:"string",format:""},{name:"userProfile",baseName:"userProfile",type:"string",format:""},{name:"characterNickname",baseName:"characterNickname",type:"string",format:""},{name:"about",baseName:"about",type:"string",format:""},{name:"characterUid",baseName:"characterUid",type:"string",format:""},{name:"backendId",baseName:"backendId",type:"string",format:""},{name:"apiKeyName",baseName:"apiKeyName",type:"string",format:""},{name:"apiKeyValue",baseName:"apiKeyValue",type:"string",format:""},{name:"ext",baseName:"ext",type:"string",format:""}];class Ce{static getAttributeTypeMap(){return Ce.attributeTypeMap}constructor(){}}Ce.discriminator=void 0;Ce.mapping=void 0;Ce.attributeTypeMap=[{name:"role",baseName:"role",type:"string",format:""},{name:"name",baseName:"name",type:"string",format:""},{name:"contents",baseName:"contents",type:"Array<ChatContentDTO>",format:""},{name:"toolCalls",baseName:"toolCalls",type:"Array<ChatToolCallDTO>",format:""},{name:"context",baseName:"context",type:"string",format:""},{name:"messageId",baseName:"messageId",type:"number",format:"int64"}];class $e{static getAttributeTypeMap(){return $e.attributeTypeMap}constructor(){}}$e.discriminator=void 0;$e.mapping=void 0;$e.attributeTypeMap=[{name:"message",baseName:"message",type:"ChatMessageDTO",format:""},{name:"gmtCreate",baseName:"gmtCreate",type:"Date",format:"date-time"},{name:"ext",baseName:"ext",type:"string",format:""}];class ta{static getAttributeTypeMap(){return ta.attributeTypeMap}constructor(){}}ta.discriminator=void 0;ta.mapping=void 0;ta.attributeTypeMap=[{name:"system",baseName:"system",type:"string",format:""},{name:"messageToSend",baseName:"messageToSend",type:"ChatMessageDTO",format:""},{name:"messages",baseName:"messages",type:"Array<ChatMessageDTO>",format:""}];class yi{static getAttributeTypeMap(){return yi.attributeTypeMap}constructor(){}}yi.discriminator=void 0;yi.mapping=void 0;yi.attributeTypeMap=[{name:"context",baseName:"context",type:"ChatContextDTO",format:""},{name:"character",baseName:"character",type:"CharacterSummaryDTO",format:""},{name:"provider",baseName:"provider",type:"string",format:""},{name:"latestMessageRecord",baseName:"latestMessageRecord",type:"ChatMessageRecordDTO",format:""},{name:"proactiveChatWaitingTime",baseName:"proactiveChatWaitingTime",type:"number",format:"int32"},{name:"senderStatus",baseName:"senderStatus",type:"string",format:""},{name:"isDebugEnabled",baseName:"isDebugEnabled",type:"boolean",format:""},{name:"isCustomizedApiKeyEnabled",baseName:"isCustomizedApiKeyEnabled",type:"boolean",format:""},{name:"isTtsEnabled",baseName:"isTtsEnabled",type:"boolean",format:""}];class gi{static getAttributeTypeMap(){return gi.attributeTypeMap}constructor(){}}gi.discriminator=void 0;gi.mapping=void 0;gi.attributeTypeMap=[{name:"id",baseName:"id",type:"string",format:""},{name:"name",baseName:"name",type:"string",format:""},{name:"arguments",baseName:"arguments",type:"string",format:""}];class Ke{static getAttributeTypeMap(){return Ke.attributeTypeMap}constructor(){}}Ke.discriminator=void 0;Ke.mapping=void 0;Ke.attributeTypeMap=[{name:"userNickname",baseName:"userNickname",type:"string",format:""},{name:"userProfile",baseName:"userProfile",type:"string",format:""},{name:"characterNickname",baseName:"characterNickname",type:"string",format:""},{name:"about",baseName:"about",type:"string",format:""},{name:"characterUid",baseName:"characterUid",type:"string",format:""},{name:"backendId",baseName:"backendId",type:"string",format:""},{name:"apiKeyName",baseName:"apiKeyName",type:"string",format:""},{name:"apiKeyValue",baseName:"apiKeyValue",type:"string",format:""},{name:"ext",baseName:"ext",type:"string",format:""},{name:"gmtRead",baseName:"gmtRead",type:"Date",format:"date-time"}];class bi{static getAttributeTypeMap(){return bi.attributeTypeMap}constructor(){}}bi.discriminator=void 0;bi.mapping=void 0;bi.attributeTypeMap=[{name:"content",baseName:"content",type:"string",format:""},{name:"count",baseName:"count",type:"number",format:"int64"}];class wi{static getAttributeTypeMap(){return wi.attributeTypeMap}constructor(){}}wi.discriminator=void 0;wi.mapping=void 0;wi.attributeTypeMap=[{name:"requestId",baseName:"requestId",type:"string",format:""},{name:"gmtCreate",baseName:"gmtCreate",type:"Date",format:"date-time"},{name:"gmtModified",baseName:"gmtModified",type:"Date",format:"date-time"},{name:"referType",baseName:"referType",type:"string",format:""},{name:"referId",baseName:"referId",type:"string",format:""},{name:"viewCount",baseName:"viewCount",type:"number",format:"int64"},{name:"referCount",baseName:"referCount",type:"number",format:"int64"},{name:"recommendCount",baseName:"recommendCount",type:"number",format:"int64"},{name:"scoreCount",baseName:"scoreCount",type:"number",format:"int64"},{name:"score",baseName:"score",type:"number",format:"int64"}];class xi{static getAttributeTypeMap(){return xi.attributeTypeMap}constructor(){}}xi.discriminator=void 0;xi.mapping=void 0;xi.attributeTypeMap=[{name:"requestId",baseName:"requestId",type:"string",format:""},{name:"text",baseName:"text",type:"string",format:""},{name:"message",baseName:"message",type:"ChatMessageDTO",format:""},{name:"finishReason",baseName:"finishReason",type:"string",format:""},{name:"tokenUsage",baseName:"tokenUsage",type:"TokenUsageDTO",format:""}];class Ha{static getAttributeTypeMap(){return Ha.attributeTypeMap}constructor(){}}Ha.discriminator=void 0;Ha.mapping=void 0;Ha.attributeTypeMap=[{name:"requestId",baseName:"requestId",type:"string",format:""},{name:"messageUsage",baseName:"messageUsage",type:"number",format:"int64"},{name:"tokenUsage",baseName:"tokenUsage",type:"TokenUsageDTO",format:""}];class Si{static getAttributeTypeMap(){return Si.attributeTypeMap}constructor(){}}Si.discriminator=void 0;Si.mapping=void 0;Si.attributeTypeMap=[{name:"visibility",baseName:"visibility",type:"string",format:""},{name:"name",baseName:"name",type:"string",format:""},{name:"manifestFormat",baseName:"manifestFormat",type:"string",format:""},{name:"manifestInfo",baseName:"manifestInfo",type:"string",format:""},{name:"apiFormat",baseName:"apiFormat",type:"string",format:""},{name:"apiInfo",baseName:"apiInfo",type:"string",format:""},{name:"provider",baseName:"provider",type:"string",format:""},{name:"ext",baseName:"ext",type:"string",format:""},{name:"tags",baseName:"tags",type:"Array<string>",format:""},{name:"aiModels",baseName:"aiModels",type:"Array<string>",format:""}];class Ci{static getAttributeTypeMap(){return Ci.attributeTypeMap}constructor(){}}Ci.discriminator=void 0;Ci.mapping=void 0;Ci.attributeTypeMap=[{name:"requestId",baseName:"requestId",type:"string",format:""},{name:"pluginId",baseName:"pluginId",type:"number",format:"int64"},{name:"pluginUid",baseName:"pluginUid",type:"string",format:""},{name:"gmtCreate",baseName:"gmtCreate",type:"Date",format:"date-time"},{name:"gmtModified",baseName:"gmtModified",type:"Date",format:"date-time"},{name:"visibility",baseName:"visibility",type:"string",format:""},{name:"name",baseName:"name",type:"string",format:""},{name:"provider",baseName:"provider",type:"string",format:""},{name:"manifestFormat",baseName:"manifestFormat",type:"string",format:""},{name:"apiFormat",baseName:"apiFormat",type:"string",format:""},{name:"username",baseName:"username",type:"string",format:""},{name:"tags",baseName:"tags",type:"Array<string>",format:""},{name:"aiModels",baseName:"aiModels",type:"Array<AiModelInfoDTO>",format:""},{name:"manifestInfo",baseName:"manifestInfo",type:"string",format:""},{name:"apiInfo",baseName:"apiInfo",type:"string",format:""},{name:"toolSpecFormat",baseName:"toolSpecFormat",type:"string",format:""},{name:"toolSpecInfo",baseName:"toolSpecInfo",type:"string",format:""},{name:"ext",baseName:"ext",type:"string",format:""}];class Pi{static getAttributeTypeMap(){return Pi.attributeTypeMap}constructor(){}}Pi.discriminator=void 0;Pi.mapping=void 0;Pi.attributeTypeMap=[{name:"where",baseName:"where",type:"PluginQueryWhere",format:""},{name:"orderBy",baseName:"orderBy",type:"Array<string>",format:""},{name:"pageNum",baseName:"pageNum",type:"number",format:"int64"},{name:"pageSize",baseName:"pageSize",type:"number",format:"int64"}];class Ai{static getAttributeTypeMap(){return Ai.attributeTypeMap}constructor(){}}Ai.discriminator=void 0;Ai.mapping=void 0;Ai.attributeTypeMap=[{name:"visibility",baseName:"visibility",type:"string",format:""},{name:"username",baseName:"username",type:"string",format:""},{name:"manifestFormat",baseName:"manifestFormat",type:"string",format:""},{name:"apiFormat",baseName:"apiFormat",type:"string",format:""},{name:"tags",baseName:"tags",type:"Array<string>",format:""},{name:"tagsOp",baseName:"tagsOp",type:"string",format:""},{name:"aiModels",baseName:"aiModels",type:"Array<string>",format:""},{name:"aiModelsOp",baseName:"aiModelsOp",type:"string",format:""},{name:"name",baseName:"name",type:"string",format:""},{name:"provider",baseName:"provider",type:"string",format:""},{name:"text",baseName:"text",type:"string",format:""}];class Ii{static getAttributeTypeMap(){return Ii.attributeTypeMap}constructor(){}}Ii.discriminator=void 0;Ii.mapping=void 0;Ii.attributeTypeMap=[{name:"requestId",baseName:"requestId",type:"string",format:""},{name:"pluginId",baseName:"pluginId",type:"number",format:"int64"},{name:"pluginUid",baseName:"pluginUid",type:"string",format:""},{name:"gmtCreate",baseName:"gmtCreate",type:"Date",format:"date-time"},{name:"gmtModified",baseName:"gmtModified",type:"Date",format:"date-time"},{name:"visibility",baseName:"visibility",type:"string",format:""},{name:"name",baseName:"name",type:"string",format:""},{name:"provider",baseName:"provider",type:"string",format:""},{name:"manifestFormat",baseName:"manifestFormat",type:"string",format:""},{name:"apiFormat",baseName:"apiFormat",type:"string",format:""},{name:"username",baseName:"username",type:"string",format:""},{name:"tags",baseName:"tags",type:"Array<string>",format:""},{name:"aiModels",baseName:"aiModels",type:"Array<AiModelInfoDTO>",format:""}];class Ti{static getAttributeTypeMap(){return Ti.attributeTypeMap}constructor(){}}Ti.discriminator=void 0;Ti.mapping=void 0;Ti.attributeTypeMap=[{name:"requestId",baseName:"requestId",type:"string",format:""},{name:"pluginId",baseName:"pluginId",type:"number",format:"int64"},{name:"pluginUid",baseName:"pluginUid",type:"string",format:""},{name:"gmtCreate",baseName:"gmtCreate",type:"Date",format:"date-time"},{name:"gmtModified",baseName:"gmtModified",type:"Date",format:"date-time"},{name:"visibility",baseName:"visibility",type:"string",format:""},{name:"name",baseName:"name",type:"string",format:""},{name:"provider",baseName:"provider",type:"string",format:""},{name:"manifestFormat",baseName:"manifestFormat",type:"string",format:""},{name:"apiFormat",baseName:"apiFormat",type:"string",format:""},{name:"username",baseName:"username",type:"string",format:""},{name:"tags",baseName:"tags",type:"Array<string>",format:""},{name:"aiModels",baseName:"aiModels",type:"Array<AiModelInfoDTO>",format:""},{name:"viewCount",baseName:"viewCount",type:"number",format:"int64"},{name:"referCount",baseName:"referCount",type:"number",format:"int64"},{name:"recommendCount",baseName:"recommendCount",type:"number",format:"int64"},{name:"scoreCount",baseName:"scoreCount",type:"number",format:"int64"},{name:"score",baseName:"score",type:"number",format:"int64"}];class vi{static getAttributeTypeMap(){return vi.attributeTypeMap}constructor(){}}vi.discriminator=void 0;vi.mapping=void 0;vi.attributeTypeMap=[{name:"visibility",baseName:"visibility",type:"string",format:""},{name:"name",baseName:"name",type:"string",format:""},{name:"manifestFormat",baseName:"manifestFormat",type:"string",format:""},{name:"manifestInfo",baseName:"manifestInfo",type:"string",format:""},{name:"apiFormat",baseName:"apiFormat",type:"string",format:""},{name:"apiInfo",baseName:"apiInfo",type:"string",format:""},{name:"provider",baseName:"provider",type:"string",format:""},{name:"ext",baseName:"ext",type:"string",format:""},{name:"tags",baseName:"tags",type:"Array<string>",format:""},{name:"aiModels",baseName:"aiModels",type:"Array<string>",format:""}];class Wa{static getAttributeTypeMap(){return Wa.attributeTypeMap}constructor(){}}Wa.discriminator=void 0;Wa.mapping=void 0;Wa.attributeTypeMap=[{name:"prompt",baseName:"prompt",type:"string",format:""},{name:"promptTemplate",baseName:"promptTemplate",type:"PromptTemplateDTO",format:""},{name:"promptRef",baseName:"promptRef",type:"PromptRefDTO",format:""},{name:"params",baseName:"params",type:"{ [key: string]: any; }",format:""}];class ga{static getAttributeTypeMap(){return ga.attributeTypeMap}constructor(){}}ga.discriminator=void 0;ga.mapping=void 0;ga.attributeTypeMap=[{name:"parentUid",baseName:"parentUid",type:"string",format:""},{name:"visibility",baseName:"visibility",type:"string",format:""},{name:"name",baseName:"name",type:"string",format:""},{name:"description",baseName:"description",type:"string",format:""},{name:"template",baseName:"template",type:"string",format:""},{name:"chatTemplate",baseName:"chatTemplate",type:"ChatPromptContentDTO",format:""},{name:"format",baseName:"format",type:"string",format:""},{name:"lang",baseName:"lang",type:"string",format:""},{name:"example",baseName:"example",type:"string",format:""},{name:"inputs",baseName:"inputs",type:"string",format:""},{name:"ext",baseName:"ext",type:"string",format:""},{name:"draft",baseName:"draft",type:"string",format:""},{name:"tags",baseName:"tags",type:"Array<string>",format:""},{name:"aiModels",baseName:"aiModels",type:"Array<string>",format:""}];class ua{static getAttributeTypeMap(){return ua.attributeTypeMap}constructor(){}}ua.discriminator=void 0;ua.mapping=void 0;ua.attributeTypeMap=[{name:"requestId",baseName:"requestId",type:"string",format:""},{name:"promptId",baseName:"promptId",type:"number",format:"int64"},{name:"promptUid",baseName:"promptUid",type:"string",format:""},{name:"gmtCreate",baseName:"gmtCreate",type:"Date",format:"date-time"},{name:"gmtModified",baseName:"gmtModified",type:"Date",format:"date-time"},{name:"parentUid",baseName:"parentUid",type:"string",format:""},{name:"visibility",baseName:"visibility",type:"string",format:""},{name:"version",baseName:"version",type:"number",format:"int32"},{name:"name",baseName:"name",type:"string",format:""},{name:"type",baseName:"type",type:"string",format:""},{name:"description",baseName:"description",type:"string",format:""},{name:"format",baseName:"format",type:"string",format:""},{name:"lang",baseName:"lang",type:"string",format:""},{name:"username",baseName:"username",type:"string",format:""},{name:"tags",baseName:"tags",type:"Array<string>",format:""},{name:"aiModels",baseName:"aiModels",type:"Array<AiModelInfoDTO>",format:""},{name:"template",baseName:"template",type:"string",format:""},{name:"chatTemplate",baseName:"chatTemplate",type:"ChatPromptContentDTO",format:""},{name:"example",baseName:"example",type:"string",format:""},{name:"inputs",baseName:"inputs",type:"string",format:""},{name:"ext",baseName:"ext",type:"string",format:""},{name:"draft",baseName:"draft",type:"string",format:""}];class ji{static getAttributeTypeMap(){return ji.attributeTypeMap}constructor(){}}ji.discriminator=void 0;ji.mapping=void 0;ji.attributeTypeMap=[{name:"promptId",baseName:"promptId",type:"number",format:"int64"},{name:"version",baseName:"version",type:"number",format:"int32"},{name:"stats",baseName:"stats",type:"InteractiveStatsDTO",format:""}];class Se{static getAttributeTypeMap(){return Se.attributeTypeMap}constructor(){}}Se.discriminator=void 0;Se.mapping=void 0;Se.attributeTypeMap=[{name:"where",baseName:"where",type:"PromptQueryWhere",format:""},{name:"orderBy",baseName:"orderBy",type:"Array<string>",format:""},{name:"pageNum",baseName:"pageNum",type:"number",format:"int64"},{name:"pageSize",baseName:"pageSize",type:"number",format:"int64"}];class Ie{static getAttributeTypeMap(){return Ie.attributeTypeMap}constructor(){}}Ie.discriminator=void 0;Ie.mapping=void 0;Ie.attributeTypeMap=[{name:"visibility",baseName:"visibility",type:"string",format:""},{name:"username",baseName:"username",type:"string",format:""},{name:"tags",baseName:"tags",type:"Array<string>",format:""},{name:"tagsOp",baseName:"tagsOp",type:"string",format:""},{name:"aiModels",baseName:"aiModels",type:"Array<string>",format:""},{name:"aiModelsOp",baseName:"aiModelsOp",type:"string",format:""},{name:"name",baseName:"name",type:"string",format:""},{name:"type",baseName:"type",type:"string",format:""},{name:"lang",baseName:"lang",type:"string",format:""},{name:"text",baseName:"text",type:"string",format:""}];class Ra{static getAttributeTypeMap(){return Ra.attributeTypeMap}constructor(){}}Ra.discriminator=void 0;Ra.mapping=void 0;Ra.attributeTypeMap=[{name:"promptId",baseName:"promptId",type:"number",format:"int64"},{name:"variables",baseName:"variables",type:"{ [key: string]: any; }",format:""},{name:"draft",baseName:"draft",type:"boolean",format:""}];class ki{static getAttributeTypeMap(){return ki.attributeTypeMap}constructor(){}}ki.discriminator=void 0;ki.mapping=void 0;ki.attributeTypeMap=[{name:"requestId",baseName:"requestId",type:"string",format:""},{name:"promptId",baseName:"promptId",type:"number",format:"int64"},{name:"promptUid",baseName:"promptUid",type:"string",format:""},{name:"gmtCreate",baseName:"gmtCreate",type:"Date",format:"date-time"},{name:"gmtModified",baseName:"gmtModified",type:"Date",format:"date-time"},{name:"parentUid",baseName:"parentUid",type:"string",format:""},{name:"visibility",baseName:"visibility",type:"string",format:""},{name:"version",baseName:"version",type:"number",format:"int32"},{name:"name",baseName:"name",type:"string",format:""},{name:"type",baseName:"type",type:"string",format:""},{name:"description",baseName:"description",type:"string",format:""},{name:"format",baseName:"format",type:"string",format:""},{name:"lang",baseName:"lang",type:"string",format:""},{name:"username",baseName:"username",type:"string",format:""},{name:"tags",baseName:"tags",type:"Array<string>",format:""},{name:"aiModels",baseName:"aiModels",type:"Array<AiModelInfoDTO>",format:""}];class Hi{static getAttributeTypeMap(){return Hi.attributeTypeMap}constructor(){}}Hi.discriminator=void 0;Hi.mapping=void 0;Hi.attributeTypeMap=[{name:"requestId",baseName:"requestId",type:"string",format:""},{name:"promptId",baseName:"promptId",type:"number",format:"int64"},{name:"promptUid",baseName:"promptUid",type:"string",format:""},{name:"gmtCreate",baseName:"gmtCreate",type:"Date",format:"date-time"},{name:"gmtModified",baseName:"gmtModified",type:"Date",format:"date-time"},{name:"parentUid",baseName:"parentUid",type:"string",format:""},{name:"visibility",baseName:"visibility",type:"string",format:""},{name:"version",baseName:"version",type:"number",format:"int32"},{name:"name",baseName:"name",type:"string",format:""},{name:"type",baseName:"type",type:"string",format:""},{name:"description",baseName:"description",type:"string",format:""},{name:"format",baseName:"format",type:"string",format:""},{name:"lang",baseName:"lang",type:"string",format:""},{name:"username",baseName:"username",type:"string",format:""},{name:"tags",baseName:"tags",type:"Array<string>",format:""},{name:"aiModels",baseName:"aiModels",type:"Array<AiModelInfoDTO>",format:""},{name:"viewCount",baseName:"viewCount",type:"number",format:"int64"},{name:"referCount",baseName:"referCount",type:"number",format:"int64"},{name:"recommendCount",baseName:"recommendCount",type:"number",format:"int64"},{name:"scoreCount",baseName:"scoreCount",type:"number",format:"int64"},{name:"score",baseName:"score",type:"number",format:"int64"}];class ba{static getAttributeTypeMap(){return ba.attributeTypeMap}constructor(){}}ba.discriminator=void 0;ba.mapping=void 0;ba.attributeTypeMap=[{name:"promptRef",baseName:"promptRef",type:"PromptRefDTO",format:""},{name:"modelId",baseName:"modelId",type:"string",format:""},{name:"apiKeyName",baseName:"apiKeyName",type:"string",format:""},{name:"apiKeyValue",baseName:"apiKeyValue",type:"string",format:""},{name:"params",baseName:"params",type:"{ [key: string]: any; }",format:""},{name:"cron",baseName:"cron",type:"string",format:""},{name:"status",baseName:"status",type:"string",format:""}];class Wi{static getAttributeTypeMap(){return Wi.attributeTypeMap}constructor(){}}Wi.discriminator=void 0;Wi.mapping=void 0;Wi.attributeTypeMap=[{name:"requestId",baseName:"requestId",type:"string",format:""},{name:"taskId",baseName:"taskId",type:"string",format:""},{name:"gmtCreate",baseName:"gmtCreate",type:"Date",format:"date-time"},{name:"gmtModified",baseName:"gmtModified",type:"Date",format:"date-time"},{name:"gmtStart",baseName:"gmtStart",type:"Date",format:"date-time"},{name:"gmtEnd",baseName:"gmtEnd",type:"Date",format:"date-time"},{name:"promptRef",baseName:"promptRef",type:"PromptRefDTO",format:""},{name:"modelId",baseName:"modelId",type:"string",format:""},{name:"apiKeyName",baseName:"apiKeyName",type:"string",format:""},{name:"apiKeyValue",baseName:"apiKeyValue",type:"string",format:""},{name:"params",baseName:"params",type:"{ [key: string]: any; }",format:""},{name:"cron",baseName:"cron",type:"string",format:""},{name:"status",baseName:"status",type:"string",format:""},{name:"ext",baseName:"ext",type:"string",format:""}];class wa{static getAttributeTypeMap(){return wa.attributeTypeMap}constructor(){}}wa.discriminator=void 0;wa.mapping=void 0;wa.attributeTypeMap=[{name:"template",baseName:"template",type:"string",format:""},{name:"chatTemplate",baseName:"chatTemplate",type:"ChatPromptContentDTO",format:""},{name:"variables",baseName:"variables",type:"{ [key: string]: any; }",format:""},{name:"format",baseName:"format",type:"string",format:""}];class pa{static getAttributeTypeMap(){return pa.attributeTypeMap}constructor(){}}pa.discriminator=void 0;pa.mapping=void 0;pa.attributeTypeMap=[{name:"parentUid",baseName:"parentUid",type:"string",format:""},{name:"visibility",baseName:"visibility",type:"string",format:""},{name:"name",baseName:"name",type:"string",format:""},{name:"description",baseName:"description",type:"string",format:""},{name:"template",baseName:"template",type:"string",format:""},{name:"chatTemplate",baseName:"chatTemplate",type:"ChatPromptContentDTO",format:""},{name:"format",baseName:"format",type:"string",format:""},{name:"lang",baseName:"lang",type:"string",format:""},{name:"example",baseName:"example",type:"string",format:""},{name:"inputs",baseName:"inputs",type:"string",format:""},{name:"ext",baseName:"ext",type:"string",format:""},{name:"draft",baseName:"draft",type:"string",format:""},{name:"tags",baseName:"tags",type:"Array<string>",format:""},{name:"aiModels",baseName:"aiModels",type:"Array<string>",format:""}];class Na{static getAttributeTypeMap(){return Na.attributeTypeMap}constructor(){}}Na.discriminator=void 0;Na.mapping=void 0;Na.attributeTypeMap=[{name:"sourceType",baseName:"sourceType",type:"string",format:""},{name:"source",baseName:"source",type:"string",format:""},{name:"maxSegmentSize",baseName:"maxSegmentSize",type:"number",format:"int32"},{name:"maxOverlapSize",baseName:"maxOverlapSize",type:"number",format:"int32"}];class Ri{static getAttributeTypeMap(){return Ri.attributeTypeMap}constructor(){}}Ri.discriminator=void 0;Ri.mapping=void 0;Ri.attributeTypeMap=[{name:"requestId",baseName:"requestId",type:"string",format:""},{name:"id",baseName:"id",type:"number",format:"int64"},{name:"gmtCreate",baseName:"gmtCreate",type:"Date",format:"date-time"},{name:"gmtModified",baseName:"gmtModified",type:"Date",format:"date-time"},{name:"gmtStart",baseName:"gmtStart",type:"Date",format:"date-time"},{name:"gmtEnd",baseName:"gmtEnd",type:"Date",format:"date-time"},{name:"characterUid",baseName:"characterUid",type:"string",format:""},{name:"sourceType",baseName:"sourceType",type:"string",format:""},{name:"source",baseName:"source",type:"string",format:""},{name:"maxSegmentSize",baseName:"maxSegmentSize",type:"number",format:"int32"},{name:"maxOverlapSize",baseName:"maxOverlapSize",type:"number",format:"int32"},{name:"status",baseName:"status",type:"string",format:""},{name:"ext",baseName:"ext",type:"string",format:""}];class Ni{static getAttributeTypeMap(){return Ni.attributeTypeMap}constructor(){}}Ni.discriminator=void 0;Ni.mapping=void 0;Ni.attributeTypeMap=[{name:"timeout",baseName:"timeout",type:"number",format:"int64"}];class za{static getAttributeTypeMap(){return za.attributeTypeMap}constructor(){}}za.discriminator=void 0;za.mapping=void 0;za.attributeTypeMap=[{name:"inputTokenCount",baseName:"inputTokenCount",type:"number",format:"int32"},{name:"outputTokenCount",baseName:"outputTokenCount",type:"number",format:"int32"},{name:"totalTokenCount",baseName:"totalTokenCount",type:"number",format:"int32"}];class zi{static getAttributeTypeMap(){return zi.attributeTypeMap}constructor(){}}zi.discriminator=void 0;zi.mapping=void 0;zi.attributeTypeMap=[{name:"requestId",baseName:"requestId",type:"string",format:""},{name:"username",baseName:"username",type:"string",format:""},{name:"nickname",baseName:"nickname",type:"string",format:""},{name:"picture",baseName:"picture",type:"string",format:""}];class Ma{static getAttributeTypeMap(){return Ma.attributeTypeMap}constructor(){}}Ma.discriminator=void 0;Ma.mapping=void 0;Ma.attributeTypeMap=[{name:"requestId",baseName:"requestId",type:"string",format:""},{name:"username",baseName:"username",type:"string",format:""},{name:"nickname",baseName:"nickname",type:"string",format:""},{name:"givenName",baseName:"givenName",type:"string",format:""},{name:"middleName",baseName:"middleName",type:"string",format:""},{name:"familyName",baseName:"familyName",type:"string",format:""},{name:"preferredUsername",baseName:"preferredUsername",type:"string",format:""},{name:"profile",baseName:"profile",type:"string",format:""},{name:"picture",baseName:"picture",type:"string",format:""},{name:"website",baseName:"website",type:"string",format:""},{name:"email",baseName:"email",type:"string",format:""},{name:"gender",baseName:"gender",type:"string",format:""},{name:"birthdate",baseName:"birthdate",type:"Date",format:"date-time"},{name:"zoneinfo",baseName:"zoneinfo",type:"string",format:""},{name:"locale",baseName:"locale",type:"string",format:""},{name:"phoneNumber",baseName:"phoneNumber",type:"string",format:""},{name:"updatedAt",baseName:"updatedAt",type:"Date",format:"date-time"},{name:"platform",baseName:"platform",type:"string",format:""},{name:"enabled",baseName:"enabled",type:"boolean",format:""},{name:"locked",baseName:"locked",type:"boolean",format:""},{name:"expiresAt",baseName:"expiresAt",type:"Date",format:"date-time"},{name:"passwordExpiresAt",baseName:"passwordExpiresAt",type:"Date",format:"date-time"},{name:"address",baseName:"address",type:"string",format:""}];class Mi{static getAttributeTypeMap(){return Mi.attributeTypeMap}constructor(){}}Mi.discriminator=void 0;Mi.mapping=void 0;Mi.attributeTypeMap=[{name:"requestId",baseName:"requestId",type:"string",format:""},{name:"username",baseName:"username",type:"string",format:""},{name:"nickname",baseName:"nickname",type:"string",format:""},{name:"givenName",baseName:"givenName",type:"string",format:""},{name:"middleName",baseName:"middleName",type:"string",format:""},{name:"familyName",baseName:"familyName",type:"string",format:""},{name:"preferredUsername",baseName:"preferredUsername",type:"string",format:""},{name:"profile",baseName:"profile",type:"string",format:""},{name:"picture",baseName:"picture",type:"string",format:""},{name:"website",baseName:"website",type:"string",format:""},{name:"email",baseName:"email",type:"string",format:""},{name:"gender",baseName:"gender",type:"string",format:""},{name:"birthdate",baseName:"birthdate",type:"Date",format:"date-time"},{name:"zoneinfo",baseName:"zoneinfo",type:"string",format:""},{name:"locale",baseName:"locale",type:"string",format:""},{name:"phoneNumber",baseName:"phoneNumber",type:"string",format:""},{name:"updatedAt",baseName:"updatedAt",type:"Date",format:"date-time"},{name:"platform",baseName:"platform",type:"string",format:""},{name:"enabled",baseName:"enabled",type:"boolean",format:""},{name:"locked",baseName:"locked",type:"boolean",format:""},{name:"expiresAt",baseName:"expiresAt",type:"Date",format:"date-time"},{name:"passwordExpiresAt",baseName:"passwordExpiresAt",type:"Date",format:"date-time"},{name:"address",baseName:"address",type:"string",format:""},{name:"password",baseName:"password",type:"string",format:""}];class uc{constructor(t){this.middleware=t}pre(t){return x(this.middleware.pre(t))}post(t){return x(this.middleware.post(t))}}class Yn{constructor(t,e){this.url=t,this.variableConfiguration=e}setVariables(t){Object.assign(this.variableConfiguration,t)}getConfiguration(){return this.variableConfiguration}getUrl(){let t=this.url;for(const[e,a]of Object.entries(this.variableConfiguration))t=t.replaceAll(`{${e}}`,a);return t}makeRequestContext(t,e){return new cc(this.getUrl()+t,e)}}const Jn=new Yn("http://127.0.0.1:8080",{}),pc=[Jn];function hc(p={}){const t={baseServer:p.baseServer!==void 0?p.baseServer:Jn,httpApi:p.httpApi||new sc,middleware:p.middleware||[],authMethods:dc(p.authMethods)};return p.promiseMiddleware&&p.promiseMiddleware.forEach(e=>t.middleware.push(new uc(e))),t}class A extends Error{constructor(t,e,a,s){super("HTTP-Code: "+t+`
Message: `+e+`
Body: `+JSON.stringify(a)+`
Headers: `+JSON.stringify(s)),this.code=t,this.body=a,this.headers=s}}class se{constructor(t){this.configuration=t}}class w extends Error{constructor(t,e,a){super("Required parameter "+a+" was null or undefined when calling "+t+"."+e+"."),this.api=t,this.method=e,this.field=a,this.name="RequiredError"}}let Pr=["string","boolean","double","integer","long","float","number","any"],Ar=new Set([]),Fe={AgentCreateDTO:ti,AgentDetailsDTO:ei,AgentItemForNameDTO:ai,AgentQueryDTO:ii,AgentQueryWhere:ri,AgentSummaryDTO:ni,AgentSummaryStatsDTO:oi,AgentUpdateDTO:si,AiApiKeyCreateDTO:va,AiApiKeyInfoDTO:ci,AiModelInfoDTO:li,ApiTokenInfoDTO:di,AppMetaDTO:ui,CharacterBackendDTO:ja,CharacterBackendDetailsDTO:ya,CharacterCreateDTO:ka,CharacterDetailsDTO:da,CharacterItemForNameDTO:pi,CharacterQueryDTO:ne,CharacterQueryWhere:le,CharacterSummaryDTO:hi,CharacterSummaryStatsDTO:mi,CharacterUpdateDTO:Le,ChatContentDTO:Ye,ChatContextDTO:fi,ChatCreateDTO:Ue,ChatMessageDTO:Ce,ChatMessageRecordDTO:$e,ChatPromptContentDTO:ta,ChatSessionDTO:yi,ChatToolCallDTO:gi,ChatUpdateDTO:Ke,HotTagDTO:bi,InteractiveStatsDTO:wi,LlmResultDTO:xi,MemoryUsageDTO:Ha,PluginCreateDTO:Si,PluginDetailsDTO:Ci,PluginQueryDTO:Pi,PluginQueryWhere:Ai,PluginSummaryDTO:Ii,PluginSummaryStatsDTO:Ti,PluginUpdateDTO:vi,PromptAiParamDTO:Wa,PromptCreateDTO:ga,PromptDetailsDTO:ua,PromptItemForNameDTO:ji,PromptQueryDTO:Se,PromptQueryWhere:Ie,PromptRefDTO:Ra,PromptSummaryDTO:ki,PromptSummaryStatsDTO:Hi,PromptTaskDTO:ba,PromptTaskDetailsDTO:Wi,PromptTemplateDTO:wa,PromptUpdateDTO:pa,RagTaskDTO:Na,RagTaskDetailsDTO:Ri,SseEmitter:Ni,TokenUsageDTO:za,UserBasicInfoDTO:zi,UserDetailsDTO:Ma,UserFullDetailsDTO:Mi};const mc=p=>{const[t="",e=""]=p.split("/");return{type:t,subtype:e,subtypeTokens:e.split("+")}},Xn=p=>t=>p(mc(t)),ur=(p,t)=>Xn(e=>!(e.type!==p||t!=null&&e.subtype!==t)),Hr=ur("text"),fc=ur("application","json"),Wr=Xn(p=>p.type==="application"&&p.subtypeTokens.some(t=>t==="json")),yc=ur("application","octet-stream"),gc=ur("application","x-www-form-urlencoded"),bc=[fc,Wr,Hr,yc,gc],Ki=" | null",Gi=" | undefined",Qi="Array<",ln=">",Yi="{ [key: string]: ",dn="; }";class d{static findCorrectType(t,e){if(t==null)return e;if(Pr.indexOf(e.toLowerCase())!==-1)return e;if(e==="Date")return e;{if(Ar.has(e)||!Fe[e])return e;let s=Fe[e].discriminator;if(s==null)return e;if(t[s]){var a=t[s];let r=Fe[e].mapping;return r!=null&&r[a]?r[a]:Fe[a]?a:e}else return e}}static serialize(t,e,a){if(t==null)return t;if(Pr.indexOf(e.toLowerCase())!==-1)return t;if(e.endsWith(Ki)){let s=e.slice(0,-Ki.length);return d.serialize(t,s,a)}else if(e.endsWith(Gi)){let s=e.slice(0,-Gi.length);return d.serialize(t,s,a)}else if(e.startsWith(Qi)){let s=e.slice(Qi.length,-ln.length),r=[];for(let i of t)r.push(d.serialize(i,s,a));return r}else if(e.startsWith(Yi)){let s=e.slice(Yi.length,-dn.length),r={};for(let i in t)r[i]=d.serialize(t[i],s,a);return r}else if(e==="Date")if(a=="date"){let s=t.getMonth()+1;s=s<10?"0"+s.toString():s.toString();let r=t.getDate();return r=r<10?"0"+r.toString():r.toString(),t.getFullYear()+"-"+s+"-"+r}else return t.toISOString();else{if(Ar.has(e)||!Fe[e])return t;e=this.findCorrectType(t,e);let s=Fe[e].getAttributeTypeMap(),r={};for(let i of s)r[i.baseName]=d.serialize(t[i.name],i.type,i.format);return r}}static deserialize(t,e,a){if(e=d.findCorrectType(t,e),t==null)return t;if(Pr.indexOf(e.toLowerCase())!==-1)return t;if(e.endsWith(Ki)){let s=e.slice(0,-Ki.length);return d.deserialize(t,s,a)}else if(e.endsWith(Gi)){let s=e.slice(0,-Gi.length);return d.deserialize(t,s,a)}else if(e.startsWith(Qi)){let s=e.slice(Qi.length,-ln.length),r=[];for(let i of t)r.push(d.deserialize(i,s,a));return r}else if(e.startsWith(Yi)){let s=e.slice(Yi.length,-dn.length),r={};for(let i in t)r[i]=d.deserialize(t[i],s,a);return r}else{if(e==="Date")return new Date(t);{if(Ar.has(e)||!Fe[e])return t;let s=new Fe[e],r=Fe[e].getAttributeTypeMap();for(let i of r){let n=d.deserialize(t[i.baseName],i.type,i.format);n!==void 0&&(s[i.name]=n)}return s}}}static normalizeMediaType(t){if(t!==void 0)return(t.split(";")[0]??"").trim().toLowerCase()}static getPreferredMediaType(t){if(t.length===0)return"application/json";const e=t.map(d.normalizeMediaType);for(const a of bc)for(const s of e)if(s!=null&&a(s))return s;throw new Error("None of the given media types are supported: "+t.join(", "))}static stringify(t,e){if(Hr(e))return String(t);if(Wr(e))return JSON.stringify(t);throw new Error("The mediaType "+e+" is not supported by ObjectSerializer.stringify.")}static parse(t,e){if(e===void 0)throw new Error("Cannot parse content. No Content-Type defined.");if(Hr(e))return t;if(Wr(e))return JSON.parse(t);throw new Error("The mediaType "+e+" is not supported by ObjectSerializer.parse.")}}function I(p,t){if(p==t.toString())return!0;{const e=t.toString();if(e.length!=p.length)return!1;for(let a=0;a<e.length;a++)if(p.charAt(a)!="X"&&p.charAt(a)!=e.charAt(a))return!1;return!0}}function Ca(p){return p.indexOf("multipart/form-data")!==-1}class wc extends se{async addAiApiKey(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("AIServiceApi","addAiApiKey","aiApiKeyCreateDTO");const r=a.baseServer.makeRequestContext("/api/v2/ai/apikey",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"AiApiKeyCreateDTO",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async deleteAiApiKey(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("AIServiceApi","deleteAiApiKey","id");const s="/api/v2/ai/apikey/{id}".replace("{id}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.DELETE);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async disableAiApiKey(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("AIServiceApi","disableAiApiKey","id");const s="/api/v2/ai/apikey/disable/{id}".replace("{id}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.PUT);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async enableAiApiKey(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("AIServiceApi","enableAiApiKey","id");const s="/api/v2/ai/apikey/enable/{id}".replace("{id}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.PUT);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async getAiApiKey(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("AIServiceApi","getAiApiKey","id");const s="/api/v2/ai/apikey/{id}".replace("{id}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async listAiApiKeys(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("AIServiceApi","listAiApiKeys","provider");const s="/api/v2/ai/apikeys/{provider}".replace("{provider}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}}class xc{async addAiApiKeyWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async deleteAiApiKeyWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async disableAiApiKeyWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async enableAiApiKeyWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async getAiApiKeyWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"AiApiKeyInfoDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"AiApiKeyInfoDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listAiApiKeysWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<AiApiKeyInfoDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<AiApiKeyInfoDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}}class Sc extends se{async createToken(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("AccountApi","createToken","duration");const s="/api/v2/account/token/{duration}".replace("{duration}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async createToken1(t){var n,c,l;let e=t||this.configuration;const s=e.baseServer.makeRequestContext("/api/v2/account/token",S.POST);s.setHeaderParam("Accept","application/json, */*;q=0.8");let r;r=e.authMethods.bearerAuth,r!=null&&r.applySecurityAuthentication&&await(r==null?void 0:r.applySecurityAuthentication(s));const i=((n=t==null?void 0:t.authMethods)==null?void 0:n.default)||((l=(c=this.configuration)==null?void 0:c.authMethods)==null?void 0:l.default);return i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(s)),s}async deleteToken(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("AccountApi","deleteToken","token");const s="/api/v2/account/token/{token}".replace("{token}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.DELETE);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async deleteTokenById(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("AccountApi","deleteTokenById","id");const s="/api/v2/account/token/id/{id}".replace("{id}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.DELETE);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async disableToken(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("AccountApi","disableToken","token");const s="/api/v2/account/token/{token}".replace("{token}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.PUT);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async disableTokenById(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("AccountApi","disableTokenById","id");const s="/api/v2/account/token/id/{id}".replace("{id}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.PUT);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async getTokenById(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("AccountApi","getTokenById","id");const s="/api/v2/account/token/id/{id}".replace("{id}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async getUserBasic(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("AccountApi","getUserBasic","username");const s="/api/v2/account/basic/{username}".replace("{username}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async getUserBasic1(t){var n,c,l;let e=t||this.configuration;const s=e.baseServer.makeRequestContext("/api/v2/account/basic",S.GET);s.setHeaderParam("Accept","application/json, */*;q=0.8");let r;r=e.authMethods.bearerAuth,r!=null&&r.applySecurityAuthentication&&await(r==null?void 0:r.applySecurityAuthentication(s));const i=((n=t==null?void 0:t.authMethods)==null?void 0:n.default)||((l=(c=this.configuration)==null?void 0:c.authMethods)==null?void 0:l.default);return i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(s)),s}async getUserDetails(t){var n,c,l;let e=t||this.configuration;const s=e.baseServer.makeRequestContext("/api/v2/account/details",S.GET);s.setHeaderParam("Accept","application/json, */*;q=0.8");let r;r=e.authMethods.bearerAuth,r!=null&&r.applySecurityAuthentication&&await(r==null?void 0:r.applySecurityAuthentication(s));const i=((n=t==null?void 0:t.authMethods)==null?void 0:n.default)||((l=(c=this.configuration)==null?void 0:c.authMethods)==null?void 0:l.default);return i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(s)),s}async listTokens(t){var n,c,l;let e=t||this.configuration;const s=e.baseServer.makeRequestContext("/api/v2/account/tokens",S.GET);s.setHeaderParam("Accept","application/json, */*;q=0.8");let r;r=e.authMethods.bearerAuth,r!=null&&r.applySecurityAuthentication&&await(r==null?void 0:r.applySecurityAuthentication(s));const i=((n=t==null?void 0:t.authMethods)==null?void 0:n.default)||((l=(c=this.configuration)==null?void 0:c.authMethods)==null?void 0:l.default);return i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(s)),s}async updateUserInfo(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("AccountApi","updateUserInfo","userDetailsDTO");const r=a.baseServer.makeRequestContext("/api/v2/account/details",S.PUT);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"UserDetailsDTO",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async uploadUserPicture(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("AccountApi","uploadUserPicture","file");const r=a.baseServer.makeRequestContext("/api/v2/account/picture",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=Ca(["multipart/form-data"]);let n;if(i?n=new FormData:n=new URLSearchParams,t!==void 0&&n instanceof FormData&&n.append("file",t,t.name),r.setBody(n),!i){const b=d.getPreferredMediaType(["multipart/form-data"]);r.setHeaderParam("Content-Type",b)}let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}}class Cc{async createTokenWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async createToken1WithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async deleteTokenWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async deleteTokenByIdWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async disableTokenWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async disableTokenByIdWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async getTokenByIdWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async getUserBasicWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"UserBasicInfoDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"UserBasicInfoDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async getUserBasic1WithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"UserBasicInfoDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"UserBasicInfoDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async getUserDetailsWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"UserDetailsDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"UserDetailsDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listTokensWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<ApiTokenInfoDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<ApiTokenInfoDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async updateUserInfoWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async uploadUserPictureWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}}class Pc extends se{async createTokenForUser(t,e,a){var l,u,f;let s=a||this.configuration;if(t==null)throw new w("AccountManagerForAdminApi","createTokenForUser","username");if(e==null)throw new w("AccountManagerForAdminApi","createTokenForUser","duration");const r="/api/v2/admin/token/{username}/{duration}".replace("{username}",encodeURIComponent(String(t))).replace("{duration}",encodeURIComponent(String(e))),i=s.baseServer.makeRequestContext(r,S.POST);i.setHeaderParam("Accept","application/json, */*;q=0.8");let n;n=s.authMethods.bearerAuth,n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(i));const c=((l=a==null?void 0:a.authMethods)==null?void 0:l.default)||((f=(u=this.configuration)==null?void 0:u.authMethods)==null?void 0:f.default);return c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(i)),i}async createUser(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("AccountManagerForAdminApi","createUser","userFullDetailsDTO");const r=a.baseServer.makeRequestContext("/api/v2/admin/user",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"UserFullDetailsDTO",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async deleteTokenForUser(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("AccountManagerForAdminApi","deleteTokenForUser","token");const s="/api/v2/admin/token/{token}".replace("{token}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.DELETE);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async deleteUser(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("AccountManagerForAdminApi","deleteUser","username");const s="/api/v2/admin/user/{username}".replace("{username}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.DELETE);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async disableTokenForUser(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("AccountManagerForAdminApi","disableTokenForUser","token");const s="/api/v2/admin/token/{token}".replace("{token}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.PUT);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async getDetailsOfUser(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("AccountManagerForAdminApi","getDetailsOfUser","username");const s="/api/v2/admin/user/{username}".replace("{username}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async getUserByToken(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("AccountManagerForAdminApi","getUserByToken","token");const s="/api/v2/admin/tokenBy/{token}".replace("{token}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async listAuthoritiesOfUser(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("AccountManagerForAdminApi","listAuthoritiesOfUser","username");const s="/api/v2/admin/authority/{username}".replace("{username}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async listTokensOfUser(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("AccountManagerForAdminApi","listTokensOfUser","username");const s="/api/v2/admin/token/{username}".replace("{username}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async listUsers(t,e,a){var l,u,f;let s=a||this.configuration;if(t==null)throw new w("AccountManagerForAdminApi","listUsers","pageSize");if(e==null)throw new w("AccountManagerForAdminApi","listUsers","pageNum");const r="/api/v2/admin/users/{pageSize}/{pageNum}".replace("{pageSize}",encodeURIComponent(String(t))).replace("{pageNum}",encodeURIComponent(String(e))),i=s.baseServer.makeRequestContext(r,S.GET);i.setHeaderParam("Accept","application/json, */*;q=0.8");let n;n=s.authMethods.bearerAuth,n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(i));const c=((l=a==null?void 0:a.authMethods)==null?void 0:l.default)||((f=(u=this.configuration)==null?void 0:u.authMethods)==null?void 0:f.default);return c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(i)),i}async listUsers1(t){var n,c,l;let e=t||this.configuration;const s=e.baseServer.makeRequestContext("/api/v2/admin/users",S.GET);s.setHeaderParam("Accept","application/json, */*;q=0.8");let r;r=e.authMethods.bearerAuth,r!=null&&r.applySecurityAuthentication&&await(r==null?void 0:r.applySecurityAuthentication(s));const i=((n=t==null?void 0:t.authMethods)==null?void 0:n.default)||((l=(c=this.configuration)==null?void 0:c.authMethods)==null?void 0:l.default);return i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(s)),s}async listUsers2(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("AccountManagerForAdminApi","listUsers2","pageSize");const s="/api/v2/admin/users/{pageSize}".replace("{pageSize}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async updateAuthoritiesOfUser(t,e,a){var f,y,b;let s=a||this.configuration;if(t==null)throw new w("AccountManagerForAdminApi","updateAuthoritiesOfUser","username");if(e==null)throw new w("AccountManagerForAdminApi","updateAuthoritiesOfUser","requestBody");const r="/api/v2/admin/authority/{username}".replace("{username}",encodeURIComponent(String(t))),i=s.baseServer.makeRequestContext(r,S.PUT);i.setHeaderParam("Accept","application/json, */*;q=0.8");const n=d.getPreferredMediaType(["application/json"]);i.setHeaderParam("Content-Type",n);const c=d.stringify(d.serialize(e,"Set<string>",""),n);i.setBody(c);let l;l=s.authMethods.bearerAuth,l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(i));const u=((f=a==null?void 0:a.authMethods)==null?void 0:f.default)||((b=(y=this.configuration)==null?void 0:y.authMethods)==null?void 0:b.default);return u!=null&&u.applySecurityAuthentication&&await(u==null?void 0:u.applySecurityAuthentication(i)),i}async updateUser(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("AccountManagerForAdminApi","updateUser","userFullDetailsDTO");const r=a.baseServer.makeRequestContext("/api/v2/admin/user",S.PUT);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"UserFullDetailsDTO",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}}class Ac{async createTokenForUserWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async createUserWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async deleteTokenForUserWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async deleteUserWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async disableTokenForUserWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async getDetailsOfUserWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"UserDetailsDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"UserDetailsDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async getUserByTokenWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"UserDetailsDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"UserDetailsDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listAuthoritiesOfUserWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Set<string>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Set<string>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listTokensOfUserWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<ApiTokenInfoDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<ApiTokenInfoDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listUsersWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<UserBasicInfoDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<UserBasicInfoDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listUsers1WithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<UserBasicInfoDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<UserBasicInfoDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listUsers2WithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<UserBasicInfoDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<UserBasicInfoDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async updateAuthoritiesOfUserWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async updateUserWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}}class Ic extends se{async batchSearchAgentDetails(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("AgentApi","batchSearchAgentDetails","agentQueryDTO");const r=a.baseServer.makeRequestContext("/api/v2/agent/batch/details/search",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"Array<AgentQueryDTO>",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async batchSearchAgentSummary(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("AgentApi","batchSearchAgentSummary","agentQueryDTO");const r=a.baseServer.makeRequestContext("/api/v2/agent/batch/search",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"Array<AgentQueryDTO>",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async cloneAgent(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("AgentApi","cloneAgent","agentId");const s="/api/v2/agent/clone/{agentId}".replace("{agentId}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async cloneAgents(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("AgentApi","cloneAgents","requestBody");const r=a.baseServer.makeRequestContext("/api/v2/agent/batch/clone",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"Array<number>",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async countAgents(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("AgentApi","countAgents","agentQueryDTO");const r=a.baseServer.makeRequestContext("/api/v2/agent/count",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"AgentQueryDTO",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async createAgent(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("AgentApi","createAgent","agentCreateDTO");const r=a.baseServer.makeRequestContext("/api/v2/agent",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"AgentCreateDTO",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async createAgents(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("AgentApi","createAgents","agentCreateDTO");const r=a.baseServer.makeRequestContext("/api/v2/agent/batch",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"Array<AgentCreateDTO>",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async deleteAgent(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("AgentApi","deleteAgent","agentId");const s="/api/v2/agent/{agentId}".replace("{agentId}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.DELETE);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async deleteAgents(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("AgentApi","deleteAgents","requestBody");const r=a.baseServer.makeRequestContext("/api/v2/agent/batch/delete",S.DELETE);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"Array<number>",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async getAgentDetails(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("AgentApi","getAgentDetails","agentId");const s="/api/v2/agent/details/{agentId}".replace("{agentId}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async getAgentSummary(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("AgentApi","getAgentSummary","agentId");const s="/api/v2/agent/summary/{agentId}".replace("{agentId}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async listAgentVersionsByName(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("AgentApi","listAgentVersionsByName","name");const s="/api/v2/agent/versions/{name}".replace("{name}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async publishAgent(t,e,a){var l,u,f;let s=a||this.configuration;if(t==null)throw new w("AgentApi","publishAgent","agentId");if(e==null)throw new w("AgentApi","publishAgent","visibility");const r="/api/v2/agent/publish/{agentId}/{visibility}".replace("{agentId}",encodeURIComponent(String(t))).replace("{visibility}",encodeURIComponent(String(e))),i=s.baseServer.makeRequestContext(r,S.POST);i.setHeaderParam("Accept","application/json, */*;q=0.8");let n;n=s.authMethods.bearerAuth,n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(i));const c=((l=a==null?void 0:a.authMethods)==null?void 0:l.default)||((f=(u=this.configuration)==null?void 0:u.authMethods)==null?void 0:f.default);return c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(i)),i}async searchAgentDetails(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("AgentApi","searchAgentDetails","agentQueryDTO");const r=a.baseServer.makeRequestContext("/api/v2/agent/details/search",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"AgentQueryDTO",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async searchAgentSummary(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("AgentApi","searchAgentSummary","agentQueryDTO");const r=a.baseServer.makeRequestContext("/api/v2/agent/search",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"AgentQueryDTO",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async updateAgent(t,e,a){var f,y,b;let s=a||this.configuration;if(t==null)throw new w("AgentApi","updateAgent","agentId");if(e==null)throw new w("AgentApi","updateAgent","agentUpdateDTO");const r="/api/v2/agent/{agentId}".replace("{agentId}",encodeURIComponent(String(t))),i=s.baseServer.makeRequestContext(r,S.PUT);i.setHeaderParam("Accept","application/json, */*;q=0.8");const n=d.getPreferredMediaType(["application/json"]);i.setHeaderParam("Content-Type",n);const c=d.stringify(d.serialize(e,"AgentUpdateDTO",""),n);i.setBody(c);let l;l=s.authMethods.bearerAuth,l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(i));const u=((f=a==null?void 0:a.authMethods)==null?void 0:f.default)||((b=(y=this.configuration)==null?void 0:y.authMethods)==null?void 0:b.default);return u!=null&&u.applySecurityAuthentication&&await(u==null?void 0:u.applySecurityAuthentication(i)),i}}class Tc{async batchSearchAgentDetailsWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<Array<AgentDetailsDTO>>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<Array<AgentDetailsDTO>>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async batchSearchAgentSummaryWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<Array<AgentSummaryDTO>>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<Array<AgentSummaryDTO>>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async cloneAgentWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async cloneAgentsWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<number>","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<number>","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async countAgentsWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async createAgentWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async createAgentsWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<number>","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<number>","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async deleteAgentWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async deleteAgentsWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<number>","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<number>","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async getAgentDetailsWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"AgentDetailsDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"AgentDetailsDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async getAgentSummaryWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"AgentSummaryDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"AgentSummaryDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listAgentVersionsByNameWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<AgentItemForNameDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<AgentItemForNameDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async publishAgentWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async searchAgentDetailsWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<AgentDetailsDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<AgentDetailsDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async searchAgentSummaryWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<AgentSummaryDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<AgentSummaryDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async updateAgentWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}}class vc extends se{async getDefaultConfig(t){var n,c,l;let e=t||this.configuration;const s=e.baseServer.makeRequestContext("/api/v2/admin/app/configs/default",S.GET);s.setHeaderParam("Accept","application/json, */*;q=0.8");let r;r=e.authMethods.bearerAuth,r!=null&&r.applySecurityAuthentication&&await(r==null?void 0:r.applySecurityAuthentication(s));const i=((n=t==null?void 0:t.authMethods)==null?void 0:n.default)||((l=(c=this.configuration)==null?void 0:c.authMethods)==null?void 0:l.default);return i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(s)),s}}class jc{async getDefaultConfigWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}}class kc extends se{async getAppMeta(t){var n,c,l;let e=t||this.configuration;const s=e.baseServer.makeRequestContext("/api/v2/admin/app/meta",S.GET);s.setHeaderParam("Accept","application/json, */*;q=0.8");let r;r=e.authMethods.bearerAuth,r!=null&&r.applySecurityAuthentication&&await(r==null?void 0:r.applySecurityAuthentication(s));const i=((n=t==null?void 0:t.authMethods)==null?void 0:n.default)||((l=(c=this.configuration)==null?void 0:c.authMethods)==null?void 0:l.default);return i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(s)),s}}class Hc{async getAppMetaWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"AppMetaDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"AppMetaDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}}class Wc extends se{async addCharacterBackend(t,e,a){var f,y,b;let s=a||this.configuration;if(t==null)throw new w("CharacterApi","addCharacterBackend","characterUid");if(e==null)throw new w("CharacterApi","addCharacterBackend","characterBackendDTO");const r="/api/v2/character/backend/{characterUid}".replace("{characterUid}",encodeURIComponent(String(t))),i=s.baseServer.makeRequestContext(r,S.POST);i.setHeaderParam("Accept","application/json, */*;q=0.8");const n=d.getPreferredMediaType(["application/json"]);i.setHeaderParam("Content-Type",n);const c=d.stringify(d.serialize(e,"CharacterBackendDTO",""),n);i.setBody(c);let l;l=s.authMethods.bearerAuth,l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(i));const u=((f=a==null?void 0:a.authMethods)==null?void 0:f.default)||((b=(y=this.configuration)==null?void 0:y.authMethods)==null?void 0:b.default);return u!=null&&u.applySecurityAuthentication&&await(u==null?void 0:u.applySecurityAuthentication(i)),i}async batchSearchCharacterDetails(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("CharacterApi","batchSearchCharacterDetails","characterQueryDTO");const r=a.baseServer.makeRequestContext("/api/v2/character/batch/details/search",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"Array<CharacterQueryDTO>",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async batchSearchCharacterSummary(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("CharacterApi","batchSearchCharacterSummary","characterQueryDTO");const r=a.baseServer.makeRequestContext("/api/v2/character/batch/search",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"Array<CharacterQueryDTO>",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async cloneCharacter(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("CharacterApi","cloneCharacter","characterId");const s="/api/v2/character/clone/{characterId}".replace("{characterId}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async countCharacters(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("CharacterApi","countCharacters","characterQueryDTO");const r=a.baseServer.makeRequestContext("/api/v2/character/count",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"CharacterQueryDTO",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async countPublicCharacters(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("CharacterApi","countPublicCharacters","characterQueryDTO");const r=a.baseServer.makeRequestContext("/api/v2/public/character/count",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"CharacterQueryDTO",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async createCharacter(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("CharacterApi","createCharacter","characterCreateDTO");const r=a.baseServer.makeRequestContext("/api/v2/character",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"CharacterCreateDTO",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async deleteCharacter(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("CharacterApi","deleteCharacter","characterId");const s="/api/v2/character/{characterId}".replace("{characterId}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.DELETE);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async deleteCharacterByName(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("CharacterApi","deleteCharacterByName","name");const s="/api/v2/character/name/{name}".replace("{name}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.DELETE);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async deleteCharacterByUid(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("CharacterApi","deleteCharacterByUid","characterUid");const s="/api/v2/character/uid/{characterUid}".replace("{characterUid}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.DELETE);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async deleteCharacterDocument(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("CharacterApi","deleteCharacterDocument","key");const s="/api/v2/character/document/{key}".replace("{key}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.DELETE);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async deleteCharacterPicture(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("CharacterApi","deleteCharacterPicture","key");const s="/api/v2/character/picture/{key}".replace("{key}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.DELETE);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async deleteCharacterVideo(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("CharacterApi","deleteCharacterVideo","key");const s="/api/v2/character/video/{key}".replace("{key}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.DELETE);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async deleteCharacterVoice(t,e,a){var l,u,f;let s=a||this.configuration;if(t==null)throw new w("CharacterApi","deleteCharacterVoice","characterBackendId");if(e==null)throw new w("CharacterApi","deleteCharacterVoice","key");const r="/api/v2/character/voice/{characterBackendId}/{key}".replace("{characterBackendId}",encodeURIComponent(String(t))).replace("{key}",encodeURIComponent(String(e))),i=s.baseServer.makeRequestContext(r,S.DELETE);i.setHeaderParam("Accept","application/json, */*;q=0.8");let n;n=s.authMethods.bearerAuth,n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(i));const c=((l=a==null?void 0:a.authMethods)==null?void 0:l.default)||((f=(u=this.configuration)==null?void 0:u.authMethods)==null?void 0:f.default);return c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(i)),i}async existsCharacterName(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("CharacterApi","existsCharacterName","name");const s="/api/v2/character/exists/name/{name}".replace("{name}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async exportCharacter(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("CharacterApi","exportCharacter","characterId");const s="/api/v2/character/export/{characterId}".replace("{characterId}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async getCharacterDetails(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("CharacterApi","getCharacterDetails","characterId");const s="/api/v2/character/details/{characterId}".replace("{characterId}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async getCharacterLatestIdByName(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("CharacterApi","getCharacterLatestIdByName","name");const s="/api/v2/character/latest/{name}".replace("{name}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async getCharacterSummary(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("CharacterApi","getCharacterSummary","characterId");const s="/api/v2/character/summary/{characterId}".replace("{characterId}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async getDefaultCharacterBackend(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("CharacterApi","getDefaultCharacterBackend","characterUid");const s="/api/v2/character/backend/default/{characterUid}".replace("{characterUid}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async importCharacter(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("CharacterApi","importCharacter","file");const r=a.baseServer.makeRequestContext("/api/v2/character/import",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=Ca(["multipart/form-data"]);let n;if(i?n=new FormData:n=new URLSearchParams,t!==void 0&&n instanceof FormData&&n.append("file",t,t.name),r.setBody(n),!i){const b=d.getPreferredMediaType(["multipart/form-data"]);r.setHeaderParam("Content-Type",b)}let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async listCharacterBackendIds(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("CharacterApi","listCharacterBackendIds","characterUid");const s="/api/v2/character/backend/ids/{characterUid}".replace("{characterUid}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async listCharacterBackends(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("CharacterApi","listCharacterBackends","characterUid");const s="/api/v2/character/backends/{characterUid}".replace("{characterUid}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async listCharacterDocuments(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("CharacterApi","listCharacterDocuments","characterUid");const s="/api/v2/character/documents/{characterUid}".replace("{characterUid}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async listCharacterPictures(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("CharacterApi","listCharacterPictures","characterUid");const s="/api/v2/character/pictures/{characterUid}".replace("{characterUid}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async listCharacterVersionsByName(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("CharacterApi","listCharacterVersionsByName","name");const s="/api/v2/character/versions/{name}".replace("{name}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async listCharacterVideos(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("CharacterApi","listCharacterVideos","characterUid");const s="/api/v2/character/videos/{characterUid}".replace("{characterUid}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async listCharacterVoices(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("CharacterApi","listCharacterVoices","characterBackendId");const s="/api/v2/character/voices/{characterBackendId}".replace("{characterBackendId}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async newCharacterName(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("CharacterApi","newCharacterName","desired");const s="/api/v2/character/create/name/{desired}".replace("{desired}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async publishCharacter(t,e,a){var l,u,f;let s=a||this.configuration;if(t==null)throw new w("CharacterApi","publishCharacter","characterId");if(e==null)throw new w("CharacterApi","publishCharacter","visibility");const r="/api/v2/character/publish/{characterId}/{visibility}".replace("{characterId}",encodeURIComponent(String(t))).replace("{visibility}",encodeURIComponent(String(e))),i=s.baseServer.makeRequestContext(r,S.POST);i.setHeaderParam("Accept","application/json, */*;q=0.8");let n;n=s.authMethods.bearerAuth,n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(i));const c=((l=a==null?void 0:a.authMethods)==null?void 0:l.default)||((f=(u=this.configuration)==null?void 0:u.authMethods)==null?void 0:f.default);return c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(i)),i}async publishCharacter1(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("CharacterApi","publishCharacter1","characterId");const s="/api/v2/character/publish/{characterId}".replace("{characterId}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async removeCharacterBackend(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("CharacterApi","removeCharacterBackend","characterBackendId");const s="/api/v2/character/backend/{characterBackendId}".replace("{characterBackendId}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.DELETE);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async searchCharacterDetails(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("CharacterApi","searchCharacterDetails","characterQueryDTO");const r=a.baseServer.makeRequestContext("/api/v2/character/details/search",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"CharacterQueryDTO",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async searchCharacterSummary(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("CharacterApi","searchCharacterSummary","characterQueryDTO");const r=a.baseServer.makeRequestContext("/api/v2/character/search",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"CharacterQueryDTO",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async searchPublicCharacterSummary(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("CharacterApi","searchPublicCharacterSummary","characterQueryDTO");const r=a.baseServer.makeRequestContext("/api/v2/public/character/search",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"CharacterQueryDTO",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async setDefaultCharacterBackend(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("CharacterApi","setDefaultCharacterBackend","characterBackendId");const s="/api/v2/character/backend/default/{characterBackendId}".replace("{characterBackendId}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.PUT);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async updateCharacter(t,e,a){var f,y,b;let s=a||this.configuration;if(t==null)throw new w("CharacterApi","updateCharacter","characterId");if(e==null)throw new w("CharacterApi","updateCharacter","characterUpdateDTO");const r="/api/v2/character/{characterId}".replace("{characterId}",encodeURIComponent(String(t))),i=s.baseServer.makeRequestContext(r,S.PUT);i.setHeaderParam("Accept","application/json, */*;q=0.8");const n=d.getPreferredMediaType(["application/json"]);i.setHeaderParam("Content-Type",n);const c=d.stringify(d.serialize(e,"CharacterUpdateDTO",""),n);i.setBody(c);let l;l=s.authMethods.bearerAuth,l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(i));const u=((f=a==null?void 0:a.authMethods)==null?void 0:f.default)||((b=(y=this.configuration)==null?void 0:y.authMethods)==null?void 0:b.default);return u!=null&&u.applySecurityAuthentication&&await(u==null?void 0:u.applySecurityAuthentication(i)),i}async updateCharacterBackend(t,e,a){var f,y,b;let s=a||this.configuration;if(t==null)throw new w("CharacterApi","updateCharacterBackend","characterBackendId");if(e==null)throw new w("CharacterApi","updateCharacterBackend","characterBackendDTO");const r="/api/v2/character/backend/{characterBackendId}".replace("{characterBackendId}",encodeURIComponent(String(t))),i=s.baseServer.makeRequestContext(r,S.PUT);i.setHeaderParam("Accept","application/json, */*;q=0.8");const n=d.getPreferredMediaType(["application/json"]);i.setHeaderParam("Content-Type",n);const c=d.stringify(d.serialize(e,"CharacterBackendDTO",""),n);i.setBody(c);let l;l=s.authMethods.bearerAuth,l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(i));const u=((f=a==null?void 0:a.authMethods)==null?void 0:f.default)||((b=(y=this.configuration)==null?void 0:y.authMethods)==null?void 0:b.default);return u!=null&&u.applySecurityAuthentication&&await(u==null?void 0:u.applySecurityAuthentication(i)),i}async uploadCharacterAvatar(t,e,a){var f,y,b;let s=a||this.configuration;if(t==null)throw new w("CharacterApi","uploadCharacterAvatar","characterUid");if(e==null)throw new w("CharacterApi","uploadCharacterAvatar","file");const r="/api/v2/character/avatar/{characterUid}".replace("{characterUid}",encodeURIComponent(String(t))),i=s.baseServer.makeRequestContext(r,S.POST);i.setHeaderParam("Accept","application/json, */*;q=0.8");const n=Ca(["multipart/form-data"]);let c;if(n?c=new FormData:c=new URLSearchParams,e!==void 0&&c instanceof FormData&&c.append("file",e,e.name),i.setBody(c),!n){const k=d.getPreferredMediaType(["multipart/form-data"]);i.setHeaderParam("Content-Type",k)}let l;l=s.authMethods.bearerAuth,l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(i));const u=((f=a==null?void 0:a.authMethods)==null?void 0:f.default)||((b=(y=this.configuration)==null?void 0:y.authMethods)==null?void 0:b.default);return u!=null&&u.applySecurityAuthentication&&await(u==null?void 0:u.applySecurityAuthentication(i)),i}async uploadCharacterDocument(t,e,a){var f,y,b;let s=a||this.configuration;if(t==null)throw new w("CharacterApi","uploadCharacterDocument","characterUid");if(e==null)throw new w("CharacterApi","uploadCharacterDocument","file");const r="/api/v2/character/document/{characterUid}".replace("{characterUid}",encodeURIComponent(String(t))),i=s.baseServer.makeRequestContext(r,S.POST);i.setHeaderParam("Accept","application/json, */*;q=0.8");const n=Ca(["multipart/form-data"]);let c;if(n?c=new FormData:c=new URLSearchParams,e!==void 0&&c instanceof FormData&&c.append("file",e,e.name),i.setBody(c),!n){const k=d.getPreferredMediaType(["multipart/form-data"]);i.setHeaderParam("Content-Type",k)}let l;l=s.authMethods.bearerAuth,l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(i));const u=((f=a==null?void 0:a.authMethods)==null?void 0:f.default)||((b=(y=this.configuration)==null?void 0:y.authMethods)==null?void 0:b.default);return u!=null&&u.applySecurityAuthentication&&await(u==null?void 0:u.applySecurityAuthentication(i)),i}async uploadCharacterPicture(t,e,a){var f,y,b;let s=a||this.configuration;if(t==null)throw new w("CharacterApi","uploadCharacterPicture","characterUid");if(e==null)throw new w("CharacterApi","uploadCharacterPicture","file");const r="/api/v2/character/picture/{characterUid}".replace("{characterUid}",encodeURIComponent(String(t))),i=s.baseServer.makeRequestContext(r,S.POST);i.setHeaderParam("Accept","application/json, */*;q=0.8");const n=Ca(["multipart/form-data"]);let c;if(n?c=new FormData:c=new URLSearchParams,e!==void 0&&c instanceof FormData&&c.append("file",e,e.name),i.setBody(c),!n){const k=d.getPreferredMediaType(["multipart/form-data"]);i.setHeaderParam("Content-Type",k)}let l;l=s.authMethods.bearerAuth,l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(i));const u=((f=a==null?void 0:a.authMethods)==null?void 0:f.default)||((b=(y=this.configuration)==null?void 0:y.authMethods)==null?void 0:b.default);return u!=null&&u.applySecurityAuthentication&&await(u==null?void 0:u.applySecurityAuthentication(i)),i}async uploadCharacterVideo(t,e,a){var f,y,b;let s=a||this.configuration;if(t==null)throw new w("CharacterApi","uploadCharacterVideo","characterUid");if(e==null)throw new w("CharacterApi","uploadCharacterVideo","file");const r="/api/v2/character/video/{characterUid}".replace("{characterUid}",encodeURIComponent(String(t))),i=s.baseServer.makeRequestContext(r,S.POST);i.setHeaderParam("Accept","application/json, */*;q=0.8");const n=Ca(["multipart/form-data"]);let c;if(n?c=new FormData:c=new URLSearchParams,e!==void 0&&c instanceof FormData&&c.append("file",e,e.name),i.setBody(c),!n){const k=d.getPreferredMediaType(["multipart/form-data"]);i.setHeaderParam("Content-Type",k)}let l;l=s.authMethods.bearerAuth,l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(i));const u=((f=a==null?void 0:a.authMethods)==null?void 0:f.default)||((b=(y=this.configuration)==null?void 0:y.authMethods)==null?void 0:b.default);return u!=null&&u.applySecurityAuthentication&&await(u==null?void 0:u.applySecurityAuthentication(i)),i}async uploadCharacterVoice(t,e,a){var f,y,b;let s=a||this.configuration;if(t==null)throw new w("CharacterApi","uploadCharacterVoice","characterBackendId");if(e==null)throw new w("CharacterApi","uploadCharacterVoice","file");const r="/api/v2/character/voice/{characterBackendId}".replace("{characterBackendId}",encodeURIComponent(String(t))),i=s.baseServer.makeRequestContext(r,S.POST);i.setHeaderParam("Accept","application/json, */*;q=0.8");const n=Ca(["multipart/form-data"]);let c;if(n?c=new FormData:c=new URLSearchParams,e!==void 0&&c instanceof FormData&&c.append("file",e,e.name),i.setBody(c),!n){const k=d.getPreferredMediaType(["multipart/form-data"]);i.setHeaderParam("Content-Type",k)}let l;l=s.authMethods.bearerAuth,l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(i));const u=((f=a==null?void 0:a.authMethods)==null?void 0:f.default)||((b=(y=this.configuration)==null?void 0:y.authMethods)==null?void 0:b.default);return u!=null&&u.applySecurityAuthentication&&await(u==null?void 0:u.applySecurityAuthentication(i)),i}}class Rc{async addCharacterBackendWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async batchSearchCharacterDetailsWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<Array<CharacterDetailsDTO>>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<Array<CharacterDetailsDTO>>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async batchSearchCharacterSummaryWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<Array<CharacterSummaryDTO>>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<Array<CharacterSummaryDTO>>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async cloneCharacterWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async countCharactersWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async countPublicCharactersWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async createCharacterWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async deleteCharacterWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async deleteCharacterByNameWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<number>","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<number>","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async deleteCharacterByUidWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<number>","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<number>","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async deleteCharacterDocumentWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async deleteCharacterPictureWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async deleteCharacterVideoWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async deleteCharacterVoiceWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async existsCharacterNameWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async exportCharacterWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode))return new g(t.httpStatusCode,t.headers,t.body,void 0);if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"void","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async getCharacterDetailsWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"CharacterDetailsDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"CharacterDetailsDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async getCharacterLatestIdByNameWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async getCharacterSummaryWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"CharacterSummaryDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"CharacterSummaryDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async getDefaultCharacterBackendWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"CharacterBackendDetailsDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"CharacterBackendDetailsDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async importCharacterWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listCharacterBackendIdsWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<string>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<string>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listCharacterBackendsWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<CharacterBackendDetailsDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<CharacterBackendDetailsDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listCharacterDocumentsWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<string>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<string>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listCharacterPicturesWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<string>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<string>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listCharacterVersionsByNameWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<CharacterItemForNameDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<CharacterItemForNameDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listCharacterVideosWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<string>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<string>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listCharacterVoicesWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<string>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<string>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async newCharacterNameWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async publishCharacterWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async publishCharacter1WithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async removeCharacterBackendWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async searchCharacterDetailsWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<CharacterDetailsDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<CharacterDetailsDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async searchCharacterSummaryWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<CharacterSummaryDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<CharacterSummaryDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async searchPublicCharacterSummaryWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<CharacterSummaryDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<CharacterSummaryDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async setDefaultCharacterBackendWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async updateCharacterWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async updateCharacterBackendWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async uploadCharacterAvatarWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async uploadCharacterDocumentWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async uploadCharacterPictureWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async uploadCharacterVideoWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async uploadCharacterVoiceWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}}class Nc extends se{async clearMemory(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("ChatApi","clearMemory","chatId");const s="/api/v2/chat/memory/{chatId}".replace("{chatId}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.DELETE);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async deleteChat(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("ChatApi","deleteChat","chatId");const s="/api/v2/chat/{chatId}".replace("{chatId}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.DELETE);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async getDefaultChatId(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("ChatApi","getDefaultChatId","characterUid");const s="/api/v2/chat/{characterUid}".replace("{characterUid}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async getMemoryUsage(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("ChatApi","getMemoryUsage","chatId");const s="/api/v2/chat/memory/usage/{chatId}".replace("{chatId}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async listChats(t){var n,c,l;let e=t||this.configuration;const s=e.baseServer.makeRequestContext("/api/v2/chat",S.GET);s.setHeaderParam("Accept","application/json, */*;q=0.8");let r;r=e.authMethods.bearerAuth,r!=null&&r.applySecurityAuthentication&&await(r==null?void 0:r.applySecurityAuthentication(s));const i=((n=t==null?void 0:t.authMethods)==null?void 0:n.default)||((l=(c=this.configuration)==null?void 0:c.authMethods)==null?void 0:l.default);return i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(s)),s}async listDebugMessages(t,e,a){var l,u,f;let s=a||this.configuration;if(t==null)throw new w("ChatApi","listDebugMessages","chatId");if(e==null)throw new w("ChatApi","listDebugMessages","limit");const r="/api/v2/chat/messages/debug/{chatId}/{limit}".replace("{chatId}",encodeURIComponent(String(t))).replace("{limit}",encodeURIComponent(String(e))),i=s.baseServer.makeRequestContext(r,S.GET);i.setHeaderParam("Accept","application/json, */*;q=0.8");let n;n=s.authMethods.bearerAuth,n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(i));const c=((l=a==null?void 0:a.authMethods)==null?void 0:l.default)||((f=(u=this.configuration)==null?void 0:u.authMethods)==null?void 0:f.default);return c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(i)),i}async listDebugMessages1(t,e,a,s){var u,f,y;let r=s||this.configuration;if(t==null)throw new w("ChatApi","listDebugMessages1","chatId");if(e==null)throw new w("ChatApi","listDebugMessages1","limit");if(a==null)throw new w("ChatApi","listDebugMessages1","offset");const i="/api/v2/chat/messages/debug/{chatId}/{limit}/{offset}".replace("{chatId}",encodeURIComponent(String(t))).replace("{limit}",encodeURIComponent(String(e))).replace("{offset}",encodeURIComponent(String(a))),n=r.baseServer.makeRequestContext(i,S.GET);n.setHeaderParam("Accept","application/json, */*;q=0.8");let c;c=r.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(n));const l=((u=s==null?void 0:s.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(n)),n}async listDebugMessages2(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("ChatApi","listDebugMessages2","chatId");const s="/api/v2/chat/messages/debug/{chatId}".replace("{chatId}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async listMessages(t,e,a){var l,u,f;let s=a||this.configuration;if(t==null)throw new w("ChatApi","listMessages","chatId");if(e==null)throw new w("ChatApi","listMessages","limit");const r="/api/v2/chat/messages/{chatId}/{limit}".replace("{chatId}",encodeURIComponent(String(t))).replace("{limit}",encodeURIComponent(String(e))),i=s.baseServer.makeRequestContext(r,S.GET);i.setHeaderParam("Accept","application/json, */*;q=0.8");let n;n=s.authMethods.bearerAuth,n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(i));const c=((l=a==null?void 0:a.authMethods)==null?void 0:l.default)||((f=(u=this.configuration)==null?void 0:u.authMethods)==null?void 0:f.default);return c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(i)),i}async listMessages1(t,e,a,s){var u,f,y;let r=s||this.configuration;if(t==null)throw new w("ChatApi","listMessages1","chatId");if(e==null)throw new w("ChatApi","listMessages1","limit");if(a==null)throw new w("ChatApi","listMessages1","offset");const i="/api/v2/chat/messages/{chatId}/{limit}/{offset}".replace("{chatId}",encodeURIComponent(String(t))).replace("{limit}",encodeURIComponent(String(e))).replace("{offset}",encodeURIComponent(String(a))),n=r.baseServer.makeRequestContext(i,S.GET);n.setHeaderParam("Accept","application/json, */*;q=0.8");let c;c=r.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(n));const l=((u=s==null?void 0:s.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(n)),n}async listMessages2(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("ChatApi","listMessages2","chatId");const s="/api/v2/chat/messages/{chatId}".replace("{chatId}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async rollbackMessages(t,e,a){var l,u,f;let s=a||this.configuration;if(t==null)throw new w("ChatApi","rollbackMessages","chatId");if(e==null)throw new w("ChatApi","rollbackMessages","count");const r="/api/v2/chat/messages/rollback/{chatId}/{count}".replace("{chatId}",encodeURIComponent(String(t))).replace("{count}",encodeURIComponent(String(e))),i=s.baseServer.makeRequestContext(r,S.POST);i.setHeaderParam("Accept","application/json, */*;q=0.8");let n;n=s.authMethods.bearerAuth,n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(i));const c=((l=a==null?void 0:a.authMethods)==null?void 0:l.default)||((f=(u=this.configuration)==null?void 0:u.authMethods)==null?void 0:f.default);return c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(i)),i}async sendAssistant(t,e,a){var l,u,f;let s=a||this.configuration;if(t==null)throw new w("ChatApi","sendAssistant","chatId");if(e==null)throw new w("ChatApi","sendAssistant","assistantUid");const r="/api/v2/chat/send/assistant/{chatId}/{assistantUid}".replace("{chatId}",encodeURIComponent(String(t))).replace("{assistantUid}",encodeURIComponent(String(e))),i=s.baseServer.makeRequestContext(r,S.GET);i.setHeaderParam("Accept","application/json, */*;q=0.8");let n;n=s.authMethods.bearerAuth,n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(i));const c=((l=a==null?void 0:a.authMethods)==null?void 0:l.default)||((f=(u=this.configuration)==null?void 0:u.authMethods)==null?void 0:f.default);return c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(i)),i}async sendMessage(t,e,a){var f,y,b;let s=a||this.configuration;if(t==null)throw new w("ChatApi","sendMessage","chatId");if(e==null)throw new w("ChatApi","sendMessage","chatMessageDTO");const r="/api/v2/chat/send/{chatId}".replace("{chatId}",encodeURIComponent(String(t))),i=s.baseServer.makeRequestContext(r,S.POST);i.setHeaderParam("Accept","application/json, */*;q=0.8");const n=d.getPreferredMediaType(["application/json"]);i.setHeaderParam("Content-Type",n);const c=d.stringify(d.serialize(e,"ChatMessageDTO",""),n);i.setBody(c);let l;l=s.authMethods.bearerAuth,l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(i));const u=((f=a==null?void 0:a.authMethods)==null?void 0:f.default)||((b=(y=this.configuration)==null?void 0:y.authMethods)==null?void 0:b.default);return u!=null&&u.applySecurityAuthentication&&await(u==null?void 0:u.applySecurityAuthentication(i)),i}async startChat(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("ChatApi","startChat","chatCreateDTO");const r=a.baseServer.makeRequestContext("/api/v2/chat",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"ChatCreateDTO",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async streamSendAssistant(t,e,a){var l,u,f;let s=a||this.configuration;if(t==null)throw new w("ChatApi","streamSendAssistant","chatId");if(e==null)throw new w("ChatApi","streamSendAssistant","assistantUid");const r="/api/v2/chat/send/stream/assistant/{chatId}/{assistantUid}".replace("{chatId}",encodeURIComponent(String(t))).replace("{assistantUid}",encodeURIComponent(String(e))),i=s.baseServer.makeRequestContext(r,S.GET);i.setHeaderParam("Accept","application/json, */*;q=0.8");let n;n=s.authMethods.bearerAuth,n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(i));const c=((l=a==null?void 0:a.authMethods)==null?void 0:l.default)||((f=(u=this.configuration)==null?void 0:u.authMethods)==null?void 0:f.default);return c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(i)),i}async streamSendMessage(t,e,a){var f,y,b;let s=a||this.configuration;if(t==null)throw new w("ChatApi","streamSendMessage","chatId");if(e==null)throw new w("ChatApi","streamSendMessage","chatMessageDTO");const r="/api/v2/chat/send/stream/{chatId}".replace("{chatId}",encodeURIComponent(String(t))),i=s.baseServer.makeRequestContext(r,S.POST);i.setHeaderParam("Accept","application/json, */*;q=0.8");const n=d.getPreferredMediaType(["application/json"]);i.setHeaderParam("Content-Type",n);const c=d.stringify(d.serialize(e,"ChatMessageDTO",""),n);i.setBody(c);let l;l=s.authMethods.bearerAuth,l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(i));const u=((f=a==null?void 0:a.authMethods)==null?void 0:f.default)||((b=(y=this.configuration)==null?void 0:y.authMethods)==null?void 0:b.default);return u!=null&&u.applySecurityAuthentication&&await(u==null?void 0:u.applySecurityAuthentication(i)),i}async updateChat(t,e,a){var f,y,b;let s=a||this.configuration;if(t==null)throw new w("ChatApi","updateChat","chatId");if(e==null)throw new w("ChatApi","updateChat","chatUpdateDTO");const r="/api/v2/chat/{chatId}".replace("{chatId}",encodeURIComponent(String(t))),i=s.baseServer.makeRequestContext(r,S.PUT);i.setHeaderParam("Accept","application/json, */*;q=0.8");const n=d.getPreferredMediaType(["application/json"]);i.setHeaderParam("Content-Type",n);const c=d.stringify(d.serialize(e,"ChatUpdateDTO",""),n);i.setBody(c);let l;l=s.authMethods.bearerAuth,l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(i));const u=((f=a==null?void 0:a.authMethods)==null?void 0:f.default)||((b=(y=this.configuration)==null?void 0:y.authMethods)==null?void 0:b.default);return u!=null&&u.applySecurityAuthentication&&await(u==null?void 0:u.applySecurityAuthentication(i)),i}}class zc{async clearMemoryWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<ChatMessageRecordDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<ChatMessageRecordDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async deleteChatWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async getDefaultChatIdWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async getMemoryUsageWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"MemoryUsageDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"MemoryUsageDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listChatsWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<ChatSessionDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<ChatSessionDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listDebugMessagesWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<ChatMessageRecordDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<ChatMessageRecordDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listDebugMessages1WithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<ChatMessageRecordDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<ChatMessageRecordDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listDebugMessages2WithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<ChatMessageRecordDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<ChatMessageRecordDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listMessagesWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<ChatMessageRecordDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<ChatMessageRecordDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listMessages1WithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<ChatMessageRecordDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<ChatMessageRecordDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listMessages2WithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<ChatMessageRecordDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<ChatMessageRecordDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async rollbackMessagesWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<number>","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<number>","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async sendAssistantWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"LlmResultDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"LlmResultDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async sendMessageWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"LlmResultDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"LlmResultDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async startChatWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async streamSendAssistantWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"SseEmitter","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"SseEmitter","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async streamSendMessageWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"SseEmitter","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"SseEmitter","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async updateChatWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}}class Mc extends se{async encryptText(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("EncryptionManagerForAdminApi","encryptText","text");const s="/api/v2/admin/encryption/encrypt/{text}".replace("{text}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}}class Oc{async encryptTextWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}}class Dc extends se{async addStatistic(t,e,a,s,r){var f,y,b;let i=r||this.configuration;if(t==null)throw new w("InteractiveStatisticsApi","addStatistic","infoType");if(e==null)throw new w("InteractiveStatisticsApi","addStatistic","infoId");if(a==null)throw new w("InteractiveStatisticsApi","addStatistic","statsType");if(s==null)throw new w("InteractiveStatisticsApi","addStatistic","delta");const n="/api/v2/stats/{infoType}/{infoId}/{statsType}/{delta}".replace("{infoType}",encodeURIComponent(String(t))).replace("{infoId}",encodeURIComponent(String(e))).replace("{statsType}",encodeURIComponent(String(a))).replace("{delta}",encodeURIComponent(String(s))),c=i.baseServer.makeRequestContext(n,S.POST);c.setHeaderParam("Accept","application/json, */*;q=0.8");let l;l=i.authMethods.bearerAuth,l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(c));const u=((f=r==null?void 0:r.authMethods)==null?void 0:f.default)||((b=(y=this.configuration)==null?void 0:y.authMethods)==null?void 0:b.default);return u!=null&&u.applySecurityAuthentication&&await(u==null?void 0:u.applySecurityAuthentication(c)),c}async getScore(t,e,a){var l,u,f;let s=a||this.configuration;if(t==null)throw new w("InteractiveStatisticsApi","getScore","infoType");if(e==null)throw new w("InteractiveStatisticsApi","getScore","infoId");const r="/api/v2/public/score/{infoType}/{infoId}".replace("{infoType}",encodeURIComponent(String(t))).replace("{infoId}",encodeURIComponent(String(e))),i=s.baseServer.makeRequestContext(r,S.GET);i.setHeaderParam("Accept","application/json, */*;q=0.8");let n;n=s.authMethods.bearerAuth,n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(i));const c=((l=a==null?void 0:a.authMethods)==null?void 0:l.default)||((f=(u=this.configuration)==null?void 0:u.authMethods)==null?void 0:f.default);return c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(i)),i}async getStatistic(t,e,a,s){var u,f,y;let r=s||this.configuration;if(t==null)throw new w("InteractiveStatisticsApi","getStatistic","infoType");if(e==null)throw new w("InteractiveStatisticsApi","getStatistic","infoId");if(a==null)throw new w("InteractiveStatisticsApi","getStatistic","statsType");const i="/api/v2/public/stats/{infoType}/{infoId}/{statsType}".replace("{infoType}",encodeURIComponent(String(t))).replace("{infoId}",encodeURIComponent(String(e))).replace("{statsType}",encodeURIComponent(String(a))),n=r.baseServer.makeRequestContext(i,S.GET);n.setHeaderParam("Accept","application/json, */*;q=0.8");let c;c=r.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(n));const l=((u=s==null?void 0:s.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(n)),n}async getStatistics(t,e,a){var l,u,f;let s=a||this.configuration;if(t==null)throw new w("InteractiveStatisticsApi","getStatistics","infoType");if(e==null)throw new w("InteractiveStatisticsApi","getStatistics","infoId");const r="/api/v2/public/stats/{infoType}/{infoId}".replace("{infoType}",encodeURIComponent(String(t))).replace("{infoId}",encodeURIComponent(String(e))),i=s.baseServer.makeRequestContext(r,S.GET);i.setHeaderParam("Accept","application/json, */*;q=0.8");let n;n=s.authMethods.bearerAuth,n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(i));const c=((l=a==null?void 0:a.authMethods)==null?void 0:l.default)||((f=(u=this.configuration)==null?void 0:u.authMethods)==null?void 0:f.default);return c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(i)),i}async increaseStatistic(t,e,a,s){var u,f,y;let r=s||this.configuration;if(t==null)throw new w("InteractiveStatisticsApi","increaseStatistic","infoType");if(e==null)throw new w("InteractiveStatisticsApi","increaseStatistic","infoId");if(a==null)throw new w("InteractiveStatisticsApi","increaseStatistic","statsType");const i="/api/v2/stats/{infoType}/{infoId}/{statsType}".replace("{infoType}",encodeURIComponent(String(t))).replace("{infoId}",encodeURIComponent(String(e))).replace("{statsType}",encodeURIComponent(String(a))),n=r.baseServer.makeRequestContext(i,S.POST);n.setHeaderParam("Accept","application/json, */*;q=0.8");let c;c=r.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(n));const l=((u=s==null?void 0:s.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(n)),n}async listAgentsByStatistic(t,e,a,s){var u,f,y;let r=s||this.configuration;if(t==null)throw new w("InteractiveStatisticsApi","listAgentsByStatistic","statsType");if(e==null)throw new w("InteractiveStatisticsApi","listAgentsByStatistic","pageSize");const i="/api/v2/public/stats/agents/by/{statsType}/{pageSize}".replace("{statsType}",encodeURIComponent(String(t))).replace("{pageSize}",encodeURIComponent(String(e))),n=r.baseServer.makeRequestContext(i,S.GET);n.setHeaderParam("Accept","application/json, */*;q=0.8"),a!==void 0&&n.setQueryParam("asc",d.serialize(a,"string",""));let c;c=r.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(n));const l=((u=s==null?void 0:s.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(n)),n}async listAgentsByStatistic1(t,e,a,s,r){var f,y,b;let i=r||this.configuration;if(t==null)throw new w("InteractiveStatisticsApi","listAgentsByStatistic1","statsType");if(e==null)throw new w("InteractiveStatisticsApi","listAgentsByStatistic1","pageSize");if(a==null)throw new w("InteractiveStatisticsApi","listAgentsByStatistic1","pageNum");const n="/api/v2/public/stats/agents/by/{statsType}/{pageSize}/{pageNum}".replace("{statsType}",encodeURIComponent(String(t))).replace("{pageSize}",encodeURIComponent(String(e))).replace("{pageNum}",encodeURIComponent(String(a))),c=i.baseServer.makeRequestContext(n,S.GET);c.setHeaderParam("Accept","application/json, */*;q=0.8"),s!==void 0&&c.setQueryParam("asc",d.serialize(s,"string",""));let l;l=i.authMethods.bearerAuth,l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(c));const u=((f=r==null?void 0:r.authMethods)==null?void 0:f.default)||((b=(y=this.configuration)==null?void 0:y.authMethods)==null?void 0:b.default);return u!=null&&u.applySecurityAuthentication&&await(u==null?void 0:u.applySecurityAuthentication(c)),c}async listAgentsByStatistic2(t,e,a){var l,u,f;let s=a||this.configuration;if(t==null)throw new w("InteractiveStatisticsApi","listAgentsByStatistic2","statsType");const r="/api/v2/public/stats/agents/by/{statsType}".replace("{statsType}",encodeURIComponent(String(t))),i=s.baseServer.makeRequestContext(r,S.GET);i.setHeaderParam("Accept","application/json, */*;q=0.8"),e!==void 0&&i.setQueryParam("asc",d.serialize(e,"string",""));let n;n=s.authMethods.bearerAuth,n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(i));const c=((l=a==null?void 0:a.authMethods)==null?void 0:l.default)||((f=(u=this.configuration)==null?void 0:u.authMethods)==null?void 0:f.default);return c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(i)),i}async listCharactersByStatistic(t,e,a){var l,u,f;let s=a||this.configuration;if(t==null)throw new w("InteractiveStatisticsApi","listCharactersByStatistic","statsType");const r="/api/v2/public/stats/characters/by/{statsType}".replace("{statsType}",encodeURIComponent(String(t))),i=s.baseServer.makeRequestContext(r,S.GET);i.setHeaderParam("Accept","application/json, */*;q=0.8"),e!==void 0&&i.setQueryParam("asc",d.serialize(e,"string",""));let n;n=s.authMethods.bearerAuth,n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(i));const c=((l=a==null?void 0:a.authMethods)==null?void 0:l.default)||((f=(u=this.configuration)==null?void 0:u.authMethods)==null?void 0:f.default);return c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(i)),i}async listCharactersByStatistic1(t,e,a,s){var u,f,y;let r=s||this.configuration;if(t==null)throw new w("InteractiveStatisticsApi","listCharactersByStatistic1","statsType");if(e==null)throw new w("InteractiveStatisticsApi","listCharactersByStatistic1","pageSize");const i="/api/v2/public/stats/characters/by/{statsType}/{pageSize}".replace("{statsType}",encodeURIComponent(String(t))).replace("{pageSize}",encodeURIComponent(String(e))),n=r.baseServer.makeRequestContext(i,S.GET);n.setHeaderParam("Accept","application/json, */*;q=0.8"),a!==void 0&&n.setQueryParam("asc",d.serialize(a,"string",""));let c;c=r.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(n));const l=((u=s==null?void 0:s.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(n)),n}async listCharactersByStatistic2(t,e,a,s,r){var f,y,b;let i=r||this.configuration;if(t==null)throw new w("InteractiveStatisticsApi","listCharactersByStatistic2","statsType");if(e==null)throw new w("InteractiveStatisticsApi","listCharactersByStatistic2","pageSize");if(a==null)throw new w("InteractiveStatisticsApi","listCharactersByStatistic2","pageNum");const n="/api/v2/public/stats/characters/by/{statsType}/{pageSize}/{pageNum}".replace("{statsType}",encodeURIComponent(String(t))).replace("{pageSize}",encodeURIComponent(String(e))).replace("{pageNum}",encodeURIComponent(String(a))),c=i.baseServer.makeRequestContext(n,S.GET);c.setHeaderParam("Accept","application/json, */*;q=0.8"),s!==void 0&&c.setQueryParam("asc",d.serialize(s,"string",""));let l;l=i.authMethods.bearerAuth,l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(c));const u=((f=r==null?void 0:r.authMethods)==null?void 0:f.default)||((b=(y=this.configuration)==null?void 0:y.authMethods)==null?void 0:b.default);return u!=null&&u.applySecurityAuthentication&&await(u==null?void 0:u.applySecurityAuthentication(c)),c}async listHotTags(t,e,a,s){var u,f,y;let r=s||this.configuration;if(t==null)throw new w("InteractiveStatisticsApi","listHotTags","infoType");if(e==null)throw new w("InteractiveStatisticsApi","listHotTags","pageSize");const i="/api/v2/public/tags/hot/{infoType}/{pageSize}".replace("{infoType}",encodeURIComponent(String(t))).replace("{pageSize}",encodeURIComponent(String(e))),n=r.baseServer.makeRequestContext(i,S.GET);n.setHeaderParam("Accept","application/json, */*;q=0.8"),a!==void 0&&n.setQueryParam("text",d.serialize(a,"string",""));let c;c=r.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(n));const l=((u=s==null?void 0:s.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(n)),n}async listPluginsByStatistic(t,e,a,s,r){var f,y,b;let i=r||this.configuration;if(t==null)throw new w("InteractiveStatisticsApi","listPluginsByStatistic","statsType");if(e==null)throw new w("InteractiveStatisticsApi","listPluginsByStatistic","pageSize");if(a==null)throw new w("InteractiveStatisticsApi","listPluginsByStatistic","pageNum");const n="/api/v2/public/stats/plugins/by/{statsType}/{pageSize}/{pageNum}".replace("{statsType}",encodeURIComponent(String(t))).replace("{pageSize}",encodeURIComponent(String(e))).replace("{pageNum}",encodeURIComponent(String(a))),c=i.baseServer.makeRequestContext(n,S.GET);c.setHeaderParam("Accept","application/json, */*;q=0.8"),s!==void 0&&c.setQueryParam("asc",d.serialize(s,"string",""));let l;l=i.authMethods.bearerAuth,l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(c));const u=((f=r==null?void 0:r.authMethods)==null?void 0:f.default)||((b=(y=this.configuration)==null?void 0:y.authMethods)==null?void 0:b.default);return u!=null&&u.applySecurityAuthentication&&await(u==null?void 0:u.applySecurityAuthentication(c)),c}async listPluginsByStatistic1(t,e,a){var l,u,f;let s=a||this.configuration;if(t==null)throw new w("InteractiveStatisticsApi","listPluginsByStatistic1","statsType");const r="/api/v2/public/stats/plugins/by/{statsType}".replace("{statsType}",encodeURIComponent(String(t))),i=s.baseServer.makeRequestContext(r,S.GET);i.setHeaderParam("Accept","application/json, */*;q=0.8"),e!==void 0&&i.setQueryParam("asc",d.serialize(e,"string",""));let n;n=s.authMethods.bearerAuth,n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(i));const c=((l=a==null?void 0:a.authMethods)==null?void 0:l.default)||((f=(u=this.configuration)==null?void 0:u.authMethods)==null?void 0:f.default);return c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(i)),i}async listPluginsByStatistic2(t,e,a,s){var u,f,y;let r=s||this.configuration;if(t==null)throw new w("InteractiveStatisticsApi","listPluginsByStatistic2","statsType");if(e==null)throw new w("InteractiveStatisticsApi","listPluginsByStatistic2","pageSize");const i="/api/v2/public/stats/plugins/by/{statsType}/{pageSize}".replace("{statsType}",encodeURIComponent(String(t))).replace("{pageSize}",encodeURIComponent(String(e))),n=r.baseServer.makeRequestContext(i,S.GET);n.setHeaderParam("Accept","application/json, */*;q=0.8"),a!==void 0&&n.setQueryParam("asc",d.serialize(a,"string",""));let c;c=r.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(n));const l=((u=s==null?void 0:s.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(n)),n}async listPromptsByStatistic(t,e,a){var l,u,f;let s=a||this.configuration;if(t==null)throw new w("InteractiveStatisticsApi","listPromptsByStatistic","statsType");const r="/api/v2/public/stats/prompts/by/{statsType}".replace("{statsType}",encodeURIComponent(String(t))),i=s.baseServer.makeRequestContext(r,S.GET);i.setHeaderParam("Accept","application/json, */*;q=0.8"),e!==void 0&&i.setQueryParam("asc",d.serialize(e,"string",""));let n;n=s.authMethods.bearerAuth,n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(i));const c=((l=a==null?void 0:a.authMethods)==null?void 0:l.default)||((f=(u=this.configuration)==null?void 0:u.authMethods)==null?void 0:f.default);return c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(i)),i}async listPromptsByStatistic1(t,e,a,s){var u,f,y;let r=s||this.configuration;if(t==null)throw new w("InteractiveStatisticsApi","listPromptsByStatistic1","statsType");if(e==null)throw new w("InteractiveStatisticsApi","listPromptsByStatistic1","pageSize");const i="/api/v2/public/stats/prompts/by/{statsType}/{pageSize}".replace("{statsType}",encodeURIComponent(String(t))).replace("{pageSize}",encodeURIComponent(String(e))),n=r.baseServer.makeRequestContext(i,S.GET);n.setHeaderParam("Accept","application/json, */*;q=0.8"),a!==void 0&&n.setQueryParam("asc",d.serialize(a,"string",""));let c;c=r.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(n));const l=((u=s==null?void 0:s.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(n)),n}async listPromptsByStatistic2(t,e,a,s,r){var f,y,b;let i=r||this.configuration;if(t==null)throw new w("InteractiveStatisticsApi","listPromptsByStatistic2","statsType");if(e==null)throw new w("InteractiveStatisticsApi","listPromptsByStatistic2","pageSize");if(a==null)throw new w("InteractiveStatisticsApi","listPromptsByStatistic2","pageNum");const n="/api/v2/public/stats/prompts/by/{statsType}/{pageSize}/{pageNum}".replace("{statsType}",encodeURIComponent(String(t))).replace("{pageSize}",encodeURIComponent(String(e))).replace("{pageNum}",encodeURIComponent(String(a))),c=i.baseServer.makeRequestContext(n,S.GET);c.setHeaderParam("Accept","application/json, */*;q=0.8"),s!==void 0&&c.setQueryParam("asc",d.serialize(s,"string",""));let l;l=i.authMethods.bearerAuth,l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(c));const u=((f=r==null?void 0:r.authMethods)==null?void 0:f.default)||((b=(y=this.configuration)==null?void 0:y.authMethods)==null?void 0:b.default);return u!=null&&u.applySecurityAuthentication&&await(u==null?void 0:u.applySecurityAuthentication(c)),c}}class Uc{async addStatisticWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async getScoreWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async getStatisticWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async getStatisticsWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"InteractiveStatsDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"InteractiveStatsDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async increaseStatisticWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listAgentsByStatisticWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<AgentSummaryStatsDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<AgentSummaryStatsDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listAgentsByStatistic1WithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<AgentSummaryStatsDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<AgentSummaryStatsDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listAgentsByStatistic2WithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<AgentSummaryStatsDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<AgentSummaryStatsDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listCharactersByStatisticWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<CharacterSummaryStatsDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<CharacterSummaryStatsDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listCharactersByStatistic1WithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<CharacterSummaryStatsDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<CharacterSummaryStatsDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listCharactersByStatistic2WithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<CharacterSummaryStatsDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<CharacterSummaryStatsDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listHotTagsWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<HotTagDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<HotTagDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listPluginsByStatisticWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<PluginSummaryStatsDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<PluginSummaryStatsDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listPluginsByStatistic1WithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<PluginSummaryStatsDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<PluginSummaryStatsDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listPluginsByStatistic2WithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<PluginSummaryStatsDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<PluginSummaryStatsDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listPromptsByStatisticWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<PromptSummaryStatsDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<PromptSummaryStatsDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listPromptsByStatistic1WithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<PromptSummaryStatsDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<PromptSummaryStatsDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listPromptsByStatistic2WithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<PromptSummaryStatsDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<PromptSummaryStatsDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}}class qc extends se{async getOwners(t,e){var c,l,u;let a=e||this.configuration;const r=a.baseServer.makeRequestContext("/api/v2/org/owners",S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8"),t!==void 0&&r.setQueryParam("all",d.serialize(t,"string",""));let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async getOwnersDot(t,e){var c,l,u;let a=e||this.configuration;const r=a.baseServer.makeRequestContext("/api/v2/org/owners/dot",S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8"),t!==void 0&&r.setQueryParam("all",d.serialize(t,"string",""));let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async getSubordinateOwners(t,e,a){var l,u,f;let s=a||this.configuration;if(t==null)throw new w("OrganizationApi","getSubordinateOwners","username");const r="/api/v2/org/manage/{username}/owners".replace("{username}",encodeURIComponent(String(t))),i=s.baseServer.makeRequestContext(r,S.GET);i.setHeaderParam("Accept","application/json, */*;q=0.8"),e!==void 0&&i.setQueryParam("all",d.serialize(e,"string",""));let n;n=s.authMethods.bearerAuth,n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(i));const c=((l=a==null?void 0:a.authMethods)==null?void 0:l.default)||((f=(u=this.configuration)==null?void 0:u.authMethods)==null?void 0:f.default);return c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(i)),i}async getSubordinateSubordinates(t,e,a){var l,u,f;let s=a||this.configuration;if(t==null)throw new w("OrganizationApi","getSubordinateSubordinates","username");const r="/api/v2/org/manage/{username}/subordinates".replace("{username}",encodeURIComponent(String(t))),i=s.baseServer.makeRequestContext(r,S.GET);i.setHeaderParam("Accept","application/json, */*;q=0.8"),e!==void 0&&i.setQueryParam("all",d.serialize(e,"string",""));let n;n=s.authMethods.bearerAuth,n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(i));const c=((l=a==null?void 0:a.authMethods)==null?void 0:l.default)||((f=(u=this.configuration)==null?void 0:u.authMethods)==null?void 0:f.default);return c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(i)),i}async getSubordinates(t,e){var c,l,u;let a=e||this.configuration;const r=a.baseServer.makeRequestContext("/api/v2/org/subordinates",S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8"),t!==void 0&&r.setQueryParam("all",d.serialize(t,"string",""));let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async getSubordinatesDot(t,e){var c,l,u;let a=e||this.configuration;const r=a.baseServer.makeRequestContext("/api/v2/org/subordinates/dot",S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8"),t!==void 0&&r.setQueryParam("all",d.serialize(t,"string",""));let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async listSubordinateAuthorities(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("OrganizationApi","listSubordinateAuthorities","username");const s="/api/v2/org/authority/{username}".replace("{username}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async removeSubordinateSubordinatesTree(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("OrganizationApi","removeSubordinateSubordinatesTree","username");const s="/api/v2/org/manage/{username}/subordinates".replace("{username}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.DELETE);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async updateSubordinateAuthorities(t,e,a){var f,y,b;let s=a||this.configuration;if(t==null)throw new w("OrganizationApi","updateSubordinateAuthorities","username");if(e==null)throw new w("OrganizationApi","updateSubordinateAuthorities","requestBody");const r="/api/v2/org/authority/{username}".replace("{username}",encodeURIComponent(String(t))),i=s.baseServer.makeRequestContext(r,S.PUT);i.setHeaderParam("Accept","application/json, */*;q=0.8");const n=d.getPreferredMediaType(["application/json"]);i.setHeaderParam("Content-Type",n);const c=d.stringify(d.serialize(e,"Set<string>",""),n);i.setBody(c);let l;l=s.authMethods.bearerAuth,l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(i));const u=((f=a==null?void 0:a.authMethods)==null?void 0:f.default)||((b=(y=this.configuration)==null?void 0:y.authMethods)==null?void 0:b.default);return u!=null&&u.applySecurityAuthentication&&await(u==null?void 0:u.applySecurityAuthentication(i)),i}async updateSubordinateOwners(t,e,a){var f,y,b;let s=a||this.configuration;if(t==null)throw new w("OrganizationApi","updateSubordinateOwners","username");if(e==null)throw new w("OrganizationApi","updateSubordinateOwners","requestBody");const r="/api/v2/org/manage/{username}/owners".replace("{username}",encodeURIComponent(String(t))),i=s.baseServer.makeRequestContext(r,S.PUT);i.setHeaderParam("Accept","application/json, */*;q=0.8");const n=d.getPreferredMediaType(["application/json"]);i.setHeaderParam("Content-Type",n);const c=d.stringify(d.serialize(e,"Array<string>",""),n);i.setBody(c);let l;l=s.authMethods.bearerAuth,l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(i));const u=((f=a==null?void 0:a.authMethods)==null?void 0:f.default)||((b=(y=this.configuration)==null?void 0:y.authMethods)==null?void 0:b.default);return u!=null&&u.applySecurityAuthentication&&await(u==null?void 0:u.applySecurityAuthentication(i)),i}async updateSubordinateSubordinates(t,e,a){var f,y,b;let s=a||this.configuration;if(t==null)throw new w("OrganizationApi","updateSubordinateSubordinates","username");if(e==null)throw new w("OrganizationApi","updateSubordinateSubordinates","requestBody");const r="/api/v2/org/manage/{username}/subordinates".replace("{username}",encodeURIComponent(String(t))),i=s.baseServer.makeRequestContext(r,S.PUT);i.setHeaderParam("Accept","application/json, */*;q=0.8");const n=d.getPreferredMediaType(["application/json"]);i.setHeaderParam("Content-Type",n);const c=d.stringify(d.serialize(e,"Array<string>",""),n);i.setBody(c);let l;l=s.authMethods.bearerAuth,l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(i));const u=((f=a==null?void 0:a.authMethods)==null?void 0:f.default)||((b=(y=this.configuration)==null?void 0:y.authMethods)==null?void 0:b.default);return u!=null&&u.applySecurityAuthentication&&await(u==null?void 0:u.applySecurityAuthentication(i)),i}}class Bc{async getOwnersWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<string>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<string>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async getOwnersDotWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async getSubordinateOwnersWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<string>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<string>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async getSubordinateSubordinatesWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<string>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<string>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async getSubordinatesWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<string>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<string>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async getSubordinatesDotWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listSubordinateAuthoritiesWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<string>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<string>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async removeSubordinateSubordinatesTreeWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async updateSubordinateAuthoritiesWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async updateSubordinateOwnersWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async updateSubordinateSubordinatesWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}}class Ec extends se{async batchSearchPluginDetails(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("PluginApi","batchSearchPluginDetails","pluginQueryDTO");const r=a.baseServer.makeRequestContext("/api/v2/plugin/batch/details/search",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"Array<PluginQueryDTO>",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async batchSearchPluginSummary(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("PluginApi","batchSearchPluginSummary","pluginQueryDTO");const r=a.baseServer.makeRequestContext("/api/v2/plugin/batch/search",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"Array<PluginQueryDTO>",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async countPlugins(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("PluginApi","countPlugins","pluginQueryDTO");const r=a.baseServer.makeRequestContext("/api/v2/plugin/count",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"PluginQueryDTO",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async createPlugin(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("PluginApi","createPlugin","pluginCreateDTO");const r=a.baseServer.makeRequestContext("/api/v2/plugin",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"PluginCreateDTO",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async createPlugins(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("PluginApi","createPlugins","pluginCreateDTO");const r=a.baseServer.makeRequestContext("/api/v2/plugin/batch",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"Array<PluginCreateDTO>",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async deletePlugin(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("PluginApi","deletePlugin","pluginId");const s="/api/v2/plugin/{pluginId}".replace("{pluginId}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.DELETE);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async deletePlugins(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("PluginApi","deletePlugins","requestBody");const r=a.baseServer.makeRequestContext("/api/v2/plugin/batch",S.DELETE);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"Array<number>",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async getPluginDetails(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("PluginApi","getPluginDetails","pluginId");const s="/api/v2/plugin/details/{pluginId}".replace("{pluginId}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async getPluginSummary(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("PluginApi","getPluginSummary","pluginId");const s="/api/v2/plugin/summary/{pluginId}".replace("{pluginId}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async refreshPluginInfo(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("PluginApi","refreshPluginInfo","pluginId");const s="/api/v2/plugin/refresh/{pluginId}".replace("{pluginId}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.PUT);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async searchPluginDetails(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("PluginApi","searchPluginDetails","pluginQueryDTO");const r=a.baseServer.makeRequestContext("/api/v2/plugin/details/search",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"PluginQueryDTO",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async searchPluginSummary(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("PluginApi","searchPluginSummary","pluginQueryDTO");const r=a.baseServer.makeRequestContext("/api/v2/plugin/search",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"PluginQueryDTO",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async updatePlugin(t,e,a){var f,y,b;let s=a||this.configuration;if(t==null)throw new w("PluginApi","updatePlugin","pluginId");if(e==null)throw new w("PluginApi","updatePlugin","pluginUpdateDTO");const r="/api/v2/plugin/{pluginId}".replace("{pluginId}",encodeURIComponent(String(t))),i=s.baseServer.makeRequestContext(r,S.PUT);i.setHeaderParam("Accept","application/json, */*;q=0.8");const n=d.getPreferredMediaType(["application/json"]);i.setHeaderParam("Content-Type",n);const c=d.stringify(d.serialize(e,"PluginUpdateDTO",""),n);i.setBody(c);let l;l=s.authMethods.bearerAuth,l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(i));const u=((f=a==null?void 0:a.authMethods)==null?void 0:f.default)||((b=(y=this.configuration)==null?void 0:y.authMethods)==null?void 0:b.default);return u!=null&&u.applySecurityAuthentication&&await(u==null?void 0:u.applySecurityAuthentication(i)),i}}class Fc{async batchSearchPluginDetailsWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<Array<PluginDetailsDTO>>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<Array<PluginDetailsDTO>>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async batchSearchPluginSummaryWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<Array<PluginSummaryDTO>>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<Array<PluginSummaryDTO>>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async countPluginsWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async createPluginWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async createPluginsWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<number>","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<number>","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async deletePluginWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async deletePluginsWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<number>","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<number>","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async getPluginDetailsWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"PluginDetailsDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"PluginDetailsDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async getPluginSummaryWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"PluginSummaryDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"PluginSummaryDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async refreshPluginInfoWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode))return new g(t.httpStatusCode,t.headers,t.body,void 0);if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"void","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async searchPluginDetailsWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<PluginDetailsDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<PluginDetailsDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async searchPluginSummaryWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<PluginSummaryDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<PluginSummaryDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async updatePluginWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}}class Vc extends se{async applyPromptRef(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("PromptApi","applyPromptRef","promptRefDTO");const r=a.baseServer.makeRequestContext("/api/v2/prompt/apply/ref",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"PromptRefDTO",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async applyPromptTemplate(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("PromptApi","applyPromptTemplate","promptTemplateDTO");const r=a.baseServer.makeRequestContext("/api/v2/prompt/apply/template",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"PromptTemplateDTO",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async batchSearchPromptDetails(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("PromptApi","batchSearchPromptDetails","promptQueryDTO");const r=a.baseServer.makeRequestContext("/api/v2/prompt/batch/details/search",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"Array<PromptQueryDTO>",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async batchSearchPromptSummary(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("PromptApi","batchSearchPromptSummary","promptQueryDTO");const r=a.baseServer.makeRequestContext("/api/v2/prompt/batch/search",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"Array<PromptQueryDTO>",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async clonePrompt(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("PromptApi","clonePrompt","promptId");const s="/api/v2/prompt/clone/{promptId}".replace("{promptId}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async clonePrompts(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("PromptApi","clonePrompts","requestBody");const r=a.baseServer.makeRequestContext("/api/v2/prompt/batch/clone",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"Array<number>",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async countPrompts(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("PromptApi","countPrompts","promptQueryDTO");const r=a.baseServer.makeRequestContext("/api/v2/prompt/count",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"PromptQueryDTO",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async countPublicPrompts(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("PromptApi","countPublicPrompts","promptQueryDTO");const r=a.baseServer.makeRequestContext("/api/v2/public/prompt/count",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"PromptQueryDTO",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async createPrompt(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("PromptApi","createPrompt","promptCreateDTO");const r=a.baseServer.makeRequestContext("/api/v2/prompt",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"PromptCreateDTO",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async createPrompts(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("PromptApi","createPrompts","promptCreateDTO");const r=a.baseServer.makeRequestContext("/api/v2/prompt/batch",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"Array<PromptCreateDTO>",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async deletePrompt(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("PromptApi","deletePrompt","promptId");const s="/api/v2/prompt/{promptId}".replace("{promptId}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.DELETE);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async deletePromptByName(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("PromptApi","deletePromptByName","name");const s="/api/v2/prompt/name/{name}".replace("{name}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.DELETE);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async deletePrompts(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("PromptApi","deletePrompts","requestBody");const r=a.baseServer.makeRequestContext("/api/v2/prompt/batch",S.DELETE);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"Array<number>",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async existsPromptName(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("PromptApi","existsPromptName","name");const s="/api/v2/prompt/exists/name/{name}".replace("{name}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async getPromptDetails(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("PromptApi","getPromptDetails","promptId");const s="/api/v2/prompt/details/{promptId}".replace("{promptId}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async getPromptSummary(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("PromptApi","getPromptSummary","promptId");const s="/api/v2/prompt/summary/{promptId}".replace("{promptId}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async listPromptVersionsByName(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("PromptApi","listPromptVersionsByName","name");const s="/api/v2/prompt/versions/{name}".replace("{name}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async newPromptName(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("PromptApi","newPromptName","desired");const s="/api/v2/prompt/create/name/{desired}".replace("{desired}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async publishPrompt(t,e,a){var l,u,f;let s=a||this.configuration;if(t==null)throw new w("PromptApi","publishPrompt","promptId");if(e==null)throw new w("PromptApi","publishPrompt","visibility");const r="/api/v2/prompt/publish/{promptId}/{visibility}".replace("{promptId}",encodeURIComponent(String(t))).replace("{visibility}",encodeURIComponent(String(e))),i=s.baseServer.makeRequestContext(r,S.POST);i.setHeaderParam("Accept","application/json, */*;q=0.8");let n;n=s.authMethods.bearerAuth,n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(i));const c=((l=a==null?void 0:a.authMethods)==null?void 0:l.default)||((f=(u=this.configuration)==null?void 0:u.authMethods)==null?void 0:f.default);return c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(i)),i}async searchPromptDetails(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("PromptApi","searchPromptDetails","promptQueryDTO");const r=a.baseServer.makeRequestContext("/api/v2/prompt/details/search",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"PromptQueryDTO",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async searchPromptSummary(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("PromptApi","searchPromptSummary","promptQueryDTO");const r=a.baseServer.makeRequestContext("/api/v2/prompt/search",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"PromptQueryDTO",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async searchPublicPromptSummary(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("PromptApi","searchPublicPromptSummary","promptQueryDTO");const r=a.baseServer.makeRequestContext("/api/v2/public/prompt/search",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"PromptQueryDTO",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async sendPrompt(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("PromptApi","sendPrompt","promptAiParamDTO");const r=a.baseServer.makeRequestContext("/api/v2/prompt/send",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"PromptAiParamDTO",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async streamSendPrompt(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("PromptApi","streamSendPrompt","promptAiParamDTO");const r=a.baseServer.makeRequestContext("/api/v2/prompt/send/stream",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"PromptAiParamDTO",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async updatePrompt(t,e,a){var f,y,b;let s=a||this.configuration;if(t==null)throw new w("PromptApi","updatePrompt","promptId");if(e==null)throw new w("PromptApi","updatePrompt","promptUpdateDTO");const r="/api/v2/prompt/{promptId}".replace("{promptId}",encodeURIComponent(String(t))),i=s.baseServer.makeRequestContext(r,S.PUT);i.setHeaderParam("Accept","application/json, */*;q=0.8");const n=d.getPreferredMediaType(["application/json"]);i.setHeaderParam("Content-Type",n);const c=d.stringify(d.serialize(e,"PromptUpdateDTO",""),n);i.setBody(c);let l;l=s.authMethods.bearerAuth,l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(i));const u=((f=a==null?void 0:a.authMethods)==null?void 0:f.default)||((b=(y=this.configuration)==null?void 0:y.authMethods)==null?void 0:b.default);return u!=null&&u.applySecurityAuthentication&&await(u==null?void 0:u.applySecurityAuthentication(i)),i}}class Lc{async applyPromptRefWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async applyPromptTemplateWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async batchSearchPromptDetailsWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<Array<PromptDetailsDTO>>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<Array<PromptDetailsDTO>>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async batchSearchPromptSummaryWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<Array<PromptSummaryDTO>>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<Array<PromptSummaryDTO>>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async clonePromptWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async clonePromptsWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<number>","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<number>","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async countPromptsWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async countPublicPromptsWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async createPromptWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async createPromptsWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<number>","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<number>","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async deletePromptWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async deletePromptByNameWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<number>","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<number>","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async deletePromptsWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<number>","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<number>","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async existsPromptNameWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async getPromptDetailsWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"PromptDetailsDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"PromptDetailsDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async getPromptSummaryWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"PromptSummaryDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"PromptSummaryDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listPromptVersionsByNameWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<PromptItemForNameDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<PromptItemForNameDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async newPromptNameWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async publishPromptWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async searchPromptDetailsWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<PromptDetailsDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<PromptDetailsDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async searchPromptSummaryWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<PromptSummaryDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<PromptSummaryDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async searchPublicPromptSummaryWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<PromptSummaryDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<PromptSummaryDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async sendPromptWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"LlmResultDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"LlmResultDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async streamSendPromptWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"SseEmitter","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"SseEmitter","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async updatePromptWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}}class $c extends se{async createPromptTask(t,e){var u,f,y;let a=e||this.configuration;if(t==null)throw new w("PromptTaskApi","createPromptTask","promptTaskDTO");const r=a.baseServer.makeRequestContext("/api/v2/prompt/task",S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");const i=d.getPreferredMediaType(["application/json"]);r.setHeaderParam("Content-Type",i);const n=d.stringify(d.serialize(t,"PromptTaskDTO",""),i);r.setBody(n);let c;c=a.authMethods.bearerAuth,c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(r));const l=((u=e==null?void 0:e.authMethods)==null?void 0:u.default)||((y=(f=this.configuration)==null?void 0:f.authMethods)==null?void 0:y.default);return l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(r)),r}async deletePromptTask(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("PromptTaskApi","deletePromptTask","promptTaskId");const s="/api/v2/prompt/task/{promptTaskId}".replace("{promptTaskId}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.DELETE);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async getPromptTask(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("PromptTaskApi","getPromptTask","promptTaskId");const s="/api/v2/prompt/task/{promptTaskId}".replace("{promptTaskId}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async updatePromptTask(t,e,a){var f,y,b;let s=a||this.configuration;if(t==null)throw new w("PromptTaskApi","updatePromptTask","promptTaskId");if(e==null)throw new w("PromptTaskApi","updatePromptTask","promptTaskDTO");const r="/api/v2/prompt/task/{promptTaskId}".replace("{promptTaskId}",encodeURIComponent(String(t))),i=s.baseServer.makeRequestContext(r,S.PUT);i.setHeaderParam("Accept","application/json, */*;q=0.8");const n=d.getPreferredMediaType(["application/json"]);i.setHeaderParam("Content-Type",n);const c=d.stringify(d.serialize(e,"PromptTaskDTO",""),n);i.setBody(c);let l;l=s.authMethods.bearerAuth,l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(i));const u=((f=a==null?void 0:a.authMethods)==null?void 0:f.default)||((b=(y=this.configuration)==null?void 0:y.authMethods)==null?void 0:b.default);return u!=null&&u.applySecurityAuthentication&&await(u==null?void 0:u.applySecurityAuthentication(i)),i}}class Kc{async createPromptTaskWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async deletePromptTaskWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async getPromptTaskWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"PromptTaskDetailsDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"PromptTaskDetailsDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async updatePromptTaskWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}}class Gc extends se{async cancelRagTask(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("RagApi","cancelRagTask","taskId");const s="/api/v2/rag/task/cancel/{taskId}".replace("{taskId}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async createRagTask(t,e,a){var f,y,b;let s=a||this.configuration;if(t==null)throw new w("RagApi","createRagTask","characterUid");if(e==null)throw new w("RagApi","createRagTask","ragTaskDTO");const r="/api/v2/rag/task/{characterUid}".replace("{characterUid}",encodeURIComponent(String(t))),i=s.baseServer.makeRequestContext(r,S.POST);i.setHeaderParam("Accept","application/json, */*;q=0.8");const n=d.getPreferredMediaType(["application/json"]);i.setHeaderParam("Content-Type",n);const c=d.stringify(d.serialize(e,"RagTaskDTO",""),n);i.setBody(c);let l;l=s.authMethods.bearerAuth,l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(i));const u=((f=a==null?void 0:a.authMethods)==null?void 0:f.default)||((b=(y=this.configuration)==null?void 0:y.authMethods)==null?void 0:b.default);return u!=null&&u.applySecurityAuthentication&&await(u==null?void 0:u.applySecurityAuthentication(i)),i}async deleteRagTask(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("RagApi","deleteRagTask","taskId");const s="/api/v2/rag/task/{taskId}".replace("{taskId}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.DELETE);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async getRagTask(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("RagApi","getRagTask","taskId");const s="/api/v2/rag/task/{taskId}".replace("{taskId}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async getRagTaskStatus(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("RagApi","getRagTaskStatus","taskId");const s="/api/v2/rag/task/status/{taskId}".replace("{taskId}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async listRagTasks(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("RagApi","listRagTasks","characterUid");const s="/api/v2/rag/tasks/{characterUid}".replace("{characterUid}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async startRagTask(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("RagApi","startRagTask","taskId");const s="/api/v2/rag/task/start/{taskId}".replace("{taskId}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.POST);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}async updateRagTask(t,e,a){var f,y,b;let s=a||this.configuration;if(t==null)throw new w("RagApi","updateRagTask","taskId");if(e==null)throw new w("RagApi","updateRagTask","ragTaskDTO");const r="/api/v2/rag/task/{taskId}".replace("{taskId}",encodeURIComponent(String(t))),i=s.baseServer.makeRequestContext(r,S.PUT);i.setHeaderParam("Accept","application/json, */*;q=0.8");const n=d.getPreferredMediaType(["application/json"]);i.setHeaderParam("Content-Type",n);const c=d.stringify(d.serialize(e,"RagTaskDTO",""),n);i.setBody(c);let l;l=s.authMethods.bearerAuth,l!=null&&l.applySecurityAuthentication&&await(l==null?void 0:l.applySecurityAuthentication(i));const u=((f=a==null?void 0:a.authMethods)==null?void 0:f.default)||((b=(y=this.configuration)==null?void 0:y.authMethods)==null?void 0:b.default);return u!=null&&u.applySecurityAuthentication&&await(u==null?void 0:u.applySecurityAuthentication(i)),i}}class Qc{async cancelRagTaskWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async createRagTaskWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"number","int64");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async deleteRagTaskWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async getRagTaskWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"RagTaskDetailsDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"RagTaskDetailsDTO","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async getRagTaskStatusWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"string","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async listRagTasksWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<RagTaskDetailsDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<RagTaskDetailsDTO>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async startRagTaskWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async updateRagTaskWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"boolean","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}}class Yc extends se{async listTtsBuiltinSpeakers(t){var n,c,l;let e=t||this.configuration;const s=e.baseServer.makeRequestContext("/api/v2/public/tts/builtin/speakers",S.GET);s.setHeaderParam("Accept","application/json, */*;q=0.8");let r;r=e.authMethods.bearerAuth,r!=null&&r.applySecurityAuthentication&&await(r==null?void 0:r.applySecurityAuthentication(s));const i=((n=t==null?void 0:t.authMethods)==null?void 0:n.default)||((l=(c=this.configuration)==null?void 0:c.authMethods)==null?void 0:l.default);return i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(s)),s}async playSample(t,e,a){var l,u,f;let s=a||this.configuration;if(t==null)throw new w("TTSServiceApi","playSample","speakerType");if(e==null)throw new w("TTSServiceApi","playSample","speaker");const r="/api/v2/public/tts/play/sample/{speakerType}/{speaker}".replace("{speakerType}",encodeURIComponent(String(t))).replace("{speaker}",encodeURIComponent(String(e))),i=s.baseServer.makeRequestContext(r,S.GET);i.setHeaderParam("Accept","application/json, */*;q=0.8");let n;n=s.authMethods.bearerAuth,n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(i));const c=((l=a==null?void 0:a.authMethods)==null?void 0:l.default)||((f=(u=this.configuration)==null?void 0:u.authMethods)==null?void 0:f.default);return c!=null&&c.applySecurityAuthentication&&await(c==null?void 0:c.applySecurityAuthentication(i)),i}async speakMessage(t,e){var c,l,u;let a=e||this.configuration;if(t==null)throw new w("TTSServiceApi","speakMessage","messageId");const s="/api/v2/tts/speak/{messageId}".replace("{messageId}",encodeURIComponent(String(t))),r=a.baseServer.makeRequestContext(s,S.GET);r.setHeaderParam("Accept","application/json, */*;q=0.8");let i;i=a.authMethods.bearerAuth,i!=null&&i.applySecurityAuthentication&&await(i==null?void 0:i.applySecurityAuthentication(r));const n=((c=e==null?void 0:e.authMethods)==null?void 0:c.default)||((u=(l=this.configuration)==null?void 0:l.authMethods)==null?void 0:u.default);return n!=null&&n.applySecurityAuthentication&&await(n==null?void 0:n.applySecurityAuthentication(r)),r}}class Jc{async listTtsBuiltinSpeakersWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<string>","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"Array<string>","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async playSampleWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"any","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"any","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}async speakMessageWithHttpInfo(t){const e=d.normalizeMediaType(t.headers["content-type"]);if(I("200",t.httpStatusCode)){const a=d.deserialize(d.parse(await t.body.text(),e),"any","");return new g(t.httpStatusCode,t.headers,t.body,a)}if(t.httpStatusCode>=200&&t.httpStatusCode<=299){const a=d.deserialize(d.parse(await t.body.text(),e),"any","");return new g(t.httpStatusCode,t.headers,t.body,a)}throw new A(t.httpStatusCode,"Unknown API Status Code!",await t.getBodyAsAny(),t.headers)}}class Xc{constructor(t,e,a){this.configuration=t,this.requestFactory=e||new wc(t),this.responseProcessor=a||new xc}addAiApiKeyWithHttpInfo(t,e){const a=this.requestFactory.addAiApiKey(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.addAiApiKeyWithHttpInfo(n))}))}addAiApiKey(t,e){return this.addAiApiKeyWithHttpInfo(t,e).pipe(a=>a.data)}deleteAiApiKeyWithHttpInfo(t,e){const a=this.requestFactory.deleteAiApiKey(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.deleteAiApiKeyWithHttpInfo(n))}))}deleteAiApiKey(t,e){return this.deleteAiApiKeyWithHttpInfo(t,e).pipe(a=>a.data)}disableAiApiKeyWithHttpInfo(t,e){const a=this.requestFactory.disableAiApiKey(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.disableAiApiKeyWithHttpInfo(n))}))}disableAiApiKey(t,e){return this.disableAiApiKeyWithHttpInfo(t,e).pipe(a=>a.data)}enableAiApiKeyWithHttpInfo(t,e){const a=this.requestFactory.enableAiApiKey(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.enableAiApiKeyWithHttpInfo(n))}))}enableAiApiKey(t,e){return this.enableAiApiKeyWithHttpInfo(t,e).pipe(a=>a.data)}getAiApiKeyWithHttpInfo(t,e){const a=this.requestFactory.getAiApiKey(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.getAiApiKeyWithHttpInfo(n))}))}getAiApiKey(t,e){return this.getAiApiKeyWithHttpInfo(t,e).pipe(a=>a.data)}listAiApiKeysWithHttpInfo(t,e){const a=this.requestFactory.listAiApiKeys(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.listAiApiKeysWithHttpInfo(n))}))}listAiApiKeys(t,e){return this.listAiApiKeysWithHttpInfo(t,e).pipe(a=>a.data)}}class Zc{constructor(t,e,a){this.configuration=t,this.requestFactory=e||new Sc(t),this.responseProcessor=a||new Cc}createTokenWithHttpInfo(t,e){const a=this.requestFactory.createToken(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.createTokenWithHttpInfo(n))}))}createToken(t,e){return this.createTokenWithHttpInfo(t,e).pipe(a=>a.data)}createToken1WithHttpInfo(t){const e=this.requestFactory.createToken1(t);let a=x(e);for(const s of this.configuration.middleware)a=a.pipe(h(r=>s.pre(r)));return a.pipe(h(s=>this.configuration.httpApi.send(s))).pipe(h(s=>{let r=P(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.post(n)));return r.pipe(i=>this.responseProcessor.createToken1WithHttpInfo(i))}))}createToken1(t){return this.createToken1WithHttpInfo(t).pipe(e=>e.data)}deleteTokenWithHttpInfo(t,e){const a=this.requestFactory.deleteToken(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.deleteTokenWithHttpInfo(n))}))}deleteToken(t,e){return this.deleteTokenWithHttpInfo(t,e).pipe(a=>a.data)}deleteTokenByIdWithHttpInfo(t,e){const a=this.requestFactory.deleteTokenById(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.deleteTokenByIdWithHttpInfo(n))}))}deleteTokenById(t,e){return this.deleteTokenByIdWithHttpInfo(t,e).pipe(a=>a.data)}disableTokenWithHttpInfo(t,e){const a=this.requestFactory.disableToken(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.disableTokenWithHttpInfo(n))}))}disableToken(t,e){return this.disableTokenWithHttpInfo(t,e).pipe(a=>a.data)}disableTokenByIdWithHttpInfo(t,e){const a=this.requestFactory.disableTokenById(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.disableTokenByIdWithHttpInfo(n))}))}disableTokenById(t,e){return this.disableTokenByIdWithHttpInfo(t,e).pipe(a=>a.data)}getTokenByIdWithHttpInfo(t,e){const a=this.requestFactory.getTokenById(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.getTokenByIdWithHttpInfo(n))}))}getTokenById(t,e){return this.getTokenByIdWithHttpInfo(t,e).pipe(a=>a.data)}getUserBasicWithHttpInfo(t,e){const a=this.requestFactory.getUserBasic(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.getUserBasicWithHttpInfo(n))}))}getUserBasic(t,e){return this.getUserBasicWithHttpInfo(t,e).pipe(a=>a.data)}getUserBasic1WithHttpInfo(t){const e=this.requestFactory.getUserBasic1(t);let a=x(e);for(const s of this.configuration.middleware)a=a.pipe(h(r=>s.pre(r)));return a.pipe(h(s=>this.configuration.httpApi.send(s))).pipe(h(s=>{let r=P(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.post(n)));return r.pipe(i=>this.responseProcessor.getUserBasic1WithHttpInfo(i))}))}getUserBasic1(t){return this.getUserBasic1WithHttpInfo(t).pipe(e=>e.data)}getUserDetailsWithHttpInfo(t){const e=this.requestFactory.getUserDetails(t);let a=x(e);for(const s of this.configuration.middleware)a=a.pipe(h(r=>s.pre(r)));return a.pipe(h(s=>this.configuration.httpApi.send(s))).pipe(h(s=>{let r=P(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.post(n)));return r.pipe(i=>this.responseProcessor.getUserDetailsWithHttpInfo(i))}))}getUserDetails(t){return this.getUserDetailsWithHttpInfo(t).pipe(e=>e.data)}listTokensWithHttpInfo(t){const e=this.requestFactory.listTokens(t);let a=x(e);for(const s of this.configuration.middleware)a=a.pipe(h(r=>s.pre(r)));return a.pipe(h(s=>this.configuration.httpApi.send(s))).pipe(h(s=>{let r=P(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.post(n)));return r.pipe(i=>this.responseProcessor.listTokensWithHttpInfo(i))}))}listTokens(t){return this.listTokensWithHttpInfo(t).pipe(e=>e.data)}updateUserInfoWithHttpInfo(t,e){const a=this.requestFactory.updateUserInfo(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.updateUserInfoWithHttpInfo(n))}))}updateUserInfo(t,e){return this.updateUserInfoWithHttpInfo(t,e).pipe(a=>a.data)}uploadUserPictureWithHttpInfo(t,e){const a=this.requestFactory.uploadUserPicture(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.uploadUserPictureWithHttpInfo(n))}))}uploadUserPicture(t,e){return this.uploadUserPictureWithHttpInfo(t,e).pipe(a=>a.data)}}class _c{constructor(t,e,a){this.configuration=t,this.requestFactory=e||new Pc(t),this.responseProcessor=a||new Ac}createTokenForUserWithHttpInfo(t,e,a){const s=this.requestFactory.createTokenForUser(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.createTokenForUserWithHttpInfo(c))}))}createTokenForUser(t,e,a){return this.createTokenForUserWithHttpInfo(t,e,a).pipe(s=>s.data)}createUserWithHttpInfo(t,e){const a=this.requestFactory.createUser(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.createUserWithHttpInfo(n))}))}createUser(t,e){return this.createUserWithHttpInfo(t,e).pipe(a=>a.data)}deleteTokenForUserWithHttpInfo(t,e){const a=this.requestFactory.deleteTokenForUser(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.deleteTokenForUserWithHttpInfo(n))}))}deleteTokenForUser(t,e){return this.deleteTokenForUserWithHttpInfo(t,e).pipe(a=>a.data)}deleteUserWithHttpInfo(t,e){const a=this.requestFactory.deleteUser(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.deleteUserWithHttpInfo(n))}))}deleteUser(t,e){return this.deleteUserWithHttpInfo(t,e).pipe(a=>a.data)}disableTokenForUserWithHttpInfo(t,e){const a=this.requestFactory.disableTokenForUser(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.disableTokenForUserWithHttpInfo(n))}))}disableTokenForUser(t,e){return this.disableTokenForUserWithHttpInfo(t,e).pipe(a=>a.data)}getDetailsOfUserWithHttpInfo(t,e){const a=this.requestFactory.getDetailsOfUser(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.getDetailsOfUserWithHttpInfo(n))}))}getDetailsOfUser(t,e){return this.getDetailsOfUserWithHttpInfo(t,e).pipe(a=>a.data)}getUserByTokenWithHttpInfo(t,e){const a=this.requestFactory.getUserByToken(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.getUserByTokenWithHttpInfo(n))}))}getUserByToken(t,e){return this.getUserByTokenWithHttpInfo(t,e).pipe(a=>a.data)}listAuthoritiesOfUserWithHttpInfo(t,e){const a=this.requestFactory.listAuthoritiesOfUser(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.listAuthoritiesOfUserWithHttpInfo(n))}))}listAuthoritiesOfUser(t,e){return this.listAuthoritiesOfUserWithHttpInfo(t,e).pipe(a=>a.data)}listTokensOfUserWithHttpInfo(t,e){const a=this.requestFactory.listTokensOfUser(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.listTokensOfUserWithHttpInfo(n))}))}listTokensOfUser(t,e){return this.listTokensOfUserWithHttpInfo(t,e).pipe(a=>a.data)}listUsersWithHttpInfo(t,e,a){const s=this.requestFactory.listUsers(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.listUsersWithHttpInfo(c))}))}listUsers(t,e,a){return this.listUsersWithHttpInfo(t,e,a).pipe(s=>s.data)}listUsers1WithHttpInfo(t){const e=this.requestFactory.listUsers1(t);let a=x(e);for(const s of this.configuration.middleware)a=a.pipe(h(r=>s.pre(r)));return a.pipe(h(s=>this.configuration.httpApi.send(s))).pipe(h(s=>{let r=P(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.post(n)));return r.pipe(i=>this.responseProcessor.listUsers1WithHttpInfo(i))}))}listUsers1(t){return this.listUsers1WithHttpInfo(t).pipe(e=>e.data)}listUsers2WithHttpInfo(t,e){const a=this.requestFactory.listUsers2(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.listUsers2WithHttpInfo(n))}))}listUsers2(t,e){return this.listUsers2WithHttpInfo(t,e).pipe(a=>a.data)}updateAuthoritiesOfUserWithHttpInfo(t,e,a){const s=this.requestFactory.updateAuthoritiesOfUser(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.updateAuthoritiesOfUserWithHttpInfo(c))}))}updateAuthoritiesOfUser(t,e,a){return this.updateAuthoritiesOfUserWithHttpInfo(t,e,a).pipe(s=>s.data)}updateUserWithHttpInfo(t,e){const a=this.requestFactory.updateUser(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.updateUserWithHttpInfo(n))}))}updateUser(t,e){return this.updateUserWithHttpInfo(t,e).pipe(a=>a.data)}}class tl{constructor(t,e,a){this.configuration=t,this.requestFactory=e||new Ic(t),this.responseProcessor=a||new Tc}batchSearchAgentDetailsWithHttpInfo(t,e){const a=this.requestFactory.batchSearchAgentDetails(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.batchSearchAgentDetailsWithHttpInfo(n))}))}batchSearchAgentDetails(t,e){return this.batchSearchAgentDetailsWithHttpInfo(t,e).pipe(a=>a.data)}batchSearchAgentSummaryWithHttpInfo(t,e){const a=this.requestFactory.batchSearchAgentSummary(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.batchSearchAgentSummaryWithHttpInfo(n))}))}batchSearchAgentSummary(t,e){return this.batchSearchAgentSummaryWithHttpInfo(t,e).pipe(a=>a.data)}cloneAgentWithHttpInfo(t,e){const a=this.requestFactory.cloneAgent(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.cloneAgentWithHttpInfo(n))}))}cloneAgent(t,e){return this.cloneAgentWithHttpInfo(t,e).pipe(a=>a.data)}cloneAgentsWithHttpInfo(t,e){const a=this.requestFactory.cloneAgents(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.cloneAgentsWithHttpInfo(n))}))}cloneAgents(t,e){return this.cloneAgentsWithHttpInfo(t,e).pipe(a=>a.data)}countAgentsWithHttpInfo(t,e){const a=this.requestFactory.countAgents(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.countAgentsWithHttpInfo(n))}))}countAgents(t,e){return this.countAgentsWithHttpInfo(t,e).pipe(a=>a.data)}createAgentWithHttpInfo(t,e){const a=this.requestFactory.createAgent(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.createAgentWithHttpInfo(n))}))}createAgent(t,e){return this.createAgentWithHttpInfo(t,e).pipe(a=>a.data)}createAgentsWithHttpInfo(t,e){const a=this.requestFactory.createAgents(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.createAgentsWithHttpInfo(n))}))}createAgents(t,e){return this.createAgentsWithHttpInfo(t,e).pipe(a=>a.data)}deleteAgentWithHttpInfo(t,e){const a=this.requestFactory.deleteAgent(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.deleteAgentWithHttpInfo(n))}))}deleteAgent(t,e){return this.deleteAgentWithHttpInfo(t,e).pipe(a=>a.data)}deleteAgentsWithHttpInfo(t,e){const a=this.requestFactory.deleteAgents(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.deleteAgentsWithHttpInfo(n))}))}deleteAgents(t,e){return this.deleteAgentsWithHttpInfo(t,e).pipe(a=>a.data)}getAgentDetailsWithHttpInfo(t,e){const a=this.requestFactory.getAgentDetails(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.getAgentDetailsWithHttpInfo(n))}))}getAgentDetails(t,e){return this.getAgentDetailsWithHttpInfo(t,e).pipe(a=>a.data)}getAgentSummaryWithHttpInfo(t,e){const a=this.requestFactory.getAgentSummary(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.getAgentSummaryWithHttpInfo(n))}))}getAgentSummary(t,e){return this.getAgentSummaryWithHttpInfo(t,e).pipe(a=>a.data)}listAgentVersionsByNameWithHttpInfo(t,e){const a=this.requestFactory.listAgentVersionsByName(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.listAgentVersionsByNameWithHttpInfo(n))}))}listAgentVersionsByName(t,e){return this.listAgentVersionsByNameWithHttpInfo(t,e).pipe(a=>a.data)}publishAgentWithHttpInfo(t,e,a){const s=this.requestFactory.publishAgent(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.publishAgentWithHttpInfo(c))}))}publishAgent(t,e,a){return this.publishAgentWithHttpInfo(t,e,a).pipe(s=>s.data)}searchAgentDetailsWithHttpInfo(t,e){const a=this.requestFactory.searchAgentDetails(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.searchAgentDetailsWithHttpInfo(n))}))}searchAgentDetails(t,e){return this.searchAgentDetailsWithHttpInfo(t,e).pipe(a=>a.data)}searchAgentSummaryWithHttpInfo(t,e){const a=this.requestFactory.searchAgentSummary(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.searchAgentSummaryWithHttpInfo(n))}))}searchAgentSummary(t,e){return this.searchAgentSummaryWithHttpInfo(t,e).pipe(a=>a.data)}updateAgentWithHttpInfo(t,e,a){const s=this.requestFactory.updateAgent(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.updateAgentWithHttpInfo(c))}))}updateAgent(t,e,a){return this.updateAgentWithHttpInfo(t,e,a).pipe(s=>s.data)}}class el{constructor(t,e,a){this.configuration=t,this.requestFactory=e||new vc(t),this.responseProcessor=a||new jc}getDefaultConfigWithHttpInfo(t){const e=this.requestFactory.getDefaultConfig(t);let a=x(e);for(const s of this.configuration.middleware)a=a.pipe(h(r=>s.pre(r)));return a.pipe(h(s=>this.configuration.httpApi.send(s))).pipe(h(s=>{let r=P(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.post(n)));return r.pipe(i=>this.responseProcessor.getDefaultConfigWithHttpInfo(i))}))}getDefaultConfig(t){return this.getDefaultConfigWithHttpInfo(t).pipe(e=>e.data)}}class al{constructor(t,e,a){this.configuration=t,this.requestFactory=e||new kc(t),this.responseProcessor=a||new Hc}getAppMetaWithHttpInfo(t){const e=this.requestFactory.getAppMeta(t);let a=x(e);for(const s of this.configuration.middleware)a=a.pipe(h(r=>s.pre(r)));return a.pipe(h(s=>this.configuration.httpApi.send(s))).pipe(h(s=>{let r=P(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.post(n)));return r.pipe(i=>this.responseProcessor.getAppMetaWithHttpInfo(i))}))}getAppMeta(t){return this.getAppMetaWithHttpInfo(t).pipe(e=>e.data)}}class il{constructor(t,e,a){this.configuration=t,this.requestFactory=e||new Wc(t),this.responseProcessor=a||new Rc}addCharacterBackendWithHttpInfo(t,e,a){const s=this.requestFactory.addCharacterBackend(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.addCharacterBackendWithHttpInfo(c))}))}addCharacterBackend(t,e,a){return this.addCharacterBackendWithHttpInfo(t,e,a).pipe(s=>s.data)}batchSearchCharacterDetailsWithHttpInfo(t,e){const a=this.requestFactory.batchSearchCharacterDetails(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.batchSearchCharacterDetailsWithHttpInfo(n))}))}batchSearchCharacterDetails(t,e){return this.batchSearchCharacterDetailsWithHttpInfo(t,e).pipe(a=>a.data)}batchSearchCharacterSummaryWithHttpInfo(t,e){const a=this.requestFactory.batchSearchCharacterSummary(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.batchSearchCharacterSummaryWithHttpInfo(n))}))}batchSearchCharacterSummary(t,e){return this.batchSearchCharacterSummaryWithHttpInfo(t,e).pipe(a=>a.data)}cloneCharacterWithHttpInfo(t,e){const a=this.requestFactory.cloneCharacter(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.cloneCharacterWithHttpInfo(n))}))}cloneCharacter(t,e){return this.cloneCharacterWithHttpInfo(t,e).pipe(a=>a.data)}countCharactersWithHttpInfo(t,e){const a=this.requestFactory.countCharacters(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.countCharactersWithHttpInfo(n))}))}countCharacters(t,e){return this.countCharactersWithHttpInfo(t,e).pipe(a=>a.data)}countPublicCharactersWithHttpInfo(t,e){const a=this.requestFactory.countPublicCharacters(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.countPublicCharactersWithHttpInfo(n))}))}countPublicCharacters(t,e){return this.countPublicCharactersWithHttpInfo(t,e).pipe(a=>a.data)}createCharacterWithHttpInfo(t,e){const a=this.requestFactory.createCharacter(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.createCharacterWithHttpInfo(n))}))}createCharacter(t,e){return this.createCharacterWithHttpInfo(t,e).pipe(a=>a.data)}deleteCharacterWithHttpInfo(t,e){const a=this.requestFactory.deleteCharacter(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.deleteCharacterWithHttpInfo(n))}))}deleteCharacter(t,e){return this.deleteCharacterWithHttpInfo(t,e).pipe(a=>a.data)}deleteCharacterByNameWithHttpInfo(t,e){const a=this.requestFactory.deleteCharacterByName(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.deleteCharacterByNameWithHttpInfo(n))}))}deleteCharacterByName(t,e){return this.deleteCharacterByNameWithHttpInfo(t,e).pipe(a=>a.data)}deleteCharacterByUidWithHttpInfo(t,e){const a=this.requestFactory.deleteCharacterByUid(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.deleteCharacterByUidWithHttpInfo(n))}))}deleteCharacterByUid(t,e){return this.deleteCharacterByUidWithHttpInfo(t,e).pipe(a=>a.data)}deleteCharacterDocumentWithHttpInfo(t,e){const a=this.requestFactory.deleteCharacterDocument(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.deleteCharacterDocumentWithHttpInfo(n))}))}deleteCharacterDocument(t,e){return this.deleteCharacterDocumentWithHttpInfo(t,e).pipe(a=>a.data)}deleteCharacterPictureWithHttpInfo(t,e){const a=this.requestFactory.deleteCharacterPicture(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.deleteCharacterPictureWithHttpInfo(n))}))}deleteCharacterPicture(t,e){return this.deleteCharacterPictureWithHttpInfo(t,e).pipe(a=>a.data)}deleteCharacterVideoWithHttpInfo(t,e){const a=this.requestFactory.deleteCharacterVideo(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.deleteCharacterVideoWithHttpInfo(n))}))}deleteCharacterVideo(t,e){return this.deleteCharacterVideoWithHttpInfo(t,e).pipe(a=>a.data)}deleteCharacterVoiceWithHttpInfo(t,e,a){const s=this.requestFactory.deleteCharacterVoice(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.deleteCharacterVoiceWithHttpInfo(c))}))}deleteCharacterVoice(t,e,a){return this.deleteCharacterVoiceWithHttpInfo(t,e,a).pipe(s=>s.data)}existsCharacterNameWithHttpInfo(t,e){const a=this.requestFactory.existsCharacterName(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.existsCharacterNameWithHttpInfo(n))}))}existsCharacterName(t,e){return this.existsCharacterNameWithHttpInfo(t,e).pipe(a=>a.data)}exportCharacterWithHttpInfo(t,e){const a=this.requestFactory.exportCharacter(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.exportCharacterWithHttpInfo(n))}))}exportCharacter(t,e){return this.exportCharacterWithHttpInfo(t,e).pipe(a=>a.data)}getCharacterDetailsWithHttpInfo(t,e){const a=this.requestFactory.getCharacterDetails(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.getCharacterDetailsWithHttpInfo(n))}))}getCharacterDetails(t,e){return this.getCharacterDetailsWithHttpInfo(t,e).pipe(a=>a.data)}getCharacterLatestIdByNameWithHttpInfo(t,e){const a=this.requestFactory.getCharacterLatestIdByName(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.getCharacterLatestIdByNameWithHttpInfo(n))}))}getCharacterLatestIdByName(t,e){return this.getCharacterLatestIdByNameWithHttpInfo(t,e).pipe(a=>a.data)}getCharacterSummaryWithHttpInfo(t,e){const a=this.requestFactory.getCharacterSummary(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.getCharacterSummaryWithHttpInfo(n))}))}getCharacterSummary(t,e){return this.getCharacterSummaryWithHttpInfo(t,e).pipe(a=>a.data)}getDefaultCharacterBackendWithHttpInfo(t,e){const a=this.requestFactory.getDefaultCharacterBackend(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.getDefaultCharacterBackendWithHttpInfo(n))}))}getDefaultCharacterBackend(t,e){return this.getDefaultCharacterBackendWithHttpInfo(t,e).pipe(a=>a.data)}importCharacterWithHttpInfo(t,e){const a=this.requestFactory.importCharacter(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.importCharacterWithHttpInfo(n))}))}importCharacter(t,e){return this.importCharacterWithHttpInfo(t,e).pipe(a=>a.data)}listCharacterBackendIdsWithHttpInfo(t,e){const a=this.requestFactory.listCharacterBackendIds(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.listCharacterBackendIdsWithHttpInfo(n))}))}listCharacterBackendIds(t,e){return this.listCharacterBackendIdsWithHttpInfo(t,e).pipe(a=>a.data)}listCharacterBackendsWithHttpInfo(t,e){const a=this.requestFactory.listCharacterBackends(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.listCharacterBackendsWithHttpInfo(n))}))}listCharacterBackends(t,e){return this.listCharacterBackendsWithHttpInfo(t,e).pipe(a=>a.data)}listCharacterDocumentsWithHttpInfo(t,e){const a=this.requestFactory.listCharacterDocuments(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.listCharacterDocumentsWithHttpInfo(n))}))}listCharacterDocuments(t,e){return this.listCharacterDocumentsWithHttpInfo(t,e).pipe(a=>a.data)}listCharacterPicturesWithHttpInfo(t,e){const a=this.requestFactory.listCharacterPictures(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.listCharacterPicturesWithHttpInfo(n))}))}listCharacterPictures(t,e){return this.listCharacterPicturesWithHttpInfo(t,e).pipe(a=>a.data)}listCharacterVersionsByNameWithHttpInfo(t,e){const a=this.requestFactory.listCharacterVersionsByName(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.listCharacterVersionsByNameWithHttpInfo(n))}))}listCharacterVersionsByName(t,e){return this.listCharacterVersionsByNameWithHttpInfo(t,e).pipe(a=>a.data)}listCharacterVideosWithHttpInfo(t,e){const a=this.requestFactory.listCharacterVideos(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.listCharacterVideosWithHttpInfo(n))}))}listCharacterVideos(t,e){return this.listCharacterVideosWithHttpInfo(t,e).pipe(a=>a.data)}listCharacterVoicesWithHttpInfo(t,e){const a=this.requestFactory.listCharacterVoices(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.listCharacterVoicesWithHttpInfo(n))}))}listCharacterVoices(t,e){return this.listCharacterVoicesWithHttpInfo(t,e).pipe(a=>a.data)}newCharacterNameWithHttpInfo(t,e){const a=this.requestFactory.newCharacterName(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.newCharacterNameWithHttpInfo(n))}))}newCharacterName(t,e){return this.newCharacterNameWithHttpInfo(t,e).pipe(a=>a.data)}publishCharacterWithHttpInfo(t,e,a){const s=this.requestFactory.publishCharacter(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.publishCharacterWithHttpInfo(c))}))}publishCharacter(t,e,a){return this.publishCharacterWithHttpInfo(t,e,a).pipe(s=>s.data)}publishCharacter1WithHttpInfo(t,e){const a=this.requestFactory.publishCharacter1(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.publishCharacter1WithHttpInfo(n))}))}publishCharacter1(t,e){return this.publishCharacter1WithHttpInfo(t,e).pipe(a=>a.data)}removeCharacterBackendWithHttpInfo(t,e){const a=this.requestFactory.removeCharacterBackend(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.removeCharacterBackendWithHttpInfo(n))}))}removeCharacterBackend(t,e){return this.removeCharacterBackendWithHttpInfo(t,e).pipe(a=>a.data)}searchCharacterDetailsWithHttpInfo(t,e){const a=this.requestFactory.searchCharacterDetails(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.searchCharacterDetailsWithHttpInfo(n))}))}searchCharacterDetails(t,e){return this.searchCharacterDetailsWithHttpInfo(t,e).pipe(a=>a.data)}searchCharacterSummaryWithHttpInfo(t,e){const a=this.requestFactory.searchCharacterSummary(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.searchCharacterSummaryWithHttpInfo(n))}))}searchCharacterSummary(t,e){return this.searchCharacterSummaryWithHttpInfo(t,e).pipe(a=>a.data)}searchPublicCharacterSummaryWithHttpInfo(t,e){const a=this.requestFactory.searchPublicCharacterSummary(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.searchPublicCharacterSummaryWithHttpInfo(n))}))}searchPublicCharacterSummary(t,e){return this.searchPublicCharacterSummaryWithHttpInfo(t,e).pipe(a=>a.data)}setDefaultCharacterBackendWithHttpInfo(t,e){const a=this.requestFactory.setDefaultCharacterBackend(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.setDefaultCharacterBackendWithHttpInfo(n))}))}setDefaultCharacterBackend(t,e){return this.setDefaultCharacterBackendWithHttpInfo(t,e).pipe(a=>a.data)}updateCharacterWithHttpInfo(t,e,a){const s=this.requestFactory.updateCharacter(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.updateCharacterWithHttpInfo(c))}))}updateCharacter(t,e,a){return this.updateCharacterWithHttpInfo(t,e,a).pipe(s=>s.data)}updateCharacterBackendWithHttpInfo(t,e,a){const s=this.requestFactory.updateCharacterBackend(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.updateCharacterBackendWithHttpInfo(c))}))}updateCharacterBackend(t,e,a){return this.updateCharacterBackendWithHttpInfo(t,e,a).pipe(s=>s.data)}uploadCharacterAvatarWithHttpInfo(t,e,a){const s=this.requestFactory.uploadCharacterAvatar(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.uploadCharacterAvatarWithHttpInfo(c))}))}uploadCharacterAvatar(t,e,a){return this.uploadCharacterAvatarWithHttpInfo(t,e,a).pipe(s=>s.data)}uploadCharacterDocumentWithHttpInfo(t,e,a){const s=this.requestFactory.uploadCharacterDocument(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.uploadCharacterDocumentWithHttpInfo(c))}))}uploadCharacterDocument(t,e,a){return this.uploadCharacterDocumentWithHttpInfo(t,e,a).pipe(s=>s.data)}uploadCharacterPictureWithHttpInfo(t,e,a){const s=this.requestFactory.uploadCharacterPicture(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.uploadCharacterPictureWithHttpInfo(c))}))}uploadCharacterPicture(t,e,a){return this.uploadCharacterPictureWithHttpInfo(t,e,a).pipe(s=>s.data)}uploadCharacterVideoWithHttpInfo(t,e,a){const s=this.requestFactory.uploadCharacterVideo(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.uploadCharacterVideoWithHttpInfo(c))}))}uploadCharacterVideo(t,e,a){return this.uploadCharacterVideoWithHttpInfo(t,e,a).pipe(s=>s.data)}uploadCharacterVoiceWithHttpInfo(t,e,a){const s=this.requestFactory.uploadCharacterVoice(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.uploadCharacterVoiceWithHttpInfo(c))}))}uploadCharacterVoice(t,e,a){return this.uploadCharacterVoiceWithHttpInfo(t,e,a).pipe(s=>s.data)}}class rl{constructor(t,e,a){this.configuration=t,this.requestFactory=e||new Nc(t),this.responseProcessor=a||new zc}clearMemoryWithHttpInfo(t,e){const a=this.requestFactory.clearMemory(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.clearMemoryWithHttpInfo(n))}))}clearMemory(t,e){return this.clearMemoryWithHttpInfo(t,e).pipe(a=>a.data)}deleteChatWithHttpInfo(t,e){const a=this.requestFactory.deleteChat(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.deleteChatWithHttpInfo(n))}))}deleteChat(t,e){return this.deleteChatWithHttpInfo(t,e).pipe(a=>a.data)}getDefaultChatIdWithHttpInfo(t,e){const a=this.requestFactory.getDefaultChatId(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.getDefaultChatIdWithHttpInfo(n))}))}getDefaultChatId(t,e){return this.getDefaultChatIdWithHttpInfo(t,e).pipe(a=>a.data)}getMemoryUsageWithHttpInfo(t,e){const a=this.requestFactory.getMemoryUsage(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.getMemoryUsageWithHttpInfo(n))}))}getMemoryUsage(t,e){return this.getMemoryUsageWithHttpInfo(t,e).pipe(a=>a.data)}listChatsWithHttpInfo(t){const e=this.requestFactory.listChats(t);let a=x(e);for(const s of this.configuration.middleware)a=a.pipe(h(r=>s.pre(r)));return a.pipe(h(s=>this.configuration.httpApi.send(s))).pipe(h(s=>{let r=P(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.post(n)));return r.pipe(i=>this.responseProcessor.listChatsWithHttpInfo(i))}))}listChats(t){return this.listChatsWithHttpInfo(t).pipe(e=>e.data)}listDebugMessagesWithHttpInfo(t,e,a){const s=this.requestFactory.listDebugMessages(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.listDebugMessagesWithHttpInfo(c))}))}listDebugMessages(t,e,a){return this.listDebugMessagesWithHttpInfo(t,e,a).pipe(s=>s.data)}listDebugMessages1WithHttpInfo(t,e,a,s){const r=this.requestFactory.listDebugMessages1(t,e,a,s);let i=x(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.pre(c)));return i.pipe(h(n=>this.configuration.httpApi.send(n))).pipe(h(n=>{let c=P(n);for(const l of this.configuration.middleware)c=c.pipe(h(u=>l.post(u)));return c.pipe(l=>this.responseProcessor.listDebugMessages1WithHttpInfo(l))}))}listDebugMessages1(t,e,a,s){return this.listDebugMessages1WithHttpInfo(t,e,a,s).pipe(r=>r.data)}listDebugMessages2WithHttpInfo(t,e){const a=this.requestFactory.listDebugMessages2(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.listDebugMessages2WithHttpInfo(n))}))}listDebugMessages2(t,e){return this.listDebugMessages2WithHttpInfo(t,e).pipe(a=>a.data)}listMessagesWithHttpInfo(t,e,a){const s=this.requestFactory.listMessages(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.listMessagesWithHttpInfo(c))}))}listMessages(t,e,a){return this.listMessagesWithHttpInfo(t,e,a).pipe(s=>s.data)}listMessages1WithHttpInfo(t,e,a,s){const r=this.requestFactory.listMessages1(t,e,a,s);let i=x(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.pre(c)));return i.pipe(h(n=>this.configuration.httpApi.send(n))).pipe(h(n=>{let c=P(n);for(const l of this.configuration.middleware)c=c.pipe(h(u=>l.post(u)));return c.pipe(l=>this.responseProcessor.listMessages1WithHttpInfo(l))}))}listMessages1(t,e,a,s){return this.listMessages1WithHttpInfo(t,e,a,s).pipe(r=>r.data)}listMessages2WithHttpInfo(t,e){const a=this.requestFactory.listMessages2(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.listMessages2WithHttpInfo(n))}))}listMessages2(t,e){return this.listMessages2WithHttpInfo(t,e).pipe(a=>a.data)}rollbackMessagesWithHttpInfo(t,e,a){const s=this.requestFactory.rollbackMessages(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.rollbackMessagesWithHttpInfo(c))}))}rollbackMessages(t,e,a){return this.rollbackMessagesWithHttpInfo(t,e,a).pipe(s=>s.data)}sendAssistantWithHttpInfo(t,e,a){const s=this.requestFactory.sendAssistant(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.sendAssistantWithHttpInfo(c))}))}sendAssistant(t,e,a){return this.sendAssistantWithHttpInfo(t,e,a).pipe(s=>s.data)}sendMessageWithHttpInfo(t,e,a){const s=this.requestFactory.sendMessage(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.sendMessageWithHttpInfo(c))}))}sendMessage(t,e,a){return this.sendMessageWithHttpInfo(t,e,a).pipe(s=>s.data)}startChatWithHttpInfo(t,e){const a=this.requestFactory.startChat(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.startChatWithHttpInfo(n))}))}startChat(t,e){return this.startChatWithHttpInfo(t,e).pipe(a=>a.data)}streamSendAssistantWithHttpInfo(t,e,a){const s=this.requestFactory.streamSendAssistant(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.streamSendAssistantWithHttpInfo(c))}))}streamSendAssistant(t,e,a){return this.streamSendAssistantWithHttpInfo(t,e,a).pipe(s=>s.data)}streamSendMessageWithHttpInfo(t,e,a){const s=this.requestFactory.streamSendMessage(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.streamSendMessageWithHttpInfo(c))}))}streamSendMessage(t,e,a){return this.streamSendMessageWithHttpInfo(t,e,a).pipe(s=>s.data)}updateChatWithHttpInfo(t,e,a){const s=this.requestFactory.updateChat(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.updateChatWithHttpInfo(c))}))}updateChat(t,e,a){return this.updateChatWithHttpInfo(t,e,a).pipe(s=>s.data)}}class nl{constructor(t,e,a){this.configuration=t,this.requestFactory=e||new Mc(t),this.responseProcessor=a||new Oc}encryptTextWithHttpInfo(t,e){const a=this.requestFactory.encryptText(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.encryptTextWithHttpInfo(n))}))}encryptText(t,e){return this.encryptTextWithHttpInfo(t,e).pipe(a=>a.data)}}class ol{constructor(t,e,a){this.configuration=t,this.requestFactory=e||new Dc(t),this.responseProcessor=a||new Uc}addStatisticWithHttpInfo(t,e,a,s,r){const i=this.requestFactory.addStatistic(t,e,a,s,r);let n=x(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.pre(l)));return n.pipe(h(c=>this.configuration.httpApi.send(c))).pipe(h(c=>{let l=P(c);for(const u of this.configuration.middleware)l=l.pipe(h(f=>u.post(f)));return l.pipe(u=>this.responseProcessor.addStatisticWithHttpInfo(u))}))}addStatistic(t,e,a,s,r){return this.addStatisticWithHttpInfo(t,e,a,s,r).pipe(i=>i.data)}getScoreWithHttpInfo(t,e,a){const s=this.requestFactory.getScore(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.getScoreWithHttpInfo(c))}))}getScore(t,e,a){return this.getScoreWithHttpInfo(t,e,a).pipe(s=>s.data)}getStatisticWithHttpInfo(t,e,a,s){const r=this.requestFactory.getStatistic(t,e,a,s);let i=x(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.pre(c)));return i.pipe(h(n=>this.configuration.httpApi.send(n))).pipe(h(n=>{let c=P(n);for(const l of this.configuration.middleware)c=c.pipe(h(u=>l.post(u)));return c.pipe(l=>this.responseProcessor.getStatisticWithHttpInfo(l))}))}getStatistic(t,e,a,s){return this.getStatisticWithHttpInfo(t,e,a,s).pipe(r=>r.data)}getStatisticsWithHttpInfo(t,e,a){const s=this.requestFactory.getStatistics(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.getStatisticsWithHttpInfo(c))}))}getStatistics(t,e,a){return this.getStatisticsWithHttpInfo(t,e,a).pipe(s=>s.data)}increaseStatisticWithHttpInfo(t,e,a,s){const r=this.requestFactory.increaseStatistic(t,e,a,s);let i=x(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.pre(c)));return i.pipe(h(n=>this.configuration.httpApi.send(n))).pipe(h(n=>{let c=P(n);for(const l of this.configuration.middleware)c=c.pipe(h(u=>l.post(u)));return c.pipe(l=>this.responseProcessor.increaseStatisticWithHttpInfo(l))}))}increaseStatistic(t,e,a,s){return this.increaseStatisticWithHttpInfo(t,e,a,s).pipe(r=>r.data)}listAgentsByStatisticWithHttpInfo(t,e,a,s){const r=this.requestFactory.listAgentsByStatistic(t,e,a,s);let i=x(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.pre(c)));return i.pipe(h(n=>this.configuration.httpApi.send(n))).pipe(h(n=>{let c=P(n);for(const l of this.configuration.middleware)c=c.pipe(h(u=>l.post(u)));return c.pipe(l=>this.responseProcessor.listAgentsByStatisticWithHttpInfo(l))}))}listAgentsByStatistic(t,e,a,s){return this.listAgentsByStatisticWithHttpInfo(t,e,a,s).pipe(r=>r.data)}listAgentsByStatistic1WithHttpInfo(t,e,a,s,r){const i=this.requestFactory.listAgentsByStatistic1(t,e,a,s,r);let n=x(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.pre(l)));return n.pipe(h(c=>this.configuration.httpApi.send(c))).pipe(h(c=>{let l=P(c);for(const u of this.configuration.middleware)l=l.pipe(h(f=>u.post(f)));return l.pipe(u=>this.responseProcessor.listAgentsByStatistic1WithHttpInfo(u))}))}listAgentsByStatistic1(t,e,a,s,r){return this.listAgentsByStatistic1WithHttpInfo(t,e,a,s,r).pipe(i=>i.data)}listAgentsByStatistic2WithHttpInfo(t,e,a){const s=this.requestFactory.listAgentsByStatistic2(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.listAgentsByStatistic2WithHttpInfo(c))}))}listAgentsByStatistic2(t,e,a){return this.listAgentsByStatistic2WithHttpInfo(t,e,a).pipe(s=>s.data)}listCharactersByStatisticWithHttpInfo(t,e,a){const s=this.requestFactory.listCharactersByStatistic(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.listCharactersByStatisticWithHttpInfo(c))}))}listCharactersByStatistic(t,e,a){return this.listCharactersByStatisticWithHttpInfo(t,e,a).pipe(s=>s.data)}listCharactersByStatistic1WithHttpInfo(t,e,a,s){const r=this.requestFactory.listCharactersByStatistic1(t,e,a,s);let i=x(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.pre(c)));return i.pipe(h(n=>this.configuration.httpApi.send(n))).pipe(h(n=>{let c=P(n);for(const l of this.configuration.middleware)c=c.pipe(h(u=>l.post(u)));return c.pipe(l=>this.responseProcessor.listCharactersByStatistic1WithHttpInfo(l))}))}listCharactersByStatistic1(t,e,a,s){return this.listCharactersByStatistic1WithHttpInfo(t,e,a,s).pipe(r=>r.data)}listCharactersByStatistic2WithHttpInfo(t,e,a,s,r){const i=this.requestFactory.listCharactersByStatistic2(t,e,a,s,r);let n=x(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.pre(l)));return n.pipe(h(c=>this.configuration.httpApi.send(c))).pipe(h(c=>{let l=P(c);for(const u of this.configuration.middleware)l=l.pipe(h(f=>u.post(f)));return l.pipe(u=>this.responseProcessor.listCharactersByStatistic2WithHttpInfo(u))}))}listCharactersByStatistic2(t,e,a,s,r){return this.listCharactersByStatistic2WithHttpInfo(t,e,a,s,r).pipe(i=>i.data)}listHotTagsWithHttpInfo(t,e,a,s){const r=this.requestFactory.listHotTags(t,e,a,s);let i=x(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.pre(c)));return i.pipe(h(n=>this.configuration.httpApi.send(n))).pipe(h(n=>{let c=P(n);for(const l of this.configuration.middleware)c=c.pipe(h(u=>l.post(u)));return c.pipe(l=>this.responseProcessor.listHotTagsWithHttpInfo(l))}))}listHotTags(t,e,a,s){return this.listHotTagsWithHttpInfo(t,e,a,s).pipe(r=>r.data)}listPluginsByStatisticWithHttpInfo(t,e,a,s,r){const i=this.requestFactory.listPluginsByStatistic(t,e,a,s,r);let n=x(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.pre(l)));return n.pipe(h(c=>this.configuration.httpApi.send(c))).pipe(h(c=>{let l=P(c);for(const u of this.configuration.middleware)l=l.pipe(h(f=>u.post(f)));return l.pipe(u=>this.responseProcessor.listPluginsByStatisticWithHttpInfo(u))}))}listPluginsByStatistic(t,e,a,s,r){return this.listPluginsByStatisticWithHttpInfo(t,e,a,s,r).pipe(i=>i.data)}listPluginsByStatistic1WithHttpInfo(t,e,a){const s=this.requestFactory.listPluginsByStatistic1(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.listPluginsByStatistic1WithHttpInfo(c))}))}listPluginsByStatistic1(t,e,a){return this.listPluginsByStatistic1WithHttpInfo(t,e,a).pipe(s=>s.data)}listPluginsByStatistic2WithHttpInfo(t,e,a,s){const r=this.requestFactory.listPluginsByStatistic2(t,e,a,s);let i=x(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.pre(c)));return i.pipe(h(n=>this.configuration.httpApi.send(n))).pipe(h(n=>{let c=P(n);for(const l of this.configuration.middleware)c=c.pipe(h(u=>l.post(u)));return c.pipe(l=>this.responseProcessor.listPluginsByStatistic2WithHttpInfo(l))}))}listPluginsByStatistic2(t,e,a,s){return this.listPluginsByStatistic2WithHttpInfo(t,e,a,s).pipe(r=>r.data)}listPromptsByStatisticWithHttpInfo(t,e,a){const s=this.requestFactory.listPromptsByStatistic(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.listPromptsByStatisticWithHttpInfo(c))}))}listPromptsByStatistic(t,e,a){return this.listPromptsByStatisticWithHttpInfo(t,e,a).pipe(s=>s.data)}listPromptsByStatistic1WithHttpInfo(t,e,a,s){const r=this.requestFactory.listPromptsByStatistic1(t,e,a,s);let i=x(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.pre(c)));return i.pipe(h(n=>this.configuration.httpApi.send(n))).pipe(h(n=>{let c=P(n);for(const l of this.configuration.middleware)c=c.pipe(h(u=>l.post(u)));return c.pipe(l=>this.responseProcessor.listPromptsByStatistic1WithHttpInfo(l))}))}listPromptsByStatistic1(t,e,a,s){return this.listPromptsByStatistic1WithHttpInfo(t,e,a,s).pipe(r=>r.data)}listPromptsByStatistic2WithHttpInfo(t,e,a,s,r){const i=this.requestFactory.listPromptsByStatistic2(t,e,a,s,r);let n=x(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.pre(l)));return n.pipe(h(c=>this.configuration.httpApi.send(c))).pipe(h(c=>{let l=P(c);for(const u of this.configuration.middleware)l=l.pipe(h(f=>u.post(f)));return l.pipe(u=>this.responseProcessor.listPromptsByStatistic2WithHttpInfo(u))}))}listPromptsByStatistic2(t,e,a,s,r){return this.listPromptsByStatistic2WithHttpInfo(t,e,a,s,r).pipe(i=>i.data)}}class sl{constructor(t,e,a){this.configuration=t,this.requestFactory=e||new qc(t),this.responseProcessor=a||new Bc}getOwnersWithHttpInfo(t,e){const a=this.requestFactory.getOwners(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.getOwnersWithHttpInfo(n))}))}getOwners(t,e){return this.getOwnersWithHttpInfo(t,e).pipe(a=>a.data)}getOwnersDotWithHttpInfo(t,e){const a=this.requestFactory.getOwnersDot(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.getOwnersDotWithHttpInfo(n))}))}getOwnersDot(t,e){return this.getOwnersDotWithHttpInfo(t,e).pipe(a=>a.data)}getSubordinateOwnersWithHttpInfo(t,e,a){const s=this.requestFactory.getSubordinateOwners(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.getSubordinateOwnersWithHttpInfo(c))}))}getSubordinateOwners(t,e,a){return this.getSubordinateOwnersWithHttpInfo(t,e,a).pipe(s=>s.data)}getSubordinateSubordinatesWithHttpInfo(t,e,a){const s=this.requestFactory.getSubordinateSubordinates(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.getSubordinateSubordinatesWithHttpInfo(c))}))}getSubordinateSubordinates(t,e,a){return this.getSubordinateSubordinatesWithHttpInfo(t,e,a).pipe(s=>s.data)}getSubordinatesWithHttpInfo(t,e){const a=this.requestFactory.getSubordinates(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.getSubordinatesWithHttpInfo(n))}))}getSubordinates(t,e){return this.getSubordinatesWithHttpInfo(t,e).pipe(a=>a.data)}getSubordinatesDotWithHttpInfo(t,e){const a=this.requestFactory.getSubordinatesDot(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.getSubordinatesDotWithHttpInfo(n))}))}getSubordinatesDot(t,e){return this.getSubordinatesDotWithHttpInfo(t,e).pipe(a=>a.data)}listSubordinateAuthoritiesWithHttpInfo(t,e){const a=this.requestFactory.listSubordinateAuthorities(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.listSubordinateAuthoritiesWithHttpInfo(n))}))}listSubordinateAuthorities(t,e){return this.listSubordinateAuthoritiesWithHttpInfo(t,e).pipe(a=>a.data)}removeSubordinateSubordinatesTreeWithHttpInfo(t,e){const a=this.requestFactory.removeSubordinateSubordinatesTree(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.removeSubordinateSubordinatesTreeWithHttpInfo(n))}))}removeSubordinateSubordinatesTree(t,e){return this.removeSubordinateSubordinatesTreeWithHttpInfo(t,e).pipe(a=>a.data)}updateSubordinateAuthoritiesWithHttpInfo(t,e,a){const s=this.requestFactory.updateSubordinateAuthorities(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.updateSubordinateAuthoritiesWithHttpInfo(c))}))}updateSubordinateAuthorities(t,e,a){return this.updateSubordinateAuthoritiesWithHttpInfo(t,e,a).pipe(s=>s.data)}updateSubordinateOwnersWithHttpInfo(t,e,a){const s=this.requestFactory.updateSubordinateOwners(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.updateSubordinateOwnersWithHttpInfo(c))}))}updateSubordinateOwners(t,e,a){return this.updateSubordinateOwnersWithHttpInfo(t,e,a).pipe(s=>s.data)}updateSubordinateSubordinatesWithHttpInfo(t,e,a){const s=this.requestFactory.updateSubordinateSubordinates(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.updateSubordinateSubordinatesWithHttpInfo(c))}))}updateSubordinateSubordinates(t,e,a){return this.updateSubordinateSubordinatesWithHttpInfo(t,e,a).pipe(s=>s.data)}}class cl{constructor(t,e,a){this.configuration=t,this.requestFactory=e||new Ec(t),this.responseProcessor=a||new Fc}batchSearchPluginDetailsWithHttpInfo(t,e){const a=this.requestFactory.batchSearchPluginDetails(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.batchSearchPluginDetailsWithHttpInfo(n))}))}batchSearchPluginDetails(t,e){return this.batchSearchPluginDetailsWithHttpInfo(t,e).pipe(a=>a.data)}batchSearchPluginSummaryWithHttpInfo(t,e){const a=this.requestFactory.batchSearchPluginSummary(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.batchSearchPluginSummaryWithHttpInfo(n))}))}batchSearchPluginSummary(t,e){return this.batchSearchPluginSummaryWithHttpInfo(t,e).pipe(a=>a.data)}countPluginsWithHttpInfo(t,e){const a=this.requestFactory.countPlugins(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.countPluginsWithHttpInfo(n))}))}countPlugins(t,e){return this.countPluginsWithHttpInfo(t,e).pipe(a=>a.data)}createPluginWithHttpInfo(t,e){const a=this.requestFactory.createPlugin(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.createPluginWithHttpInfo(n))}))}createPlugin(t,e){return this.createPluginWithHttpInfo(t,e).pipe(a=>a.data)}createPluginsWithHttpInfo(t,e){const a=this.requestFactory.createPlugins(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.createPluginsWithHttpInfo(n))}))}createPlugins(t,e){return this.createPluginsWithHttpInfo(t,e).pipe(a=>a.data)}deletePluginWithHttpInfo(t,e){const a=this.requestFactory.deletePlugin(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.deletePluginWithHttpInfo(n))}))}deletePlugin(t,e){return this.deletePluginWithHttpInfo(t,e).pipe(a=>a.data)}deletePluginsWithHttpInfo(t,e){const a=this.requestFactory.deletePlugins(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.deletePluginsWithHttpInfo(n))}))}deletePlugins(t,e){return this.deletePluginsWithHttpInfo(t,e).pipe(a=>a.data)}getPluginDetailsWithHttpInfo(t,e){const a=this.requestFactory.getPluginDetails(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.getPluginDetailsWithHttpInfo(n))}))}getPluginDetails(t,e){return this.getPluginDetailsWithHttpInfo(t,e).pipe(a=>a.data)}getPluginSummaryWithHttpInfo(t,e){const a=this.requestFactory.getPluginSummary(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.getPluginSummaryWithHttpInfo(n))}))}getPluginSummary(t,e){return this.getPluginSummaryWithHttpInfo(t,e).pipe(a=>a.data)}refreshPluginInfoWithHttpInfo(t,e){const a=this.requestFactory.refreshPluginInfo(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.refreshPluginInfoWithHttpInfo(n))}))}refreshPluginInfo(t,e){return this.refreshPluginInfoWithHttpInfo(t,e).pipe(a=>a.data)}searchPluginDetailsWithHttpInfo(t,e){const a=this.requestFactory.searchPluginDetails(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.searchPluginDetailsWithHttpInfo(n))}))}searchPluginDetails(t,e){return this.searchPluginDetailsWithHttpInfo(t,e).pipe(a=>a.data)}searchPluginSummaryWithHttpInfo(t,e){const a=this.requestFactory.searchPluginSummary(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.searchPluginSummaryWithHttpInfo(n))}))}searchPluginSummary(t,e){return this.searchPluginSummaryWithHttpInfo(t,e).pipe(a=>a.data)}updatePluginWithHttpInfo(t,e,a){const s=this.requestFactory.updatePlugin(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.updatePluginWithHttpInfo(c))}))}updatePlugin(t,e,a){return this.updatePluginWithHttpInfo(t,e,a).pipe(s=>s.data)}}class ll{constructor(t,e,a){this.configuration=t,this.requestFactory=e||new Vc(t),this.responseProcessor=a||new Lc}applyPromptRefWithHttpInfo(t,e){const a=this.requestFactory.applyPromptRef(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.applyPromptRefWithHttpInfo(n))}))}applyPromptRef(t,e){return this.applyPromptRefWithHttpInfo(t,e).pipe(a=>a.data)}applyPromptTemplateWithHttpInfo(t,e){const a=this.requestFactory.applyPromptTemplate(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.applyPromptTemplateWithHttpInfo(n))}))}applyPromptTemplate(t,e){return this.applyPromptTemplateWithHttpInfo(t,e).pipe(a=>a.data)}batchSearchPromptDetailsWithHttpInfo(t,e){const a=this.requestFactory.batchSearchPromptDetails(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.batchSearchPromptDetailsWithHttpInfo(n))}))}batchSearchPromptDetails(t,e){return this.batchSearchPromptDetailsWithHttpInfo(t,e).pipe(a=>a.data)}batchSearchPromptSummaryWithHttpInfo(t,e){const a=this.requestFactory.batchSearchPromptSummary(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.batchSearchPromptSummaryWithHttpInfo(n))}))}batchSearchPromptSummary(t,e){return this.batchSearchPromptSummaryWithHttpInfo(t,e).pipe(a=>a.data)}clonePromptWithHttpInfo(t,e){const a=this.requestFactory.clonePrompt(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.clonePromptWithHttpInfo(n))}))}clonePrompt(t,e){return this.clonePromptWithHttpInfo(t,e).pipe(a=>a.data)}clonePromptsWithHttpInfo(t,e){const a=this.requestFactory.clonePrompts(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.clonePromptsWithHttpInfo(n))}))}clonePrompts(t,e){return this.clonePromptsWithHttpInfo(t,e).pipe(a=>a.data)}countPromptsWithHttpInfo(t,e){const a=this.requestFactory.countPrompts(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.countPromptsWithHttpInfo(n))}))}countPrompts(t,e){return this.countPromptsWithHttpInfo(t,e).pipe(a=>a.data)}countPublicPromptsWithHttpInfo(t,e){const a=this.requestFactory.countPublicPrompts(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.countPublicPromptsWithHttpInfo(n))}))}countPublicPrompts(t,e){return this.countPublicPromptsWithHttpInfo(t,e).pipe(a=>a.data)}createPromptWithHttpInfo(t,e){const a=this.requestFactory.createPrompt(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.createPromptWithHttpInfo(n))}))}createPrompt(t,e){return this.createPromptWithHttpInfo(t,e).pipe(a=>a.data)}createPromptsWithHttpInfo(t,e){const a=this.requestFactory.createPrompts(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.createPromptsWithHttpInfo(n))}))}createPrompts(t,e){return this.createPromptsWithHttpInfo(t,e).pipe(a=>a.data)}deletePromptWithHttpInfo(t,e){const a=this.requestFactory.deletePrompt(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.deletePromptWithHttpInfo(n))}))}deletePrompt(t,e){return this.deletePromptWithHttpInfo(t,e).pipe(a=>a.data)}deletePromptByNameWithHttpInfo(t,e){const a=this.requestFactory.deletePromptByName(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.deletePromptByNameWithHttpInfo(n))}))}deletePromptByName(t,e){return this.deletePromptByNameWithHttpInfo(t,e).pipe(a=>a.data)}deletePromptsWithHttpInfo(t,e){const a=this.requestFactory.deletePrompts(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.deletePromptsWithHttpInfo(n))}))}deletePrompts(t,e){return this.deletePromptsWithHttpInfo(t,e).pipe(a=>a.data)}existsPromptNameWithHttpInfo(t,e){const a=this.requestFactory.existsPromptName(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.existsPromptNameWithHttpInfo(n))}))}existsPromptName(t,e){return this.existsPromptNameWithHttpInfo(t,e).pipe(a=>a.data)}getPromptDetailsWithHttpInfo(t,e){const a=this.requestFactory.getPromptDetails(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.getPromptDetailsWithHttpInfo(n))}))}getPromptDetails(t,e){return this.getPromptDetailsWithHttpInfo(t,e).pipe(a=>a.data)}getPromptSummaryWithHttpInfo(t,e){const a=this.requestFactory.getPromptSummary(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.getPromptSummaryWithHttpInfo(n))}))}getPromptSummary(t,e){return this.getPromptSummaryWithHttpInfo(t,e).pipe(a=>a.data)}listPromptVersionsByNameWithHttpInfo(t,e){const a=this.requestFactory.listPromptVersionsByName(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.listPromptVersionsByNameWithHttpInfo(n))}))}listPromptVersionsByName(t,e){return this.listPromptVersionsByNameWithHttpInfo(t,e).pipe(a=>a.data)}newPromptNameWithHttpInfo(t,e){const a=this.requestFactory.newPromptName(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.newPromptNameWithHttpInfo(n))}))}newPromptName(t,e){return this.newPromptNameWithHttpInfo(t,e).pipe(a=>a.data)}publishPromptWithHttpInfo(t,e,a){const s=this.requestFactory.publishPrompt(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.publishPromptWithHttpInfo(c))}))}publishPrompt(t,e,a){return this.publishPromptWithHttpInfo(t,e,a).pipe(s=>s.data)}searchPromptDetailsWithHttpInfo(t,e){const a=this.requestFactory.searchPromptDetails(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.searchPromptDetailsWithHttpInfo(n))}))}searchPromptDetails(t,e){return this.searchPromptDetailsWithHttpInfo(t,e).pipe(a=>a.data)}searchPromptSummaryWithHttpInfo(t,e){const a=this.requestFactory.searchPromptSummary(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.searchPromptSummaryWithHttpInfo(n))}))}searchPromptSummary(t,e){return this.searchPromptSummaryWithHttpInfo(t,e).pipe(a=>a.data)}searchPublicPromptSummaryWithHttpInfo(t,e){const a=this.requestFactory.searchPublicPromptSummary(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.searchPublicPromptSummaryWithHttpInfo(n))}))}searchPublicPromptSummary(t,e){return this.searchPublicPromptSummaryWithHttpInfo(t,e).pipe(a=>a.data)}sendPromptWithHttpInfo(t,e){const a=this.requestFactory.sendPrompt(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.sendPromptWithHttpInfo(n))}))}sendPrompt(t,e){return this.sendPromptWithHttpInfo(t,e).pipe(a=>a.data)}streamSendPromptWithHttpInfo(t,e){const a=this.requestFactory.streamSendPrompt(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.streamSendPromptWithHttpInfo(n))}))}streamSendPrompt(t,e){return this.streamSendPromptWithHttpInfo(t,e).pipe(a=>a.data)}updatePromptWithHttpInfo(t,e,a){const s=this.requestFactory.updatePrompt(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.updatePromptWithHttpInfo(c))}))}updatePrompt(t,e,a){return this.updatePromptWithHttpInfo(t,e,a).pipe(s=>s.data)}}class dl{constructor(t,e,a){this.configuration=t,this.requestFactory=e||new $c(t),this.responseProcessor=a||new Kc}createPromptTaskWithHttpInfo(t,e){const a=this.requestFactory.createPromptTask(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.createPromptTaskWithHttpInfo(n))}))}createPromptTask(t,e){return this.createPromptTaskWithHttpInfo(t,e).pipe(a=>a.data)}deletePromptTaskWithHttpInfo(t,e){const a=this.requestFactory.deletePromptTask(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.deletePromptTaskWithHttpInfo(n))}))}deletePromptTask(t,e){return this.deletePromptTaskWithHttpInfo(t,e).pipe(a=>a.data)}getPromptTaskWithHttpInfo(t,e){const a=this.requestFactory.getPromptTask(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.getPromptTaskWithHttpInfo(n))}))}getPromptTask(t,e){return this.getPromptTaskWithHttpInfo(t,e).pipe(a=>a.data)}updatePromptTaskWithHttpInfo(t,e,a){const s=this.requestFactory.updatePromptTask(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.updatePromptTaskWithHttpInfo(c))}))}updatePromptTask(t,e,a){return this.updatePromptTaskWithHttpInfo(t,e,a).pipe(s=>s.data)}}class ul{constructor(t,e,a){this.configuration=t,this.requestFactory=e||new Gc(t),this.responseProcessor=a||new Qc}cancelRagTaskWithHttpInfo(t,e){const a=this.requestFactory.cancelRagTask(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.cancelRagTaskWithHttpInfo(n))}))}cancelRagTask(t,e){return this.cancelRagTaskWithHttpInfo(t,e).pipe(a=>a.data)}createRagTaskWithHttpInfo(t,e,a){const s=this.requestFactory.createRagTask(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.createRagTaskWithHttpInfo(c))}))}createRagTask(t,e,a){return this.createRagTaskWithHttpInfo(t,e,a).pipe(s=>s.data)}deleteRagTaskWithHttpInfo(t,e){const a=this.requestFactory.deleteRagTask(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.deleteRagTaskWithHttpInfo(n))}))}deleteRagTask(t,e){return this.deleteRagTaskWithHttpInfo(t,e).pipe(a=>a.data)}getRagTaskWithHttpInfo(t,e){const a=this.requestFactory.getRagTask(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.getRagTaskWithHttpInfo(n))}))}getRagTask(t,e){return this.getRagTaskWithHttpInfo(t,e).pipe(a=>a.data)}getRagTaskStatusWithHttpInfo(t,e){const a=this.requestFactory.getRagTaskStatus(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.getRagTaskStatusWithHttpInfo(n))}))}getRagTaskStatus(t,e){return this.getRagTaskStatusWithHttpInfo(t,e).pipe(a=>a.data)}listRagTasksWithHttpInfo(t,e){const a=this.requestFactory.listRagTasks(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.listRagTasksWithHttpInfo(n))}))}listRagTasks(t,e){return this.listRagTasksWithHttpInfo(t,e).pipe(a=>a.data)}startRagTaskWithHttpInfo(t,e){const a=this.requestFactory.startRagTask(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.startRagTaskWithHttpInfo(n))}))}startRagTask(t,e){return this.startRagTaskWithHttpInfo(t,e).pipe(a=>a.data)}updateRagTaskWithHttpInfo(t,e,a){const s=this.requestFactory.updateRagTask(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.updateRagTaskWithHttpInfo(c))}))}updateRagTask(t,e,a){return this.updateRagTaskWithHttpInfo(t,e,a).pipe(s=>s.data)}}class pl{constructor(t,e,a){this.configuration=t,this.requestFactory=e||new Yc(t),this.responseProcessor=a||new Jc}listTtsBuiltinSpeakersWithHttpInfo(t){const e=this.requestFactory.listTtsBuiltinSpeakers(t);let a=x(e);for(const s of this.configuration.middleware)a=a.pipe(h(r=>s.pre(r)));return a.pipe(h(s=>this.configuration.httpApi.send(s))).pipe(h(s=>{let r=P(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.post(n)));return r.pipe(i=>this.responseProcessor.listTtsBuiltinSpeakersWithHttpInfo(i))}))}listTtsBuiltinSpeakers(t){return this.listTtsBuiltinSpeakersWithHttpInfo(t).pipe(e=>e.data)}playSampleWithHttpInfo(t,e,a){const s=this.requestFactory.playSample(t,e,a);let r=x(s);for(const i of this.configuration.middleware)r=r.pipe(h(n=>i.pre(n)));return r.pipe(h(i=>this.configuration.httpApi.send(i))).pipe(h(i=>{let n=P(i);for(const c of this.configuration.middleware)n=n.pipe(h(l=>c.post(l)));return n.pipe(c=>this.responseProcessor.playSampleWithHttpInfo(c))}))}playSample(t,e,a){return this.playSampleWithHttpInfo(t,e,a).pipe(s=>s.data)}speakMessageWithHttpInfo(t,e){const a=this.requestFactory.speakMessage(t,e);let s=x(a);for(const r of this.configuration.middleware)s=s.pipe(h(i=>r.pre(i)));return s.pipe(h(r=>this.configuration.httpApi.send(r))).pipe(h(r=>{let i=P(r);for(const n of this.configuration.middleware)i=i.pipe(h(c=>n.post(c)));return i.pipe(n=>this.responseProcessor.speakMessageWithHttpInfo(n))}))}speakMessage(t,e){return this.speakMessageWithHttpInfo(t,e).pipe(a=>a.data)}}class hl{constructor(t,e,a){this.api=new Xc(t,e,a)}addAiApiKeyWithHttpInfo(t,e){return this.api.addAiApiKeyWithHttpInfo(t,e).toPromise()}addAiApiKey(t,e){return this.api.addAiApiKey(t,e).toPromise()}deleteAiApiKeyWithHttpInfo(t,e){return this.api.deleteAiApiKeyWithHttpInfo(t,e).toPromise()}deleteAiApiKey(t,e){return this.api.deleteAiApiKey(t,e).toPromise()}disableAiApiKeyWithHttpInfo(t,e){return this.api.disableAiApiKeyWithHttpInfo(t,e).toPromise()}disableAiApiKey(t,e){return this.api.disableAiApiKey(t,e).toPromise()}enableAiApiKeyWithHttpInfo(t,e){return this.api.enableAiApiKeyWithHttpInfo(t,e).toPromise()}enableAiApiKey(t,e){return this.api.enableAiApiKey(t,e).toPromise()}getAiApiKeyWithHttpInfo(t,e){return this.api.getAiApiKeyWithHttpInfo(t,e).toPromise()}getAiApiKey(t,e){return this.api.getAiApiKey(t,e).toPromise()}listAiApiKeysWithHttpInfo(t,e){return this.api.listAiApiKeysWithHttpInfo(t,e).toPromise()}listAiApiKeys(t,e){return this.api.listAiApiKeys(t,e).toPromise()}}class ml{constructor(t,e,a){this.api=new Zc(t,e,a)}createTokenWithHttpInfo(t,e){return this.api.createTokenWithHttpInfo(t,e).toPromise()}createToken(t,e){return this.api.createToken(t,e).toPromise()}createToken1WithHttpInfo(t){return this.api.createToken1WithHttpInfo(t).toPromise()}createToken1(t){return this.api.createToken1(t).toPromise()}deleteTokenWithHttpInfo(t,e){return this.api.deleteTokenWithHttpInfo(t,e).toPromise()}deleteToken(t,e){return this.api.deleteToken(t,e).toPromise()}deleteTokenByIdWithHttpInfo(t,e){return this.api.deleteTokenByIdWithHttpInfo(t,e).toPromise()}deleteTokenById(t,e){return this.api.deleteTokenById(t,e).toPromise()}disableTokenWithHttpInfo(t,e){return this.api.disableTokenWithHttpInfo(t,e).toPromise()}disableToken(t,e){return this.api.disableToken(t,e).toPromise()}disableTokenByIdWithHttpInfo(t,e){return this.api.disableTokenByIdWithHttpInfo(t,e).toPromise()}disableTokenById(t,e){return this.api.disableTokenById(t,e).toPromise()}getTokenByIdWithHttpInfo(t,e){return this.api.getTokenByIdWithHttpInfo(t,e).toPromise()}getTokenById(t,e){return this.api.getTokenById(t,e).toPromise()}getUserBasicWithHttpInfo(t,e){return this.api.getUserBasicWithHttpInfo(t,e).toPromise()}getUserBasic(t,e){return this.api.getUserBasic(t,e).toPromise()}getUserBasic1WithHttpInfo(t){return this.api.getUserBasic1WithHttpInfo(t).toPromise()}getUserBasic1(t){return this.api.getUserBasic1(t).toPromise()}getUserDetailsWithHttpInfo(t){return this.api.getUserDetailsWithHttpInfo(t).toPromise()}getUserDetails(t){return this.api.getUserDetails(t).toPromise()}listTokensWithHttpInfo(t){return this.api.listTokensWithHttpInfo(t).toPromise()}listTokens(t){return this.api.listTokens(t).toPromise()}updateUserInfoWithHttpInfo(t,e){return this.api.updateUserInfoWithHttpInfo(t,e).toPromise()}updateUserInfo(t,e){return this.api.updateUserInfo(t,e).toPromise()}uploadUserPictureWithHttpInfo(t,e){return this.api.uploadUserPictureWithHttpInfo(t,e).toPromise()}uploadUserPicture(t,e){return this.api.uploadUserPicture(t,e).toPromise()}}class fl{constructor(t,e,a){this.api=new _c(t,e,a)}createTokenForUserWithHttpInfo(t,e,a){return this.api.createTokenForUserWithHttpInfo(t,e,a).toPromise()}createTokenForUser(t,e,a){return this.api.createTokenForUser(t,e,a).toPromise()}createUserWithHttpInfo(t,e){return this.api.createUserWithHttpInfo(t,e).toPromise()}createUser(t,e){return this.api.createUser(t,e).toPromise()}deleteTokenForUserWithHttpInfo(t,e){return this.api.deleteTokenForUserWithHttpInfo(t,e).toPromise()}deleteTokenForUser(t,e){return this.api.deleteTokenForUser(t,e).toPromise()}deleteUserWithHttpInfo(t,e){return this.api.deleteUserWithHttpInfo(t,e).toPromise()}deleteUser(t,e){return this.api.deleteUser(t,e).toPromise()}disableTokenForUserWithHttpInfo(t,e){return this.api.disableTokenForUserWithHttpInfo(t,e).toPromise()}disableTokenForUser(t,e){return this.api.disableTokenForUser(t,e).toPromise()}getDetailsOfUserWithHttpInfo(t,e){return this.api.getDetailsOfUserWithHttpInfo(t,e).toPromise()}getDetailsOfUser(t,e){return this.api.getDetailsOfUser(t,e).toPromise()}getUserByTokenWithHttpInfo(t,e){return this.api.getUserByTokenWithHttpInfo(t,e).toPromise()}getUserByToken(t,e){return this.api.getUserByToken(t,e).toPromise()}listAuthoritiesOfUserWithHttpInfo(t,e){return this.api.listAuthoritiesOfUserWithHttpInfo(t,e).toPromise()}listAuthoritiesOfUser(t,e){return this.api.listAuthoritiesOfUser(t,e).toPromise()}listTokensOfUserWithHttpInfo(t,e){return this.api.listTokensOfUserWithHttpInfo(t,e).toPromise()}listTokensOfUser(t,e){return this.api.listTokensOfUser(t,e).toPromise()}listUsersWithHttpInfo(t,e,a){return this.api.listUsersWithHttpInfo(t,e,a).toPromise()}listUsers(t,e,a){return this.api.listUsers(t,e,a).toPromise()}listUsers1WithHttpInfo(t){return this.api.listUsers1WithHttpInfo(t).toPromise()}listUsers1(t){return this.api.listUsers1(t).toPromise()}listUsers2WithHttpInfo(t,e){return this.api.listUsers2WithHttpInfo(t,e).toPromise()}listUsers2(t,e){return this.api.listUsers2(t,e).toPromise()}updateAuthoritiesOfUserWithHttpInfo(t,e,a){return this.api.updateAuthoritiesOfUserWithHttpInfo(t,e,a).toPromise()}updateAuthoritiesOfUser(t,e,a){return this.api.updateAuthoritiesOfUser(t,e,a).toPromise()}updateUserWithHttpInfo(t,e){return this.api.updateUserWithHttpInfo(t,e).toPromise()}updateUser(t,e){return this.api.updateUser(t,e).toPromise()}}class yl{constructor(t,e,a){this.api=new tl(t,e,a)}batchSearchAgentDetailsWithHttpInfo(t,e){return this.api.batchSearchAgentDetailsWithHttpInfo(t,e).toPromise()}batchSearchAgentDetails(t,e){return this.api.batchSearchAgentDetails(t,e).toPromise()}batchSearchAgentSummaryWithHttpInfo(t,e){return this.api.batchSearchAgentSummaryWithHttpInfo(t,e).toPromise()}batchSearchAgentSummary(t,e){return this.api.batchSearchAgentSummary(t,e).toPromise()}cloneAgentWithHttpInfo(t,e){return this.api.cloneAgentWithHttpInfo(t,e).toPromise()}cloneAgent(t,e){return this.api.cloneAgent(t,e).toPromise()}cloneAgentsWithHttpInfo(t,e){return this.api.cloneAgentsWithHttpInfo(t,e).toPromise()}cloneAgents(t,e){return this.api.cloneAgents(t,e).toPromise()}countAgentsWithHttpInfo(t,e){return this.api.countAgentsWithHttpInfo(t,e).toPromise()}countAgents(t,e){return this.api.countAgents(t,e).toPromise()}createAgentWithHttpInfo(t,e){return this.api.createAgentWithHttpInfo(t,e).toPromise()}createAgent(t,e){return this.api.createAgent(t,e).toPromise()}createAgentsWithHttpInfo(t,e){return this.api.createAgentsWithHttpInfo(t,e).toPromise()}createAgents(t,e){return this.api.createAgents(t,e).toPromise()}deleteAgentWithHttpInfo(t,e){return this.api.deleteAgentWithHttpInfo(t,e).toPromise()}deleteAgent(t,e){return this.api.deleteAgent(t,e).toPromise()}deleteAgentsWithHttpInfo(t,e){return this.api.deleteAgentsWithHttpInfo(t,e).toPromise()}deleteAgents(t,e){return this.api.deleteAgents(t,e).toPromise()}getAgentDetailsWithHttpInfo(t,e){return this.api.getAgentDetailsWithHttpInfo(t,e).toPromise()}getAgentDetails(t,e){return this.api.getAgentDetails(t,e).toPromise()}getAgentSummaryWithHttpInfo(t,e){return this.api.getAgentSummaryWithHttpInfo(t,e).toPromise()}getAgentSummary(t,e){return this.api.getAgentSummary(t,e).toPromise()}listAgentVersionsByNameWithHttpInfo(t,e){return this.api.listAgentVersionsByNameWithHttpInfo(t,e).toPromise()}listAgentVersionsByName(t,e){return this.api.listAgentVersionsByName(t,e).toPromise()}publishAgentWithHttpInfo(t,e,a){return this.api.publishAgentWithHttpInfo(t,e,a).toPromise()}publishAgent(t,e,a){return this.api.publishAgent(t,e,a).toPromise()}searchAgentDetailsWithHttpInfo(t,e){return this.api.searchAgentDetailsWithHttpInfo(t,e).toPromise()}searchAgentDetails(t,e){return this.api.searchAgentDetails(t,e).toPromise()}searchAgentSummaryWithHttpInfo(t,e){return this.api.searchAgentSummaryWithHttpInfo(t,e).toPromise()}searchAgentSummary(t,e){return this.api.searchAgentSummary(t,e).toPromise()}updateAgentWithHttpInfo(t,e,a){return this.api.updateAgentWithHttpInfo(t,e,a).toPromise()}updateAgent(t,e,a){return this.api.updateAgent(t,e,a).toPromise()}}class gl{constructor(t,e,a){this.api=new el(t,e,a)}getDefaultConfigWithHttpInfo(t){return this.api.getDefaultConfigWithHttpInfo(t).toPromise()}getDefaultConfig(t){return this.api.getDefaultConfig(t).toPromise()}}class bl{constructor(t,e,a){this.api=new al(t,e,a)}getAppMetaWithHttpInfo(t){return this.api.getAppMetaWithHttpInfo(t).toPromise()}getAppMeta(t){return this.api.getAppMeta(t).toPromise()}}class wl{constructor(t,e,a){this.api=new il(t,e,a)}addCharacterBackendWithHttpInfo(t,e,a){return this.api.addCharacterBackendWithHttpInfo(t,e,a).toPromise()}addCharacterBackend(t,e,a){return this.api.addCharacterBackend(t,e,a).toPromise()}batchSearchCharacterDetailsWithHttpInfo(t,e){return this.api.batchSearchCharacterDetailsWithHttpInfo(t,e).toPromise()}batchSearchCharacterDetails(t,e){return this.api.batchSearchCharacterDetails(t,e).toPromise()}batchSearchCharacterSummaryWithHttpInfo(t,e){return this.api.batchSearchCharacterSummaryWithHttpInfo(t,e).toPromise()}batchSearchCharacterSummary(t,e){return this.api.batchSearchCharacterSummary(t,e).toPromise()}cloneCharacterWithHttpInfo(t,e){return this.api.cloneCharacterWithHttpInfo(t,e).toPromise()}cloneCharacter(t,e){return this.api.cloneCharacter(t,e).toPromise()}countCharactersWithHttpInfo(t,e){return this.api.countCharactersWithHttpInfo(t,e).toPromise()}countCharacters(t,e){return this.api.countCharacters(t,e).toPromise()}countPublicCharactersWithHttpInfo(t,e){return this.api.countPublicCharactersWithHttpInfo(t,e).toPromise()}countPublicCharacters(t,e){return this.api.countPublicCharacters(t,e).toPromise()}createCharacterWithHttpInfo(t,e){return this.api.createCharacterWithHttpInfo(t,e).toPromise()}createCharacter(t,e){return this.api.createCharacter(t,e).toPromise()}deleteCharacterWithHttpInfo(t,e){return this.api.deleteCharacterWithHttpInfo(t,e).toPromise()}deleteCharacter(t,e){return this.api.deleteCharacter(t,e).toPromise()}deleteCharacterByNameWithHttpInfo(t,e){return this.api.deleteCharacterByNameWithHttpInfo(t,e).toPromise()}deleteCharacterByName(t,e){return this.api.deleteCharacterByName(t,e).toPromise()}deleteCharacterByUidWithHttpInfo(t,e){return this.api.deleteCharacterByUidWithHttpInfo(t,e).toPromise()}deleteCharacterByUid(t,e){return this.api.deleteCharacterByUid(t,e).toPromise()}deleteCharacterDocumentWithHttpInfo(t,e){return this.api.deleteCharacterDocumentWithHttpInfo(t,e).toPromise()}deleteCharacterDocument(t,e){return this.api.deleteCharacterDocument(t,e).toPromise()}deleteCharacterPictureWithHttpInfo(t,e){return this.api.deleteCharacterPictureWithHttpInfo(t,e).toPromise()}deleteCharacterPicture(t,e){return this.api.deleteCharacterPicture(t,e).toPromise()}deleteCharacterVideoWithHttpInfo(t,e){return this.api.deleteCharacterVideoWithHttpInfo(t,e).toPromise()}deleteCharacterVideo(t,e){return this.api.deleteCharacterVideo(t,e).toPromise()}deleteCharacterVoiceWithHttpInfo(t,e,a){return this.api.deleteCharacterVoiceWithHttpInfo(t,e,a).toPromise()}deleteCharacterVoice(t,e,a){return this.api.deleteCharacterVoice(t,e,a).toPromise()}existsCharacterNameWithHttpInfo(t,e){return this.api.existsCharacterNameWithHttpInfo(t,e).toPromise()}existsCharacterName(t,e){return this.api.existsCharacterName(t,e).toPromise()}exportCharacterWithHttpInfo(t,e){return this.api.exportCharacterWithHttpInfo(t,e).toPromise()}exportCharacter(t,e){return this.api.exportCharacter(t,e).toPromise()}getCharacterDetailsWithHttpInfo(t,e){return this.api.getCharacterDetailsWithHttpInfo(t,e).toPromise()}getCharacterDetails(t,e){return this.api.getCharacterDetails(t,e).toPromise()}getCharacterLatestIdByNameWithHttpInfo(t,e){return this.api.getCharacterLatestIdByNameWithHttpInfo(t,e).toPromise()}getCharacterLatestIdByName(t,e){return this.api.getCharacterLatestIdByName(t,e).toPromise()}getCharacterSummaryWithHttpInfo(t,e){return this.api.getCharacterSummaryWithHttpInfo(t,e).toPromise()}getCharacterSummary(t,e){return this.api.getCharacterSummary(t,e).toPromise()}getDefaultCharacterBackendWithHttpInfo(t,e){return this.api.getDefaultCharacterBackendWithHttpInfo(t,e).toPromise()}getDefaultCharacterBackend(t,e){return this.api.getDefaultCharacterBackend(t,e).toPromise()}importCharacterWithHttpInfo(t,e){return this.api.importCharacterWithHttpInfo(t,e).toPromise()}importCharacter(t,e){return this.api.importCharacter(t,e).toPromise()}listCharacterBackendIdsWithHttpInfo(t,e){return this.api.listCharacterBackendIdsWithHttpInfo(t,e).toPromise()}listCharacterBackendIds(t,e){return this.api.listCharacterBackendIds(t,e).toPromise()}listCharacterBackendsWithHttpInfo(t,e){return this.api.listCharacterBackendsWithHttpInfo(t,e).toPromise()}listCharacterBackends(t,e){return this.api.listCharacterBackends(t,e).toPromise()}listCharacterDocumentsWithHttpInfo(t,e){return this.api.listCharacterDocumentsWithHttpInfo(t,e).toPromise()}listCharacterDocuments(t,e){return this.api.listCharacterDocuments(t,e).toPromise()}listCharacterPicturesWithHttpInfo(t,e){return this.api.listCharacterPicturesWithHttpInfo(t,e).toPromise()}listCharacterPictures(t,e){return this.api.listCharacterPictures(t,e).toPromise()}listCharacterVersionsByNameWithHttpInfo(t,e){return this.api.listCharacterVersionsByNameWithHttpInfo(t,e).toPromise()}listCharacterVersionsByName(t,e){return this.api.listCharacterVersionsByName(t,e).toPromise()}listCharacterVideosWithHttpInfo(t,e){return this.api.listCharacterVideosWithHttpInfo(t,e).toPromise()}listCharacterVideos(t,e){return this.api.listCharacterVideos(t,e).toPromise()}listCharacterVoicesWithHttpInfo(t,e){return this.api.listCharacterVoicesWithHttpInfo(t,e).toPromise()}listCharacterVoices(t,e){return this.api.listCharacterVoices(t,e).toPromise()}newCharacterNameWithHttpInfo(t,e){return this.api.newCharacterNameWithHttpInfo(t,e).toPromise()}newCharacterName(t,e){return this.api.newCharacterName(t,e).toPromise()}publishCharacterWithHttpInfo(t,e,a){return this.api.publishCharacterWithHttpInfo(t,e,a).toPromise()}publishCharacter(t,e,a){return this.api.publishCharacter(t,e,a).toPromise()}publishCharacter1WithHttpInfo(t,e){return this.api.publishCharacter1WithHttpInfo(t,e).toPromise()}publishCharacter1(t,e){return this.api.publishCharacter1(t,e).toPromise()}removeCharacterBackendWithHttpInfo(t,e){return this.api.removeCharacterBackendWithHttpInfo(t,e).toPromise()}removeCharacterBackend(t,e){return this.api.removeCharacterBackend(t,e).toPromise()}searchCharacterDetailsWithHttpInfo(t,e){return this.api.searchCharacterDetailsWithHttpInfo(t,e).toPromise()}searchCharacterDetails(t,e){return this.api.searchCharacterDetails(t,e).toPromise()}searchCharacterSummaryWithHttpInfo(t,e){return this.api.searchCharacterSummaryWithHttpInfo(t,e).toPromise()}searchCharacterSummary(t,e){return this.api.searchCharacterSummary(t,e).toPromise()}searchPublicCharacterSummaryWithHttpInfo(t,e){return this.api.searchPublicCharacterSummaryWithHttpInfo(t,e).toPromise()}searchPublicCharacterSummary(t,e){return this.api.searchPublicCharacterSummary(t,e).toPromise()}setDefaultCharacterBackendWithHttpInfo(t,e){return this.api.setDefaultCharacterBackendWithHttpInfo(t,e).toPromise()}setDefaultCharacterBackend(t,e){return this.api.setDefaultCharacterBackend(t,e).toPromise()}updateCharacterWithHttpInfo(t,e,a){return this.api.updateCharacterWithHttpInfo(t,e,a).toPromise()}updateCharacter(t,e,a){return this.api.updateCharacter(t,e,a).toPromise()}updateCharacterBackendWithHttpInfo(t,e,a){return this.api.updateCharacterBackendWithHttpInfo(t,e,a).toPromise()}updateCharacterBackend(t,e,a){return this.api.updateCharacterBackend(t,e,a).toPromise()}uploadCharacterAvatarWithHttpInfo(t,e,a){return this.api.uploadCharacterAvatarWithHttpInfo(t,e,a).toPromise()}uploadCharacterAvatar(t,e,a){return this.api.uploadCharacterAvatar(t,e,a).toPromise()}uploadCharacterDocumentWithHttpInfo(t,e,a){return this.api.uploadCharacterDocumentWithHttpInfo(t,e,a).toPromise()}uploadCharacterDocument(t,e,a){return this.api.uploadCharacterDocument(t,e,a).toPromise()}uploadCharacterPictureWithHttpInfo(t,e,a){return this.api.uploadCharacterPictureWithHttpInfo(t,e,a).toPromise()}uploadCharacterPicture(t,e,a){return this.api.uploadCharacterPicture(t,e,a).toPromise()}uploadCharacterVideoWithHttpInfo(t,e,a){return this.api.uploadCharacterVideoWithHttpInfo(t,e,a).toPromise()}uploadCharacterVideo(t,e,a){return this.api.uploadCharacterVideo(t,e,a).toPromise()}uploadCharacterVoiceWithHttpInfo(t,e,a){return this.api.uploadCharacterVoiceWithHttpInfo(t,e,a).toPromise()}uploadCharacterVoice(t,e,a){return this.api.uploadCharacterVoice(t,e,a).toPromise()}}class xl{constructor(t,e,a){this.api=new rl(t,e,a)}clearMemoryWithHttpInfo(t,e){return this.api.clearMemoryWithHttpInfo(t,e).toPromise()}clearMemory(t,e){return this.api.clearMemory(t,e).toPromise()}deleteChatWithHttpInfo(t,e){return this.api.deleteChatWithHttpInfo(t,e).toPromise()}deleteChat(t,e){return this.api.deleteChat(t,e).toPromise()}getDefaultChatIdWithHttpInfo(t,e){return this.api.getDefaultChatIdWithHttpInfo(t,e).toPromise()}getDefaultChatId(t,e){return this.api.getDefaultChatId(t,e).toPromise()}getMemoryUsageWithHttpInfo(t,e){return this.api.getMemoryUsageWithHttpInfo(t,e).toPromise()}getMemoryUsage(t,e){return this.api.getMemoryUsage(t,e).toPromise()}listChatsWithHttpInfo(t){return this.api.listChatsWithHttpInfo(t).toPromise()}listChats(t){return this.api.listChats(t).toPromise()}listDebugMessagesWithHttpInfo(t,e,a){return this.api.listDebugMessagesWithHttpInfo(t,e,a).toPromise()}listDebugMessages(t,e,a){return this.api.listDebugMessages(t,e,a).toPromise()}listDebugMessages1WithHttpInfo(t,e,a,s){return this.api.listDebugMessages1WithHttpInfo(t,e,a,s).toPromise()}listDebugMessages1(t,e,a,s){return this.api.listDebugMessages1(t,e,a,s).toPromise()}listDebugMessages2WithHttpInfo(t,e){return this.api.listDebugMessages2WithHttpInfo(t,e).toPromise()}listDebugMessages2(t,e){return this.api.listDebugMessages2(t,e).toPromise()}listMessagesWithHttpInfo(t,e,a){return this.api.listMessagesWithHttpInfo(t,e,a).toPromise()}listMessages(t,e,a){return this.api.listMessages(t,e,a).toPromise()}listMessages1WithHttpInfo(t,e,a,s){return this.api.listMessages1WithHttpInfo(t,e,a,s).toPromise()}listMessages1(t,e,a,s){return this.api.listMessages1(t,e,a,s).toPromise()}listMessages2WithHttpInfo(t,e){return this.api.listMessages2WithHttpInfo(t,e).toPromise()}listMessages2(t,e){return this.api.listMessages2(t,e).toPromise()}rollbackMessagesWithHttpInfo(t,e,a){return this.api.rollbackMessagesWithHttpInfo(t,e,a).toPromise()}rollbackMessages(t,e,a){return this.api.rollbackMessages(t,e,a).toPromise()}sendAssistantWithHttpInfo(t,e,a){return this.api.sendAssistantWithHttpInfo(t,e,a).toPromise()}sendAssistant(t,e,a){return this.api.sendAssistant(t,e,a).toPromise()}sendMessageWithHttpInfo(t,e,a){return this.api.sendMessageWithHttpInfo(t,e,a).toPromise()}sendMessage(t,e,a){return this.api.sendMessage(t,e,a).toPromise()}startChatWithHttpInfo(t,e){return this.api.startChatWithHttpInfo(t,e).toPromise()}startChat(t,e){return this.api.startChat(t,e).toPromise()}streamSendAssistantWithHttpInfo(t,e,a){return this.api.streamSendAssistantWithHttpInfo(t,e,a).toPromise()}streamSendAssistant(t,e,a){return this.api.streamSendAssistant(t,e,a).toPromise()}streamSendMessageWithHttpInfo(t,e,a){return this.api.streamSendMessageWithHttpInfo(t,e,a).toPromise()}streamSendMessage(t,e,a){return this.api.streamSendMessage(t,e,a).toPromise()}updateChatWithHttpInfo(t,e,a){return this.api.updateChatWithHttpInfo(t,e,a).toPromise()}updateChat(t,e,a){return this.api.updateChat(t,e,a).toPromise()}}class Sl{constructor(t,e,a){this.api=new nl(t,e,a)}encryptTextWithHttpInfo(t,e){return this.api.encryptTextWithHttpInfo(t,e).toPromise()}encryptText(t,e){return this.api.encryptText(t,e).toPromise()}}class Cl{constructor(t,e,a){this.api=new ol(t,e,a)}addStatisticWithHttpInfo(t,e,a,s,r){return this.api.addStatisticWithHttpInfo(t,e,a,s,r).toPromise()}addStatistic(t,e,a,s,r){return this.api.addStatistic(t,e,a,s,r).toPromise()}getScoreWithHttpInfo(t,e,a){return this.api.getScoreWithHttpInfo(t,e,a).toPromise()}getScore(t,e,a){return this.api.getScore(t,e,a).toPromise()}getStatisticWithHttpInfo(t,e,a,s){return this.api.getStatisticWithHttpInfo(t,e,a,s).toPromise()}getStatistic(t,e,a,s){return this.api.getStatistic(t,e,a,s).toPromise()}getStatisticsWithHttpInfo(t,e,a){return this.api.getStatisticsWithHttpInfo(t,e,a).toPromise()}getStatistics(t,e,a){return this.api.getStatistics(t,e,a).toPromise()}increaseStatisticWithHttpInfo(t,e,a,s){return this.api.increaseStatisticWithHttpInfo(t,e,a,s).toPromise()}increaseStatistic(t,e,a,s){return this.api.increaseStatistic(t,e,a,s).toPromise()}listAgentsByStatisticWithHttpInfo(t,e,a,s){return this.api.listAgentsByStatisticWithHttpInfo(t,e,a,s).toPromise()}listAgentsByStatistic(t,e,a,s){return this.api.listAgentsByStatistic(t,e,a,s).toPromise()}listAgentsByStatistic1WithHttpInfo(t,e,a,s,r){return this.api.listAgentsByStatistic1WithHttpInfo(t,e,a,s,r).toPromise()}listAgentsByStatistic1(t,e,a,s,r){return this.api.listAgentsByStatistic1(t,e,a,s,r).toPromise()}listAgentsByStatistic2WithHttpInfo(t,e,a){return this.api.listAgentsByStatistic2WithHttpInfo(t,e,a).toPromise()}listAgentsByStatistic2(t,e,a){return this.api.listAgentsByStatistic2(t,e,a).toPromise()}listCharactersByStatisticWithHttpInfo(t,e,a){return this.api.listCharactersByStatisticWithHttpInfo(t,e,a).toPromise()}listCharactersByStatistic(t,e,a){return this.api.listCharactersByStatistic(t,e,a).toPromise()}listCharactersByStatistic1WithHttpInfo(t,e,a,s){return this.api.listCharactersByStatistic1WithHttpInfo(t,e,a,s).toPromise()}listCharactersByStatistic1(t,e,a,s){return this.api.listCharactersByStatistic1(t,e,a,s).toPromise()}listCharactersByStatistic2WithHttpInfo(t,e,a,s,r){return this.api.listCharactersByStatistic2WithHttpInfo(t,e,a,s,r).toPromise()}listCharactersByStatistic2(t,e,a,s,r){return this.api.listCharactersByStatistic2(t,e,a,s,r).toPromise()}listHotTagsWithHttpInfo(t,e,a,s){return this.api.listHotTagsWithHttpInfo(t,e,a,s).toPromise()}listHotTags(t,e,a,s){return this.api.listHotTags(t,e,a,s).toPromise()}listPluginsByStatisticWithHttpInfo(t,e,a,s,r){return this.api.listPluginsByStatisticWithHttpInfo(t,e,a,s,r).toPromise()}listPluginsByStatistic(t,e,a,s,r){return this.api.listPluginsByStatistic(t,e,a,s,r).toPromise()}listPluginsByStatistic1WithHttpInfo(t,e,a){return this.api.listPluginsByStatistic1WithHttpInfo(t,e,a).toPromise()}listPluginsByStatistic1(t,e,a){return this.api.listPluginsByStatistic1(t,e,a).toPromise()}listPluginsByStatistic2WithHttpInfo(t,e,a,s){return this.api.listPluginsByStatistic2WithHttpInfo(t,e,a,s).toPromise()}listPluginsByStatistic2(t,e,a,s){return this.api.listPluginsByStatistic2(t,e,a,s).toPromise()}listPromptsByStatisticWithHttpInfo(t,e,a){return this.api.listPromptsByStatisticWithHttpInfo(t,e,a).toPromise()}listPromptsByStatistic(t,e,a){return this.api.listPromptsByStatistic(t,e,a).toPromise()}listPromptsByStatistic1WithHttpInfo(t,e,a,s){return this.api.listPromptsByStatistic1WithHttpInfo(t,e,a,s).toPromise()}listPromptsByStatistic1(t,e,a,s){return this.api.listPromptsByStatistic1(t,e,a,s).toPromise()}listPromptsByStatistic2WithHttpInfo(t,e,a,s,r){return this.api.listPromptsByStatistic2WithHttpInfo(t,e,a,s,r).toPromise()}listPromptsByStatistic2(t,e,a,s,r){return this.api.listPromptsByStatistic2(t,e,a,s,r).toPromise()}}class Pl{constructor(t,e,a){this.api=new sl(t,e,a)}getOwnersWithHttpInfo(t,e){return this.api.getOwnersWithHttpInfo(t,e).toPromise()}getOwners(t,e){return this.api.getOwners(t,e).toPromise()}getOwnersDotWithHttpInfo(t,e){return this.api.getOwnersDotWithHttpInfo(t,e).toPromise()}getOwnersDot(t,e){return this.api.getOwnersDot(t,e).toPromise()}getSubordinateOwnersWithHttpInfo(t,e,a){return this.api.getSubordinateOwnersWithHttpInfo(t,e,a).toPromise()}getSubordinateOwners(t,e,a){return this.api.getSubordinateOwners(t,e,a).toPromise()}getSubordinateSubordinatesWithHttpInfo(t,e,a){return this.api.getSubordinateSubordinatesWithHttpInfo(t,e,a).toPromise()}getSubordinateSubordinates(t,e,a){return this.api.getSubordinateSubordinates(t,e,a).toPromise()}getSubordinatesWithHttpInfo(t,e){return this.api.getSubordinatesWithHttpInfo(t,e).toPromise()}getSubordinates(t,e){return this.api.getSubordinates(t,e).toPromise()}getSubordinatesDotWithHttpInfo(t,e){return this.api.getSubordinatesDotWithHttpInfo(t,e).toPromise()}getSubordinatesDot(t,e){return this.api.getSubordinatesDot(t,e).toPromise()}listSubordinateAuthoritiesWithHttpInfo(t,e){return this.api.listSubordinateAuthoritiesWithHttpInfo(t,e).toPromise()}listSubordinateAuthorities(t,e){return this.api.listSubordinateAuthorities(t,e).toPromise()}removeSubordinateSubordinatesTreeWithHttpInfo(t,e){return this.api.removeSubordinateSubordinatesTreeWithHttpInfo(t,e).toPromise()}removeSubordinateSubordinatesTree(t,e){return this.api.removeSubordinateSubordinatesTree(t,e).toPromise()}updateSubordinateAuthoritiesWithHttpInfo(t,e,a){return this.api.updateSubordinateAuthoritiesWithHttpInfo(t,e,a).toPromise()}updateSubordinateAuthorities(t,e,a){return this.api.updateSubordinateAuthorities(t,e,a).toPromise()}updateSubordinateOwnersWithHttpInfo(t,e,a){return this.api.updateSubordinateOwnersWithHttpInfo(t,e,a).toPromise()}updateSubordinateOwners(t,e,a){return this.api.updateSubordinateOwners(t,e,a).toPromise()}updateSubordinateSubordinatesWithHttpInfo(t,e,a){return this.api.updateSubordinateSubordinatesWithHttpInfo(t,e,a).toPromise()}updateSubordinateSubordinates(t,e,a){return this.api.updateSubordinateSubordinates(t,e,a).toPromise()}}class Al{constructor(t,e,a){this.api=new cl(t,e,a)}batchSearchPluginDetailsWithHttpInfo(t,e){return this.api.batchSearchPluginDetailsWithHttpInfo(t,e).toPromise()}batchSearchPluginDetails(t,e){return this.api.batchSearchPluginDetails(t,e).toPromise()}batchSearchPluginSummaryWithHttpInfo(t,e){return this.api.batchSearchPluginSummaryWithHttpInfo(t,e).toPromise()}batchSearchPluginSummary(t,e){return this.api.batchSearchPluginSummary(t,e).toPromise()}countPluginsWithHttpInfo(t,e){return this.api.countPluginsWithHttpInfo(t,e).toPromise()}countPlugins(t,e){return this.api.countPlugins(t,e).toPromise()}createPluginWithHttpInfo(t,e){return this.api.createPluginWithHttpInfo(t,e).toPromise()}createPlugin(t,e){return this.api.createPlugin(t,e).toPromise()}createPluginsWithHttpInfo(t,e){return this.api.createPluginsWithHttpInfo(t,e).toPromise()}createPlugins(t,e){return this.api.createPlugins(t,e).toPromise()}deletePluginWithHttpInfo(t,e){return this.api.deletePluginWithHttpInfo(t,e).toPromise()}deletePlugin(t,e){return this.api.deletePlugin(t,e).toPromise()}deletePluginsWithHttpInfo(t,e){return this.api.deletePluginsWithHttpInfo(t,e).toPromise()}deletePlugins(t,e){return this.api.deletePlugins(t,e).toPromise()}getPluginDetailsWithHttpInfo(t,e){return this.api.getPluginDetailsWithHttpInfo(t,e).toPromise()}getPluginDetails(t,e){return this.api.getPluginDetails(t,e).toPromise()}getPluginSummaryWithHttpInfo(t,e){return this.api.getPluginSummaryWithHttpInfo(t,e).toPromise()}getPluginSummary(t,e){return this.api.getPluginSummary(t,e).toPromise()}refreshPluginInfoWithHttpInfo(t,e){return this.api.refreshPluginInfoWithHttpInfo(t,e).toPromise()}refreshPluginInfo(t,e){return this.api.refreshPluginInfo(t,e).toPromise()}searchPluginDetailsWithHttpInfo(t,e){return this.api.searchPluginDetailsWithHttpInfo(t,e).toPromise()}searchPluginDetails(t,e){return this.api.searchPluginDetails(t,e).toPromise()}searchPluginSummaryWithHttpInfo(t,e){return this.api.searchPluginSummaryWithHttpInfo(t,e).toPromise()}searchPluginSummary(t,e){return this.api.searchPluginSummary(t,e).toPromise()}updatePluginWithHttpInfo(t,e,a){return this.api.updatePluginWithHttpInfo(t,e,a).toPromise()}updatePlugin(t,e,a){return this.api.updatePlugin(t,e,a).toPromise()}}class Il{constructor(t,e,a){this.api=new ll(t,e,a)}applyPromptRefWithHttpInfo(t,e){return this.api.applyPromptRefWithHttpInfo(t,e).toPromise()}applyPromptRef(t,e){return this.api.applyPromptRef(t,e).toPromise()}applyPromptTemplateWithHttpInfo(t,e){return this.api.applyPromptTemplateWithHttpInfo(t,e).toPromise()}applyPromptTemplate(t,e){return this.api.applyPromptTemplate(t,e).toPromise()}batchSearchPromptDetailsWithHttpInfo(t,e){return this.api.batchSearchPromptDetailsWithHttpInfo(t,e).toPromise()}batchSearchPromptDetails(t,e){return this.api.batchSearchPromptDetails(t,e).toPromise()}batchSearchPromptSummaryWithHttpInfo(t,e){return this.api.batchSearchPromptSummaryWithHttpInfo(t,e).toPromise()}batchSearchPromptSummary(t,e){return this.api.batchSearchPromptSummary(t,e).toPromise()}clonePromptWithHttpInfo(t,e){return this.api.clonePromptWithHttpInfo(t,e).toPromise()}clonePrompt(t,e){return this.api.clonePrompt(t,e).toPromise()}clonePromptsWithHttpInfo(t,e){return this.api.clonePromptsWithHttpInfo(t,e).toPromise()}clonePrompts(t,e){return this.api.clonePrompts(t,e).toPromise()}countPromptsWithHttpInfo(t,e){return this.api.countPromptsWithHttpInfo(t,e).toPromise()}countPrompts(t,e){return this.api.countPrompts(t,e).toPromise()}countPublicPromptsWithHttpInfo(t,e){return this.api.countPublicPromptsWithHttpInfo(t,e).toPromise()}countPublicPrompts(t,e){return this.api.countPublicPrompts(t,e).toPromise()}createPromptWithHttpInfo(t,e){return this.api.createPromptWithHttpInfo(t,e).toPromise()}createPrompt(t,e){return this.api.createPrompt(t,e).toPromise()}createPromptsWithHttpInfo(t,e){return this.api.createPromptsWithHttpInfo(t,e).toPromise()}createPrompts(t,e){return this.api.createPrompts(t,e).toPromise()}deletePromptWithHttpInfo(t,e){return this.api.deletePromptWithHttpInfo(t,e).toPromise()}deletePrompt(t,e){return this.api.deletePrompt(t,e).toPromise()}deletePromptByNameWithHttpInfo(t,e){return this.api.deletePromptByNameWithHttpInfo(t,e).toPromise()}deletePromptByName(t,e){return this.api.deletePromptByName(t,e).toPromise()}deletePromptsWithHttpInfo(t,e){return this.api.deletePromptsWithHttpInfo(t,e).toPromise()}deletePrompts(t,e){return this.api.deletePrompts(t,e).toPromise()}existsPromptNameWithHttpInfo(t,e){return this.api.existsPromptNameWithHttpInfo(t,e).toPromise()}existsPromptName(t,e){return this.api.existsPromptName(t,e).toPromise()}getPromptDetailsWithHttpInfo(t,e){return this.api.getPromptDetailsWithHttpInfo(t,e).toPromise()}getPromptDetails(t,e){return this.api.getPromptDetails(t,e).toPromise()}getPromptSummaryWithHttpInfo(t,e){return this.api.getPromptSummaryWithHttpInfo(t,e).toPromise()}getPromptSummary(t,e){return this.api.getPromptSummary(t,e).toPromise()}listPromptVersionsByNameWithHttpInfo(t,e){return this.api.listPromptVersionsByNameWithHttpInfo(t,e).toPromise()}listPromptVersionsByName(t,e){return this.api.listPromptVersionsByName(t,e).toPromise()}newPromptNameWithHttpInfo(t,e){return this.api.newPromptNameWithHttpInfo(t,e).toPromise()}newPromptName(t,e){return this.api.newPromptName(t,e).toPromise()}publishPromptWithHttpInfo(t,e,a){return this.api.publishPromptWithHttpInfo(t,e,a).toPromise()}publishPrompt(t,e,a){return this.api.publishPrompt(t,e,a).toPromise()}searchPromptDetailsWithHttpInfo(t,e){return this.api.searchPromptDetailsWithHttpInfo(t,e).toPromise()}searchPromptDetails(t,e){return this.api.searchPromptDetails(t,e).toPromise()}searchPromptSummaryWithHttpInfo(t,e){return this.api.searchPromptSummaryWithHttpInfo(t,e).toPromise()}searchPromptSummary(t,e){return this.api.searchPromptSummary(t,e).toPromise()}searchPublicPromptSummaryWithHttpInfo(t,e){return this.api.searchPublicPromptSummaryWithHttpInfo(t,e).toPromise()}searchPublicPromptSummary(t,e){return this.api.searchPublicPromptSummary(t,e).toPromise()}sendPromptWithHttpInfo(t,e){return this.api.sendPromptWithHttpInfo(t,e).toPromise()}sendPrompt(t,e){return this.api.sendPrompt(t,e).toPromise()}streamSendPromptWithHttpInfo(t,e){return this.api.streamSendPromptWithHttpInfo(t,e).toPromise()}streamSendPrompt(t,e){return this.api.streamSendPrompt(t,e).toPromise()}updatePromptWithHttpInfo(t,e,a){return this.api.updatePromptWithHttpInfo(t,e,a).toPromise()}updatePrompt(t,e,a){return this.api.updatePrompt(t,e,a).toPromise()}}class Tl{constructor(t,e,a){this.api=new dl(t,e,a)}createPromptTaskWithHttpInfo(t,e){return this.api.createPromptTaskWithHttpInfo(t,e).toPromise()}createPromptTask(t,e){return this.api.createPromptTask(t,e).toPromise()}deletePromptTaskWithHttpInfo(t,e){return this.api.deletePromptTaskWithHttpInfo(t,e).toPromise()}deletePromptTask(t,e){return this.api.deletePromptTask(t,e).toPromise()}getPromptTaskWithHttpInfo(t,e){return this.api.getPromptTaskWithHttpInfo(t,e).toPromise()}getPromptTask(t,e){return this.api.getPromptTask(t,e).toPromise()}updatePromptTaskWithHttpInfo(t,e,a){return this.api.updatePromptTaskWithHttpInfo(t,e,a).toPromise()}updatePromptTask(t,e,a){return this.api.updatePromptTask(t,e,a).toPromise()}}class vl{constructor(t,e,a){this.api=new ul(t,e,a)}cancelRagTaskWithHttpInfo(t,e){return this.api.cancelRagTaskWithHttpInfo(t,e).toPromise()}cancelRagTask(t,e){return this.api.cancelRagTask(t,e).toPromise()}createRagTaskWithHttpInfo(t,e,a){return this.api.createRagTaskWithHttpInfo(t,e,a).toPromise()}createRagTask(t,e,a){return this.api.createRagTask(t,e,a).toPromise()}deleteRagTaskWithHttpInfo(t,e){return this.api.deleteRagTaskWithHttpInfo(t,e).toPromise()}deleteRagTask(t,e){return this.api.deleteRagTask(t,e).toPromise()}getRagTaskWithHttpInfo(t,e){return this.api.getRagTaskWithHttpInfo(t,e).toPromise()}getRagTask(t,e){return this.api.getRagTask(t,e).toPromise()}getRagTaskStatusWithHttpInfo(t,e){return this.api.getRagTaskStatusWithHttpInfo(t,e).toPromise()}getRagTaskStatus(t,e){return this.api.getRagTaskStatus(t,e).toPromise()}listRagTasksWithHttpInfo(t,e){return this.api.listRagTasksWithHttpInfo(t,e).toPromise()}listRagTasks(t,e){return this.api.listRagTasks(t,e).toPromise()}startRagTaskWithHttpInfo(t,e){return this.api.startRagTaskWithHttpInfo(t,e).toPromise()}startRagTask(t,e){return this.api.startRagTask(t,e).toPromise()}updateRagTaskWithHttpInfo(t,e,a){return this.api.updateRagTaskWithHttpInfo(t,e,a).toPromise()}updateRagTask(t,e,a){return this.api.updateRagTask(t,e,a).toPromise()}}class jl{constructor(t,e,a){this.api=new pl(t,e,a)}listTtsBuiltinSpeakersWithHttpInfo(t){return this.api.listTtsBuiltinSpeakersWithHttpInfo(t).toPromise()}listTtsBuiltinSpeakers(t){return this.api.listTtsBuiltinSpeakers(t).toPromise()}playSampleWithHttpInfo(t,e,a){return this.api.playSampleWithHttpInfo(t,e,a).toPromise()}playSample(t,e,a){return this.api.playSample(t,e,a).toPromise()}speakMessageWithHttpInfo(t,e){return this.api.speakMessageWithHttpInfo(t,e).toPromise()}speakMessage(t,e){return this.api.speakMessage(t,e).toPromise()}}const kl={serverUrl:void 0,configuration:void 0,aiServiceApi:void 0,accountApi:void 0,accountManagerForAdminApi:void 0,appConfigForAdminApi:void 0,appMetaForAdminApi:void 0,characterApi:void 0,chatApi:void 0,encryptionManagerForAdminApi:void 0,agentApi:void 0,interactiveStatisticsApi:void 0,organizationApi:void 0,pluginApi:void 0,promptApi:void 0,promptTaskApi:void 0,ragApi:void 0,ttsServiceApi:void 0},Zn=m.createContext(kl),Hl=({server:p,children:t})=>{const e={baseServer:p?new Yn(p,{}):pc[0]},a=hc(e),s=new hl(a),r=new ml(a),i=new fl(a),n=new gl(a),c=new bl(a),l=new wl(a),u=new xl(a),f=new Sl(a),y=new yl(a),b=new Cl(a),k=new Pl(a),z=new Al(a),R=new Il(a),N=new Tl(a),M=new vl(a),O=new jl(a);return o.jsx(Zn.Provider,{value:{serverUrl:p,configuration:a,aiServiceApi:s,accountApi:r,accountManagerForAdminApi:i,appConfigForAdminApi:n,appMetaForAdminApi:c,characterApi:l,chatApi:u,encryptionManagerForAdminApi:f,agentApi:y,interactiveStatisticsApi:b,organizationApi:k,pluginApi:z,promptApi:R,promptTaskApi:N,ragApi:M,ttsServiceApi:O},children:t})},Dt=()=>m.useContext(Zn),Wl={username:void 0,platform:void 0,csrfToken:void 0,csrfHeaderName:"X-CSRF-TOKEN",registrations:[],location:void 0,icpCode:void 0,resetUser:()=>{},isAuthorized:()=>!1,isGuest:()=>!1},_n=m.createContext(Wl),Rl=({children:p})=>{var R,N,M,O,q,C,K;const t=(R=document.querySelector('meta[name="_username"]'))==null?void 0:R.getAttribute("content"),e=(N=document.querySelector('meta[name="_platform"]'))==null?void 0:N.getAttribute("content"),a=(M=document.querySelector('meta[name="_csrf"]'))==null?void 0:M.getAttribute("content"),s=((O=document.querySelector('meta[name="_csrf_header"]'))==null?void 0:O.getAttribute("content"))??"X-CSRF-TOKEN",r=(q=document.querySelector('meta[name="_registrations"]'))==null?void 0:q.getAttribute("content"),i=r?r.split(","):[],n=(C=document.querySelector('meta[name="_location"]'))==null?void 0:C.getAttribute("content"),c=(K=document.querySelector('meta[name="_icp_code"]'))==null?void 0:K.getAttribute("content"),[l,u]=m.useState(t),[f,y]=m.useState(e),b=(W,Q)=>{u(W),y(Q)},k=()=>!!l,z=()=>f==="guest";return o.jsx(_n.Provider,{value:{username:l,platform:f,csrfToken:a,csrfHeaderName:s,registrations:i,location:n,icpCode:c,resetUser:b,isAuthorized:k,isGuest:z},children:p})},de=()=>m.useContext(_n),Nl=1,zl={messages:[],putMessage:()=>{},removeMessage:()=>{},handleError:()=>{}},to=m.createContext(zl),Ml=({children:p})=>{const{resetUser:t}=de(),[e,a]=m.useReducer(Ol,[]),s=n=>{a({type:"put",message:n})},r=n=>{a({type:"remove",message:n})},i=n=>{if(!n||e.length>Nl)return;const c=(n==null?void 0:n.code)||-1,l=(n==null?void 0:n.message)||"Unknown Error";c===401?t(null,null):s({code:c,message:l})};return o.jsx(to.Provider,{value:{messages:e,putMessage:s,removeMessage:r,handleError:i},children:p})};function Ol(p,t){switch(t.type){case"put":return[...p,t.message];case"remove":return p.filter(e=>e!==t.message);default:return p}}const zt=()=>m.useContext(to),eo=({children:p})=>o.jsx(E,{component:"blockquote",sx:t=>({borderLeft:4,borderColor:t.palette.divider,paddingLeft:2,marginLeft:0,color:t.palette.text.secondary}),children:p});eo.displayName="BlockquoteContent";var Cn;const Dl=(Cn=document.querySelector('meta[name="_location"]'))==null?void 0:Cn.getAttribute("content"),Ul=Dl==="CN"?1:0,Je={en:"English",zh:""},Ve={locales:Object.keys(Je),defaultLocale:Object.keys(Je)[Ul],namespaces:["translation","button","sign-in","account","sidebar","prompt","character","chat"],defaultNamespace:"translation"};function ao(p){if(p in Je)return Je[p]}const La=[{label:"OpenAI",provider:"open_ai",enableApiKey:!0},{label:"Azure OpenAI",provider:"azure_open_ai",enableApiKey:!0},{label:"DashScope",provider:"dash_scope",enableApiKey:!0},{label:"Ollama",provider:"ollama",enableApiKey:!1}],Kt={open_ai:"[open_ai]gpt-4o-mini",azure_open_ai:"[azure_open_ai]gpt-4o-mini",dash_scope:"[dash_scope]qwen-max",ollama:"[ollama]deepseek-r1:8b|text2chat"},Gt={open_ai:"https://api.openai.com/v1",azure_open_ai:"https://{resource}.openai.azure.com/",dash_scope:"https://dashscope.aliyuncs.com/api/v1",ollama:"https://localhost:11434"};function ql(p){const t=[];return p.forEach(e=>t.push(...Br.parse(e).filter(a=>a[0]==="name"||a[0]==="#"||a[0]==="&").map(a=>a[1]))),[...new Set(t)]}function Bl(p){const t=/{(.*?)}(?!})/g,e=[];let a;return p.forEach(s=>{for(;(a=t.exec(s))!==null;)e.push(a[1].trim())}),[...new Set(e)]}function Di(p){const t=El(p);if(!t)return;const e=p!=null&&p.inputs?io(p.inputs):void 0;try{const a=(p==null?void 0:p.format)==="f_string"?Bl(t):ql(t);return Fl(a,e)}catch{return e}}function El(p){const t=[];if((p==null?void 0:p.type)==="chat"&&(p!=null&&p.chatTemplate)){const e=p==null?void 0:p.chatTemplate;t.push(e.system??""),(e.messages??[]).forEach(s=>t.push(`${oe(s)}`)),t.push(`${oe(e.messageToSend)??((p==null?void 0:p.format)==="f_string"?"{input}":"{{{input}}}")}`)}else t.push((p==null?void 0:p.template)||"");return t}function Fl(p,t){const e={};return p.forEach(a=>e[a]=(t==null?void 0:t[a])||""),e}function io(p){if(!p)return;const t=JSON.parse(p),e={};return Object.entries(t).forEach(([a,s])=>{s===null?e[a]=void 0:typeof s=="string"?e[a]=s:e[a]=JSON.stringify(s)}),e}function Vt(p){if(!p)return;const t=/\[([^\]]+)\]/,e=p.match(t);return e==null?void 0:e[1]}function pr(p){if(!p)return;const t=/^\[[^\]]+\](.+?)(\|[^|]*)?$/,e=p.match(t),a=e==null?void 0:e[1];return a!=null&&a.startsWith("|")?"":a}function hr(p,t,e){return e?`[${p}]${t}|${e}`:`[${p}]${t}`}function Rr(p){var t;return!!p&&(((t=La.find(e=>e.provider===p))==null?void 0:t.enableApiKey)??!1)}const Vl=`### Variable Settings
{{{variables}}}

<br>
### Model Info
{{model}}

<br>
### Model Parameters:
{{{parameters}}}

<br>
### Input
{{{prompt}}}

<br>
### Output
{{{output}}}
`;function Nr(p,t,e="Value"){if(!p)return"";try{let a=`| **${t}** | **${e}** |
|----|----|
`;for(const s in p)if(Object.prototype.hasOwnProperty.call(p,s)){const r=p[s];let i;if(r==null)continue;typeof r=="string"?i=r:i=JSON.stringify(r),a+=`| ${s} | ${i} |
`}return a}catch(a){return console.error("Invalid parameters:",a),""}}function Ll(p,t){if(!p)return"";let e="**[SYSTEM]**<br>";return e+=`${p.system??""}<br><br>`,p.messages&&p.messages.length>0&&(e+="**[MESSAGES]**<br>",p.messages.forEach(a=>{var s;e+=`**${(s=a.role)==null?void 0:s.toUpperCase()}: **${oe(a)}<br>`}),e+="<br>"),e+="**[USER]**<br>",e+=`${oe(p.messageToSend)??(t==="f_string"?"{input}":"{{{input}}}")}`,e}function $l(p,t){var y,b,k,z;if(!p||!t)return;const{modelId:e,apiKeyName:a,apiKey:s,...r}=p.params,i=Nr(((y=p.promptTemplate)==null?void 0:y.variables)??((b=p.promptRef)==null?void 0:b.variables),"Placeholder"),n=p.prompt??Ll((k=p.promptTemplate)==null?void 0:k.chatTemplate,(z=p.promptTemplate)==null?void 0:z.format),c=e,l=Nr(r,"Parameters"),u=oe(t.message)??t.text,f={variables:i,prompt:n,model:c,parameters:l,output:u};return Br.render(Vl,f)}function oe(p){var t;return(t=p==null?void 0:p.contents)==null?void 0:t.filter(e=>e.type==="text").map(e=>e.content).join(`
`)}function Ui(p,t){if(!p)return;const e=new Ye;e.type="text",e.content=t??"",(p.contents??(p.contents=[]))[0]=e}function ro(){typeof window<"u"&&(document.body.style.overflow="hidden",document.documentElement.style.setProperty("--ChatsPane-slideIn","1"))}function no(){typeof window<"u"&&(document.documentElement.style.removeProperty("--ChatsPane-slideIn"),document.body.style.removeProperty("overflow"))}function Xr(){typeof window<"u"&&typeof document<"u"&&(window.getComputedStyle(document.documentElement).getPropertyValue("--ChatsPane-slideIn")?no():ro())}function Kl(){return typeof window<"u"&&typeof document<"u"?!!window.getComputedStyle(document.documentElement).getPropertyValue("--ChatsPane-slideIn"):!1}function Gl(){typeof window<"u"&&(document.body.style.overflow="hidden",document.documentElement.style.setProperty("--ChatInfoPane-slideIn","-1"))}function Ql(){typeof window<"u"&&(document.documentElement.style.removeProperty("--ChatInfoPane-slideIn"),document.body.style.removeProperty("overflow"))}function oo(){typeof window<"u"&&typeof document<"u"&&(window.getComputedStyle(document.documentElement).getPropertyValue("--ChatInfoPane-slideIn")?Ql():Gl())}function Zr(p){if(!p)return"offline";switch(p.senderStatus){case"online":return"online";case"invisible":return"invisible";default:return"offline"}}function zr(p){switch(p){case"online":return"success";case"invisible":return"warning";default:return"neutral"}}function ha(p){return(p==null?void 0:p.nickname)??(p==null?void 0:p.name)??"You"}function _i(p,t,e=!1){const a=l=>{if(l.startsWith("<think>")&&l.search("</think>")===-1)return"";const u=l.match(/<think\b[^>]*>([\s\S]*?)<\/think>/gi);let f=l;return u&&u.forEach(y=>{const b=y.replace(/<think\b[^>]*>([\s\S]*?)<\/think>/i,"$1").trim(),k=t?`> ${b.replace(/\n\n/g,`

> `)}

`:"";f=f.replace(y,k)}),f},s=l=>{if(t)return l;const u=l.startsWith("> [")?"":l;if(!u)return u;const f=e?/(.*?)!?\[[^[\]]*?\]\([^(]*?$/:/(.*?)!?\[[^[\]]*?\]\([^()]*?$/,y=u.match(f);return(y==null?void 0:y[1])??u};let c=a(p).split(/\r?\n/).map(l=>s(l)).join(`
`).trim();return(c.startsWith('"')||c.startsWith(""))&&(c.endsWith('"')||c.endsWith(""))&&(c=c.substring(1,c.length-1)),c}const Yl=`
Prompt for charater {{characterName}}.



<br>
**Predefined Variables**

{{{variables}}}


<br>
> This default prompt has only been tested under OpenAI GPT-4.
`,Jl=`
 {{characterName}} 



<br>
****

{{{variables}}}


<br>
>  OpenAI GPT-4 
`,Mr="<think>What should we talk about?</think>",Or="<think></think>",Xl=`{{#RELEVANT_INFORMATION}}
[[[Relevant fragments retrieved that may be relevant to the query]]]
'''
{{{RELEVANT_INFORMATION}}}
'''
{{/RELEVANT_INFORMATION}}

[[[Current time]]]
{{CURRENT_TIME}}

[[[Your task]]]
You play {{CHARACTER_DESCRIPTION}}
Use 1 to 2 sentences to complete feedback, and try to avoid lengthy responses.
Ask fewer questions.
NEVER answer in the tone of an AI assistant! Do not use any templated response formats.
NEVER answer any political or pornographic questions!
NEVER answer technical questions!
You speak in {{CHARACTER_LANG}}.
If you need to display images, use markdown format "![img](the image url)". Do not use markdown format under other circumstances.
NOTE: Don't disclose your character setup!

If a user sends you the following conversation, you need to continue the conversation thread and start a new reply:
'''
${Mr}
'''

[[[About you]]]
Your name: {{CHARACTER_NICKNAME}}
{{#CHARACTER_GENDER}}
Your gender: {{CHARACTER_GENDER}}
{{/CHARACTER_GENDER}}
{{{CHARACTER_PROFILE}}}

[[[The one who is talking with you]]]
Name: {{USER_NICKNAME}}
{{{USER_PROFILE}}}

{{#CHARACTER_CHAT_STYLE}}
[[[Your chat style]]]
{{{CHARACTER_CHAT_STYLE}}}
{{/CHARACTER_CHAT_STYLE}}

{{#CHARACTER_CHAT_EXAMPLE}}
[[[Your chat examples]]]
{{{CHARACTER_CHAT_EXAMPLE}}}
{{/CHARACTER_CHAT_EXAMPLE}}

{{#CHAT_CONTEXT}}
'''
{{{CHAT_CONTEXT}}}
{{/CHAT_CONTEXT}}
`,Zl=`{{#RELEVANT_INFORMATION}}

'''
{{{RELEVANT_INFORMATION}}}
'''
{{/RELEVANT_INFORMATION}}


{{CURRENT_TIME}}


{{CHARACTER_DESCRIPTION}}
 1  2 
 



{{CHARACTER_LANG}}
 markdown  ![img]( URL)  markdown 



'''
${Or}
'''


{{CHARACTER_NICKNAME}}
{{#CHARACTER_GENDER}}
{{CHARACTER_GENDER}}
{{/CHARACTER_GENDER}}
{{{CHARACTER_PROFILE}}}


{{USER_NICKNAME}}
{{{USER_PROFILE}}}

{{#CHARACTER_CHAT_STYLE}}

{{{CHARACTER_CHAT_STYLE}}}
{{/CHARACTER_CHAT_STYLE}}

{{#CHARACTER_CHAT_EXAMPLE}}

{{{CHARACTER_CHAT_EXAMPLE}}}
{{/CHARACTER_CHAT_EXAMPLE}}

{{#CHAT_CONTEXT}}
'''
{{{CHAT_CONTEXT}}}
{{/CHAT_CONTEXT}}
`;function _l(p,t){const e=new ga;e.chatTemplate=new ta,e.chatTemplate.messageToSend=new Ce,e.chatTemplate.messageToSend.role="user",Ui(e.chatTemplate.messageToSend,"{{{input}}}"),e.format="mustache",e.lang=t??Ve.defaultLocale,e.visibility="private",e.tags=["Character"],p&&e.tags.push(p);const a={};let s,r;e.lang==="zh"?(a.CHARACTER_NICKNAME="**",a.CHARACTER_GENDER="**",a.CHARACTER_DESCRIPTION="**",a.CHARACTER_LANG="**",a.CHARACTER_PROFILE="**",a.CHARACTER_CHAT_STYLE="**",a.CHARACTER_CHAT_EXAMPLE="**",a.CHARACTER_GREETING="**",a.USER_NICKNAME="**",a.USER_PROFILE="**",a.RELEVANT_INFORMATION="**",a.CHAT_CONTEXT="**",a.MESSAGE_CONTEXT="**",a.CURRENT_TIME="*yyyy-MM-dd HH:mm:ss*",a.input="**",s=Jl,r=Zl):(a.CHARACTER_NICKNAME="*(Preset character name)*",a.CHARACTER_GENDER="*(Preset character gender)*",a.CHARACTER_DESCRIPTION="*(Preset character description)*",a.CHARACTER_LANG="*(Preset character language)*",a.CHARACTER_PROFILE="*(Preset character profile)*",a.CHARACTER_CHAT_STYLE="*(Preset character chat style)*",a.CHARACTER_CHAT_EXAMPLE="*(Preset character chat example)*",a.CHARACTER_GREETING="*(Preset character greeting)*",a.USER_NICKNAME="*(Preset user nickname, can be changed when creating a chat)*",a.USER_PROFILE="*(Preset user profile, can be changed when creating a chat)*",a.RELEVANT_INFORMATION="*(Relevant information for each round of conversation)*",a.CHAT_CONTEXT="*(Chat context information, can be set when creating a chat)*",a.MESSAGE_CONTEXT="*(Injected relevant information for the current round of conversation)*",a.CURRENT_TIME="*(Current time, format: yyyy-MM-dd HH:mm:ss)*",a.input="*(User input)*",s=Yl,r=Xl);const i={characterName:p,variables:Nr(a,e.lang==="zh"?"":"Placeholder")};e.description=Br.render(s,i),e.chatTemplate.system=r;const n={};return Object.keys(a).forEach(c=>n[c]=""),e.inputs=JSON.stringify(n),e}function so({disabled:p=!1,debugMode:t=!0,url:e,body:a,initialData:s,sx:r,onMessage:i,onFinish:n,onError:c}){const{t:l}=bt("chat"),{handleError:u}=zt(),[f,y]=m.useState(s||""),[b,k]=m.useState(),[z,R]=m.useState(!1);return m.useEffect(()=>{const N=a!==void 0,M=new AbortController;return p||!e?void 0:((async()=>{try{await An(e,{method:N?"POST":"GET",headers:{"Content-Type":N?"application/json":"text/event-stream"},body:a,signal:M.signal,async onopen(q){if(k(void 0),R(!1),q.ok)y("");else if(q.status===429){const C=`[${l("Quota has been used up, you can use your API key to continue chatting.")}]`,K={code:q.status,message:C};y(C),c==null||c(K)}else{const C=`[${q.statusText}]`,K={code:q.status,message:C};y(C),c==null||c(K)}return Promise.resolve()},onmessage(q){const C=JSON.parse(q.data);if(C.finishReason){const K=oe(C.message);K&&y(K),k(C.tokenUsage),n==null||n(C)}else C.text&&(i===void 0||i(C))&&y(K=>K+C.text)},onerror(q){c?c(q):u(q)},onclose(){console.error("The connection has been closed..."),n==null||n()}})}catch(q){c?c(q):u(q)}})(),()=>{M.abort()})},[e,a,n,i,c,u,p,l]),o.jsxs(m.Fragment,{children:[o.jsx(tr,{sx:r,children:_i(f,t)}),t&&b&&o.jsxs(m.Fragment,{children:[o.jsx(gt,{spacing:2}),o.jsx(E,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"center"},children:z?o.jsx(vt,{variant:"outlined",label:l("Copied!")}):o.jsx(ot,{onClick:()=>{var N;f&&((N=navigator==null?void 0:navigator.clipboard)==null||N.writeText(f).then(()=>R(!0)).catch(u))},size:"small",children:o.jsx(ar,{fontSize:"small"})})}),o.jsx(ut,{sx:{my:1},children:l("Token Usage")}),o.jsxs(E,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx(j,{variant:"body2",children:`${l("Input")}: ${b.inputTokenCount}`}),o.jsx(j,{variant:"body2",children:`${l("Output")}: ${b.outputTokenCount}`}),o.jsx(j,{variant:"body2",children:`${l("Total")}: ${b.totalTokenCount}`})]})]})]})}const td="modulepreload",ed=function(p){return"/"+p},un={},Xt=function(t,e,a){let s=Promise.resolve();if(e&&e.length>0){let i=function(l){return Promise.all(l.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),c=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));s=i(e.map(l=>{if(l=ed(l),l in un)return;un[l]=!0;const u=l.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const y=document.createElement("link");if(y.rel=u?"stylesheet":td,u||(y.as="script"),y.crossOrigin="",y.href=l,c&&y.setAttribute("nonce",c),document.head.appendChild(y),u)return new Promise((b,k)=>{y.addEventListener("load",b),y.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${l}`)))})}))}function r(i){const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=i,window.dispatchEvent(n),!n.defaultPrevented)throw i}return s.then(i=>{for(const n of i||[])n.status==="rejected"&&r(n.reason);return t().catch(r)})},ad=({children:p})=>{const t=m.useRef(null),e=typeof p=="object"&&p!==null&&"props"in p&&typeof p.props=="object"&&p.props!==null&&"className"in p.props&&typeof p.props.className=="string"?p.props.className??"":"",a=typeof p=="object"&&p!==null&&"props"in p&&typeof p.props=="object"&&p.props!==null&&"children"in p.props&&typeof p.props.children=="string"?p.props.children??"":"";return m.useEffect(()=>{(async()=>{if(t.current){let r="none";const i=e==null?void 0:e.match(/language-(\w+)/);if(i){r=i[1];try{await Xt(()=>import(`/* @vite-ignore */prismjs/components/prism-${r}.js`),[])}catch{console.error("PrismJS load language failed:",r),r="none"}}Fo.highlightElement(t.current)}})()},[e]),o.jsx("pre",{children:o.jsx("code",{ref:t,className:e||"language-none",children:a})})};function co(p){const[t,e]=m.useState(!1),{mode:a,setMode:s}=ir();if(m.useEffect(()=>{e(!0)},[]),!t)return o.jsx(Te,{dense:!0,color:"inherit",...p,disabled:!0});const r=()=>{s(a==="light"?"dark":"light")};return o.jsx(Te,{dense:!0,id:"toggle-mode",onClick:i=>{i.preventDefault(),r()},...p,children:a==="light"?o.jsx(Zo,{}):o.jsx(_o,{})})}const Qt=m.forwardRef((p,t)=>{const{obj:e,dialog:a,button:s,onConfirm:r,children:i,onClose:n,...c}=p,{t:l}=bt(["button"]),u=f=>{n&&n(f,"escapeKeyDown")};return o.jsxs(Ga,{ref:t,maxWidth:"md",...c,onClose:n,children:[o.jsxs(Xe,{sx:{px:2,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsx(j,{color:a==null?void 0:a.color,sx:{mr:2},children:a==null?void 0:a.title}),o.jsx(ot,{"aria-label":"close",onClick:u,children:o.jsx(Qa,{})})]}),o.jsx(De,{children:o.jsx(dt,{sx:{display:"flex",justifyContent:"center",alignItems:"center",p:1},children:i})}),o.jsx(qi,{children:o.jsx(Rt,{autoFocus:!0,fullWidth:!0,color:s==null?void 0:s.color,onClick:()=>r==null?void 0:r(e),startIcon:s==null?void 0:s.startIcon,variant:"contained",size:"small",sx:{fontSize:"small",m:2},children:(s==null?void 0:s.text)||l("button:Confirm")})})]})});Qt.displayName="ConfirmModal";const te=m.forwardRef((p,t)=>o.jsx(ve,{ref:t,size:"small",multiline:!0,fullWidth:!0,slotProps:{input:{sx:{borderRadius:"6px",whiteSpace:"pre-wrap",overflowWrap:"break-word"}}},sx:{flex:1},...p}));te.displayName="ContentTextarea";const lo=m.forwardRef((p,t)=>{const{lines:e=1,loading:a=!0,sx:s,...r}=p,i=Array.from({length:e},(n,c)=>o.jsx(dt,{children:o.jsx(vr,{sx:{height:"3rem"}})},`title-${c}`));return o.jsxs(E,{ref:t,sx:{display:a?"grid":"none",gridTemplateColumns:"1fr 3fr",alignItems:"stretch",gap:3,pb:4,pr:4,...s},...r,children:[o.jsx(dt,{children:i}),o.jsx(dt,{sx:{py:1},children:o.jsx(vr,{variant:"rectangular",sx:{borderRadius:"4px",flex:1}})})]})});lo.displayName="DocumentSkeleton";const it=Lt(E)(({theme:p})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",flexWrap:"wrap",gap:p.spacing(1),[p.breakpoints.only("xs")]:{flexDirection:"column",gap:p.spacing(1)},[p.breakpoints.up("sm")]:{flexDirection:"row",gap:p.spacing(2)}}));function id(){const p=Ia(),{t}=bt(),{messages:e,removeMessage:a}=zt(),[s,r]=m.useState(!1),i=e&&e.length>0?e[0]:void 0,n=ts(p.breakpoints.down("sm"));return o.jsx(o.Fragment,{children:e&&o.jsx(es,{anchorOrigin:{vertical:"bottom",horizontal:n?"center":"right"},open:!!i,onClose:()=>i&&a(i),action:o.jsx(ot,{size:"small","aria-label":"close",color:"inherit",onClick:()=>{i&&a(i),r(!1)},children:o.jsx(Qa,{fontSize:"small"})}),sx:{zIndex:1e4,mx:n?4:8},message:o.jsxs(m.Fragment,{children:[o.jsxs(Rt,{color:"warning",sx:{display:s?"none":"flex",justifyContent:"space-around",alignItems:"center",position:"absolute",top:0,left:0,right:0,bottom:0,textDecoration:"none","&:hover, &:focus-within":{textDecoration:"none",bgcolor:"transparent"}},onClick:c=>{c.preventDefault(),n?i&&a(i):r(!0)},children:[o.jsx(j,{children:t("Error!")}),o.jsx(j,{children:`[${i==null?void 0:i.code}]`})]}),o.jsxs(dt,{sx:{display:s&&i?"flex":"none"},children:[o.jsx(j,{variant:"body1",children:`${t("Exception")}: ${i==null?void 0:i.code}`}),o.jsx(j,{sx:{whiteSpace:"pre-wrap",p:1},children:i==null?void 0:i.message})]})]})})})}const Ht=Lt(E)(({theme:p})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",flexWrap:"wrap",gap:p.spacing(2)})),Sa=m.forwardRef((p,t)=>{const{sx:e,children:a,...s}=p;return o.jsx(Vr,{ref:t,placement:"top",sx:{zIndex:9999,...e},...s,children:o.jsx(E,{component:"span",sx:{display:"inline-block"},children:a})})}),Ir=m.forwardRef((p,t)=>{const{children:e,href:a,anonymous:s=!1,...r}=p,i=ke(),{pathname:n}=In(),{isAuthorized:c}=de(),l=m.useCallback((u,f)=>u.replace(/\/+$/,"")===f.replace(/\/+$/,""),[]);return o.jsx(Te,{ref:t,disabled:!s&&!c(),selected:l(a,n),onClick:u=>{u.preventDefault(),i(a)},sx:{borderRadius:"4px",px:1},...r,children:e})});function rd(){const{t:p}=bt("sidebar"),{csrfToken:t,isAuthorized:e}=de(),a="4px";return o.jsx(E,{className:"Sidebar",sx:{zIndex:9999,position:"fixed",bottom:0,left:"calc((100dvw - var(--Footer-width)) / 2)",right:"calc((100dvw - var(--Footer-width)) / 2)",height:"var(--Footer-height)",width:"var(--Footer-width)",bgcolor:"transparent",boxShadow:"none",display:{xs:"flex",sm:"none"},flexDirection:"row",justifyContent:"center",alignItems:"center"},children:o.jsx("div",{children:o.jsxs(rr,{dense:!0,sx:[()=>({bgcolor:"transparent",borderRadius:a,boxShadow:3,borderLeft:1,borderTop:1,borderRight:1,borderBottom:0,borderColor:"divider",px:1,py:.5,m:0,gap:2,display:"flex",flexDirection:"row"}),s=>s.applyStyles("dark",{borderColor:s.palette.grey[600]})],children:[o.jsx(Et,{disablePadding:!0,children:o.jsx(Sa,{title:p("Home"),children:o.jsx(Ir,{href:"/",anonymous:!0,children:o.jsx(Tn,{})})})}),o.jsx(Et,{disablePadding:!0,children:o.jsx(Sa,{title:p("Chat"),children:o.jsx(Ir,{href:"/w/chat",children:o.jsx(Lr,{})})})}),o.jsx(Pa,{orientation:"vertical"}),o.jsx(Et,{disablePadding:!0,children:o.jsx(Sa,{title:p("Switch Theme"),children:o.jsx(co,{sx:{borderRadius:a,px:1}})})}),o.jsx(Et,{disablePadding:!0,children:o.jsx(Sa,{title:p("Switch Language"),children:o.jsx(ho,{sx:{borderRadius:a,px:1}})})}),o.jsx(Et,{disablePadding:!0,children:o.jsx(Sa,{title:p("Code Repository"),children:o.jsx(Te,{dense:!0,component:"a",href:"https://github.com/freechat-fun/freechat",target:"_blank",sx:{borderRadius:a,px:1},children:o.jsx($r,{})})})}),o.jsx(Pa,{orientation:"vertical"}),e()?o.jsx(Et,{disablePadding:!0,children:o.jsxs("form",{method:"post",action:"/logout",children:[o.jsx("input",{type:"hidden",name:"_csrf",value:t??""}),o.jsx(Sa,{title:p("Sign Out",{ns:"account"}),children:o.jsx(Te,{component:"button",dense:!0,type:"submit",sx:{borderRadius:a,px:1},children:o.jsx(vn,{})})})]})}):o.jsx(Et,{disablePadding:!0,children:o.jsx(Sa,{title:p("Sign In",{ns:"account"}),children:o.jsx(Ir,{href:"/w/login",anonymous:!0,children:o.jsx(jn,{})})})})]})})})}const Pe=Lt(E)(({theme:p})=>({width:"100%",display:"grid",gridTemplateColumns:"auto 1fr",alignItems:"center",gap:p.spacing(2)}));function uo(p){return p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function nd(p,t){if(p.length!==t.length)return!1;for(let e=0;e<p.length;e++)if(p[e]!==t[e])return!1;return!0}function Ut(p,t){return Array.isArray(p)&&Array.isArray(t)?nd(p,t):p===t}const $a=m.forwardRef((p,t)=>{const{highlight:e,children:a,...s}=p,r=Ia(),{mode:i}=ir(),[n,c]=m.useState(i==="light"?r.palette.warning.light:r.palette.warning.dark);m.useEffect(()=>{c(i==="light"?r.palette.warning.light:r.palette.warning.dark)},[i,r.palette.warning.dark,r.palette.warning.light]);const l=m.useMemo(()=>{if(!(e!=null&&e.trim())||typeof a!="string")return[];const u=uo(e),f=new RegExp(`(${u})`,"gi");return a.split(f)},[a,e]);return!(e!=null&&e.trim())||l.length===0?o.jsx(j,{ref:t,...s,children:a}):o.jsx(j,{ref:t,...s,children:l.map((u,f)=>u.toLowerCase()===e.toLowerCase()?o.jsx("span",{style:{background:n},children:u},`${u}-${f}`):o.jsx("span",{children:u},`${u}-${f}`))})});$a.displayName="HighlightedTypography";const pn=Lt(j)(({theme:p})=>({overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",p:p.spacing(1)}));function po(p,t){const[e,a]=m.useState(p);return m.useEffect(()=>{const s=setTimeout(()=>{a(p)},t);return()=>{clearTimeout(s)}},[p,t]),e}const _r="opacity 200ms ease-in-out transform 0.4s, box-shadow 0.4s",mr=100,tn={entering:{opacity:0},entered:{opacity:1},exiting:{opacity:0},exited:{opacity:0}};function en(p,t,e=1,a=300,s=mr){if(typeof window>"u")return()=>{};const r=[];return r.push(window.setTimeout(()=>{p(!0)},a)),t&&r.push(window.setTimeout(()=>{t(!0)},a+e*s)),()=>r.forEach(window.clearTimeout)}const Xi=512,od=20*1024;function fr(p,t=od,e=Xi){let a=.8;const s=(i,n)=>new Promise((c,l)=>{const u=new FileReader;u.onload=f=>{const y=new Image;y.onload=()=>{const b=document.createElement("canvas");y.width>e?(b.width=e,b.height=y.height*e/y.width):(b.width=y.width,b.height=y.height);const k=b.getContext("2d");k==null||k.drawImage(y,0,0,b.width,b.height);const z=b.toDataURL("image/jpeg",n);b.toBlob(R=>{R?c({dataUrl:z,blob:R}):l(new Error("Compression failed"))},"image/jpeg",n)},y.onerror=l,y.src=f.target.result},u.onerror=l,u.readAsDataURL(i)}),r=({dataUrl:i,blob:n})=>i.length<t?Promise.resolve({dataUrl:i,blob:n}):a>.01?(a*=.8,s(p,a).then(r)):Promise.reject(new Error(`Unable to compress the image to less than ${t}`));return s(p,a).then(r)}function Dr(p,t="dark",e=.3){return new Promise((a,s)=>{if(!p){a("");return}const r=new Image;r.crossOrigin="Anonymous",r.onload=()=>{const i=document.createElement("canvas");i.width=r.width,i.height=r.height;const n=i.getContext("2d");if(!n){a("");return}n.drawImage(r,0,0),n.fillStyle=`rgba(${t==="dark"?"0 0 0":"255 255 255"} / ${1-e})`,n.fillRect(0,0,i.width,i.height),i.style.filter="blur(10px)",a(i.toDataURL())},r.onerror=i=>{s(i)},r.src=p,(r.complete||r.complete===void 0)&&(r.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",r.src=p)})}const an=m.forwardRef((p,t)=>{const{infoType:e,count:a=10,onTagClick:s=()=>{},...r}=p,{t:i}=bt(),{interactiveStatisticsApi:n}=Dt(),{handleError:c}=zt(),[l,u]=m.useState([]),[f,y]=m.useState(""),b=po(f,500);m.useEffect(()=>{e&&(n==null||n.listHotTags(e,a,b).then(u).catch(c))},[n,e,a,b,c]);function k(z){z.target.value!==f&&y(z.target.value)}return o.jsxs(dt,{spacing:2,ref:t,...r,children:[l.map((z,R)=>o.jsx(Ge,{href:"#",onClick:N=>{N.preventDefault(),z.content&&(s==null||s(z.content))},sx:{textDecoration:"none","&:hover, &:focus-within":{textDecoration:"underline"}},children:`${z.content} (${z.count})`},`tag-${z.content}=${R}`)),o.jsx(gt,{spacing:6}),o.jsx(ve,{name:"keyWord",type:"text",value:f,onChange:k,placeholder:i("Search tags"),slotProps:{input:{startAdornment:o.jsx(Ze,{position:"start",children:o.jsx(kn,{fontSize:"small",sx:{color:"text.secondary"}})})}},fullWidth:!0,size:"small"})]})});an.displayName="HotTags";function yr(p){if(!p)return"";try{const e=new URL(p).pathname;return e.substring(e.lastIndexOf("/")+1)}catch(t){return console.error("Invalid URL:",t),p}}function sd(p){if(!p)return"";let t=p.replace(/-/g,"+").replace(/_/g,"/");t=t.padEnd(t.length+(4-t.length%4)%4,"=");try{const e=atob(t),a=new TextDecoder("utf-8"),s=new Uint8Array([...e].map(r=>r.charCodeAt(0)));return a.decode(s)}catch(e){return console.error("Failed to decode base64url string",e),p}}let hn=0;function gr(p){const{onImageSelect:t,previewProps:e,Icon:a=as,...s}=p,{t:r}=bt("button"),[i,n]=m.useState(),[c,l]=m.useState(null),[u,f]=m.useState(!1),y=m.useRef(`image-upload-input-${hn}`).current,b=m.useRef(null),k={maxWidth:"auto",maxHeight:"auto",borderRadius:0,...e};m.useEffect(()=>{hn++},[]);function z(O){const q=O.target.files&&O.target.files[0];q&&(l(q),n(URL.createObjectURL(q)),f(!0))}function R(O,q){q!=="backdropClick"&&(l(null),n(void 0),f(!1))}function N(){b.current&&b.current.click()}function M(){c&&i&&t(c,yr(i)),l(null),n(void 0),f(!1)}return o.jsxs(o.Fragment,{children:[o.jsx(jr,{type:"file",id:y,onChange:z,sx:{display:"none"},inputProps:{ref:b,accept:"image/jpeg, image/png, image/gif, image/bmp, image/tiff, image/webp, .jpg, .jpeg, .png, .gif, .bmp, .tiff, .webp"}}),o.jsx("label",{htmlFor:y,children:o.jsx(ot,{onClick:N,...s,size:"small",children:o.jsx(a,{})})}),o.jsxs(Ga,{open:u,onClose:R,maxWidth:"sm",children:[o.jsxs(Xe,{sx:{px:2,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsx(j,{variant:"h6",sx:{mr:2},children:r("Choose a picture")}),o.jsx(ot,{"aria-label":"close",onClick:O=>R(O,"escapeKeyDown"),children:o.jsx(Qa,{})})]}),o.jsx(De,{children:o.jsx(dt,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mx:2},children:i&&o.jsx(br,{src:i,maxWidth:k.maxWidth!=="auto"?k.maxWidth:void 0,maxHight:k.maxHeight!=="auto"?k.maxHeight:void 0,borderRadius:k.borderRadius})})}),o.jsxs(qi,{children:[o.jsx(ot,{onClick:M,children:o.jsx(Bi,{})}),o.jsx(ot,{onClick:N,children:o.jsx(Hn,{})})]})]})]})}function br(p){const{src:t,maxWidth:e,maxHight:a,borderRadius:s=0}=p,[r,i]=m.useState({width:e,height:a});return m.useEffect(()=>{if(t){const n=new Image;n.onload=()=>{let c=n.width,l=n.height;c>Xi&&(c=Xi,l=n.height*Xi/n.width),i({width:c,height:l})},n.src=t,(n.complete||n.complete===void 0)&&(n.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",n.src=t)}},[t]),o.jsx(E,{sx:{maxWidth:e,maxHeight:a,width:r.width,height:r.height,backgroundImage:`url(${t})`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:s}})}const cd=p=>{const{t}=bt(),{title:e=t("Image preview"),open:a=!1,setOpen:s=()=>{},...r}=p;function i(n,c){c!=="backdropClick"&&s(!1)}return o.jsxs(Ga,{open:a,onClose:i,maxWidth:"md",children:[o.jsx(Xe,{children:e}),o.jsx(De,{children:o.jsx(br,{...r})}),o.jsx(qi,{children:o.jsx(ot,{onClick:()=>s(!1),children:o.jsx(is,{})})})]})},ld=Lt(E)(()=>({position:"absolute",top:0,left:0,right:0,bottom:0,opacity:0,transition:"0.3s ease-in",background:"linear-gradient(180deg, transparent 67%, rgba(0,0,0,0.00345888) 68.94%, rgba(0,0,0,0.014204) 70.89%, rgba(0,0,0,0.0326639) 72.83%, rgba(0,0,0,0.0589645) 74.78%, rgba(0,0,0,0.0927099) 76.72%, rgba(0,0,0,0.132754) 78.67%, rgba(0,0,0,0.177076) 80.61%, rgba(0,0,0,0.222924) 82.56%, rgba(0,0,0,0.267246) 84.5%, rgba(0,0,0,0.30729) 86.44%, rgba(0,0,0,0.341035) 88.39%, rgba(0,0,0,0.367336) 90.33%, rgba(0,0,0,0.385796) 92.28%, rgba(0,0,0,0.396541) 94.22%, rgba(0,0,0,0.4) 96.17%)","&:hover, &:focus-within":{opacity:1}}));function Ji({Icon:p,onClick:t,sx:e}){return o.jsx(ot,{size:"small",sx:{bgcolor:"transparent",transition:"transform 0.4s, box-shadow 0.4s","&:hover, &:focus-within":{bgcolor:"transparent",transform:"translateY(-2px)"},...e},onClick:a=>{a.stopPropagation(),t()},children:o.jsx(p,{sx:{color:"#fefefe"}})})}function rn(p){const{icons:t,onView:e,onEdit:a,onDownload:s,onDelete:r}=p,i={view:nr,edit:Ei,download:rs,delete:or,...t};return o.jsx(ld,{children:o.jsxs(E,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end",alignSelf:"flex-end",gap:1,width:"100%",height:"100%",p:1},children:[e&&o.jsx(Ji,{Icon:i.view,onClick:e}),a&&o.jsx(Ji,{Icon:i.edit,onClick:a}),s&&o.jsx(Ji,{Icon:i.download,onClick:s}),r&&o.jsx(Ji,{Icon:i.delete,onClick:r})]})})}function wr(p){const{onSearch:t,sx:e}=p,{t:a}=bt("button"),[s,r]=m.useState("");function i(c){c.target.value!==s&&r(c.target.value)}function n(c){c.preventDefault(),t(s,[])}return o.jsx("form",{onSubmit:n,children:o.jsxs(E,{sx:{display:"flex",justifyContent:"start",alignItems:"center",py:1,pr:1,gap:3,borderRadius:1,...e},children:[o.jsx(ve,{name:"text",type:"text",value:s,size:"small",onChange:i,placeholder:a("Search title, description, content and more"),slotProps:{input:{startAdornment:o.jsx(ns,{sx:{color:"action.active",mr:1}}),sx:{borderRadius:"6px"}}},sx:{flex:1}}),o.jsx(Rt,{size:"small",type:"submit",variant:"contained",color:"primary",children:a("Search")})]})})}const Ne=m.forwardRef((p,t)=>{const{sx:e,children:a,...s}=p;return o.jsx(j,{ref:t,variant:"subtitle1",color:"textSecondary",sx:{mr:2,...e},...s,children:a})});Ne.displayName="LabelTypography";const dd=Kr(o.jsx(Gr,{viewBox:"0 0 1024 1024",children:o.jsx("path",{d:"M228.616 662.377c-18.254-4.236-32.293-19.763-32.293-39.526V405.455c1.404-19.764 14.041-35.291 32.293-39.527l200.78-43.76 21.062-86.112H217.384c-82.839 0-148.83 66.347-148.83 148.225v256.923c0 81.876 67.395 149.636 148.83 149.636h233.074l-21.061-86.112-200.781-42.351z m584.092-426.323H578.226l21.062 86.111 200.785 43.761c18.253 4.237 32.287 19.764 32.287 39.526V622.85c-1.4 19.763-14.035 35.29-32.287 39.526l-200.785 43.762-21.062 86.11h234.482c81.436 0 148.83-66.347 148.83-149.635V384.278c-1.41-81.877-67.394-148.224-148.83-148.224zM429.396 502.86H600.69v21.174H429.396V502.86z"})})),ud=Kr(o.jsxs(Gr,{viewBox:"0 0 1024 1024",children:[o.jsx("path",{d:"M229.248 704V337.504h271.744v61.984h-197.76v81.28h184v61.76h-184v99.712h204.768V704h-278.72z m550.496 0h-70.24v-135.488c0-28.672-1.504-47.232-4.48-55.648a39.04 39.04 0 0 0-14.656-19.616 41.792 41.792 0 0 0-24.384-7.008c-12.16 0-23.04 3.328-32.736 10.016-9.664 6.656-16.32 15.488-19.872 26.496-3.584 11.008-5.376 31.36-5.376 60.992V704h-70.24v-265.504h65.248v39.008c23.168-30.016 52.32-44.992 87.488-44.992 15.52 0 29.664 2.784 42.496 8.352 12.832 5.6 22.56 12.704 29.12 21.376 6.592 8.672 11.2 18.496 13.76 29.504 2.56 11.008 3.872 26.752 3.872 47.264V704z"}),o.jsx("path",{d:"M160 144a32 32 0 0 0-32 32V864a32 32 0 0 0 32 32h688a32 32 0 0 0 32-32V176a32 32 0 0 0-32-32H160z m0-64h688a96 96 0 0 1 96 96V864a96 96 0 0 1-96 96H160a96 96 0 0 1-96-96V176a96 96 0 0 1 96-96z"})]})),pd=Kr(o.jsxs(Gr,{viewBox:"0 0 1024 1024",children:[o.jsx("path",{d:"M160 144a32 32 0 0 0-32 32V864a32 32 0 0 0 32 32h688a32 32 0 0 0 32-32V176a32 32 0 0 0-32-32H160z m0-64h688a96 96 0 0 1 96 96V864a96 96 0 0 1-96 96H160a96 96 0 0 1-96-96V176a96 96 0 0 1 96-96z"}),o.jsx("path",{d:"M482.176 262.272h59.616v94.4h196v239.072h-196v184.416h-59.616v-184.416H286.72v-239.04h195.456V262.24z m-137.504 277.152h137.504v-126.4H344.64v126.4z m197.12 0h138.048v-126.4H541.76v126.4z"})]})),At=m.forwardRef((p,t)=>o.jsx(Wn,{...p,ref:t,fontSize:"small"}));function ho(p){const[t,e]=m.useState(!1),{i18n:a}=bt(),s=a.language||Ve.defaultLocale,r=s==="zh"?ud:pd;return m.useEffect(()=>{e(!0)},[]),t?o.jsx(Te,{dense:!0,id:"toggle-language",onClick:()=>{const i=Object.keys(Je),c=(i.findIndex(l=>l===s)+1)%i.length;a.changeLanguage(i[c])},...p,children:o.jsx(r,{})}):o.jsx(Te,{dense:!0,id:"toggle-language",disabled:!0,...p})}function gt(p){const{spacing:t}=p;return o.jsx(E,{sx:{mt:t||3}})}const hd=er.lazy(async()=>Xt(()=>import("./modules-D8RyIJDO.js").then(p=>p.ad),__vite__mapDeps([0,1]))),md=Lt("div")(({theme:p})=>({display:"block",overflowWrap:"anywhere","&:empty::before, & > span:empty::before":{content:'""',display:"inline-block"},"& h1":{...p.typography.h1,marginTop:16,marginBottom:16},"& h2":{...p.typography.h2,marginTop:12,marginBottom:12},"& h3":{...p.typography.h3,marginTop:12,marginBottom:12},"& h4":{...p.typography.h4,marginTop:12,marginBottom:12},"& h5":{...p.typography.h5,marginTop:4,marginBottom:4},"& h6":{...p.typography.h6,marginTop:4,marginBottom:4},"& p":{marginTop:12,marginBottom:12},"& *:first-of-type":{marginTop:0},"& *:last-child":{marginBottom:0}})),fd=({alt:p,...t})=>{let e,a;const s=/(.*?)\|(\d+)(x?)(\d*)(x?)/.exec(p);if(s){p=s[1];const[,,i,n,c]=s;n&&(e=i,c&&(a=c))}const r={maxWidth:"100%",height:"auto",...e&&{width:`${e}px`},...a&&{height:`${a}px`}};return o.jsx("img",{alt:p,...t,style:r})};function tr({loading:p,sx:t,children:e=""}){const a=o.jsx(vr,{variant:"text",width:"100%"});return o.jsx(md,{sx:t,children:p?a:o.jsx(er.Suspense,{fallback:a,children:o.jsx(hd,{options:{overrides:{a:{component:Ge,props:{target:"_blank",rel:"noopener noreferrer"}},pre:{component:ad},img:{component:fd},table:{component:Ta},blockquote:{component:eo}},slugify:()=>""},children:e})})})}const St=Lt(E)(({theme:p})=>({border:"1px solid transparent",borderRadius:"8px",boxShadow:"none","&:hover, &:focus-within":{borderColor:p.palette.primary.main},padding:16,display:"flex",flexDirection:"column",gap:0})),yt=m.forwardRef((p,t)=>{const{children:e,...a}=p;return o.jsx(Vr,{ref:t,slotProps:{tooltip:{sx:{fontSize:"small",maxWidth:"20rem"}}},...a,children:e})});yt.displayName="OptionTooltip";const nn=m.forwardRef((p,t)=>{const{when:e=!1,title:a,message:s}=p,{t:r}=bt(),i=Vo(({currentLocation:n,nextLocation:c})=>e&&n.pathname!==c.pathname);return o.jsx(Qt,{ref:t,open:i.state==="blocked",dialog:{title:a||r("Confirm to Leave"),color:"error"},button:{startIcon:o.jsx(os,{})},onClose:()=>{var n;return(n=i.reset)==null?void 0:n.call(i)},onConfirm:()=>{var n;return(n=i.proceed)==null?void 0:n.call(i)},children:o.jsx(ma,{children:s||r("You have unsaved changes. Are you sure you want to leave?")})})});nn.displayName="RouterBlocker";const on=m.forwardRef((p,t)=>{const e=ke();return p&&(!p.href||p.onClick)?o.jsx(Ge,{...p}):o.jsx(Ge,{ref:t,onClick:a=>{a.preventDefault(),p.href&&e(p.href)},...p})});on.displayName="RouterLink";const mo=m.forwardRef((p,t)=>{const{sx:e,children:a,...s}=p,r=Ia();return o.jsx(j,{ref:t,variant:"body1",component:"div",sx:{maxHeight:"calc(1.6em * 10)",overflowY:"auto",padding:2,width:"100%",boxSizing:"border-box",whiteSpace:"pre-wrap",border:1,borderColor:r.palette.divider,borderRadius:"2px",...e},...s,children:a})});mo.displayName="ScrollableTypography";const yd=Lt(Rn)(({theme:p})=>({borderRadius:"8px",padding:p.spacing(2),display:"flex",flexDirection:"column",gap:p.spacing(1),height:"100%",overflow:"auto"})),Vi=m.forwardRef((p,t)=>{const{children:e,...a}=p;return o.jsx(ss,{ref:t,elevation:0,anchor:"right",slotProps:{paper:{sx:{width:{md:"35%"},backgroundColor:"transparent",p:{sm:0,md:2},boxShadow:"none"}}},...a,children:o.jsx(yd,{children:e})})});Vi.displayName="Sidedrawer";const Pa=m.forwardRef((p,t)=>{const{sx:e,...a}=p;return o.jsx(ut,{ref:t,flexItem:!0,sx:{mx:.5,my:.5,borderColor:"diveder",...e},...a})});Pa.displayName="SidebarDivider";const ee=Lt(dt)(({theme:p})=>[{margin:p.spacing(2),padding:p.spacing(2),boxShadow:p.shadows[1],borderRadius:"6px",border:`1px solid ${p.palette.divider}`,transition:"transform 0.4s, box-shadow 0.4s",gap:p.spacing(2),backgroundColor:p.palette.background.default,[p.breakpoints.down("sm")]:{marginLeft:p.spacing(0),marginRight:p.spacing(0)},"&:hover, &:focus-within":{boxShadow:p.shadows[3],transform:"translateY(-2px)"}},p.applyStyles("dark",{backgroundColor:p.palette.background.paper})]),Li=Lt($a)(()=>({display:"-webkit-box",overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:3,maxHeight:"4.5rem",minHeight:"4.5rem",lineHeight:"1.5rem",whiteSpace:"pre-wrap"})),fo=Lt(j)(({theme:p})=>({border:`1px solid ${p.palette.primary.main}`,backgroundColor:p.palette.background.default,padding:p.spacing(1,2),borderRadius:"6px",whiteSpace:"pre-wrap",color:p.palette.text.primary})),gd=({children:p,...t})=>{const{t:e}=bt(),{title:a=e("Text preview"),open:s=!1,setOpen:r=()=>{},...i}=t,n=(c,l)=>{l!=="backdropClick"&&r(!1)};return o.jsxs(Ga,{open:s,onClose:n,maxWidth:"md",fullWidth:!0,children:[o.jsx(Xe,{children:a}),o.jsx(De,{children:o.jsx(E,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:2},children:o.jsx(mo,{...i,children:p})})}),o.jsx(qi,{children:o.jsx(ot,{onClick:()=>r(!1),sx:{mr:2},children:o.jsx(Bi,{})})})]})},be=m.forwardRef((p,t)=>{const{sx:e,children:a,...s}=p;return o.jsx(Vr,{ref:t,placement:"right",sx:{zIndex:9999,...e},...s,children:o.jsx(E,{component:"span",sx:{display:"inline-block"},children:a})})});be.displayName="ThinSidebar.ItemTooltip";const ze=m.forwardRef((p,t)=>{const{children:e,href:a,anonymous:s=!1,...r}=p,i=ke(),{pathname:n}=In(),{isAuthorized:c}=de(),l=m.useCallback((u,f)=>u.replace(/\/+$/,"")===f.replace(/\/+$/,""),[]);return o.jsx(Te,{ref:t,disabled:!s&&!c(),selected:l(a,n),onClick:u=>{u.preventDefault(),i(a)},sx:{borderRadius:"4px",px:1},...r,children:e})});ze.displayName="ThinSidebar.ItemButton";function bd(){const{t:p}=bt("sidebar"),{csrfToken:t,isAuthorized:e}=de(),a="4px";return o.jsx(E,{className:"Sidebar",sx:{position:"fixed",zIndex:9999,height:"100dvh",width:"80px",bgcolor:"transparent",boxShadow:"none",flexShrink:0,display:{xs:"none",sm:"flex"},flexDirection:"column",justifyContent:"center",alignItems:"center"},children:o.jsx("div",{children:o.jsxs(rr,{dense:!0,sx:[()=>({bgcolor:"transparent",borderRadius:a,boxShadow:3,borderLeft:0,borderTop:1,borderRight:1,borderBottom:0,borderColor:"divider",px:.5,py:2,m:0,gap:1,display:"flex",flexDirection:"column"}),s=>s.applyStyles("dark",{bgcolor:"background.paper"})],children:[o.jsx(Et,{disablePadding:!0,children:o.jsx(be,{title:p("Home"),children:o.jsx(ze,{href:"/",anonymous:!0,children:o.jsx(Tn,{})})})}),o.jsx(Et,{disablePadding:!0,children:o.jsx(be,{title:p("Chat"),children:o.jsx(ze,{href:"/w/chat",children:o.jsx(Lr,{})})})}),o.jsx(Pa,{}),o.jsx(Et,{disablePadding:!0,children:o.jsx(be,{title:p("Characters"),children:o.jsx(ze,{href:"/w/characters",children:o.jsx(Nn,{})})})}),o.jsx(Et,{disablePadding:!0,children:o.jsx(be,{title:p("Prompts"),children:o.jsx(ze,{href:"/w/prompts",children:o.jsx(sr,{})})})}),o.jsx(Et,{disablePadding:!0,children:o.jsx(be,{title:p("Agents"),children:o.jsx(ze,{disabled:!0,href:"/w/agents",children:o.jsx(cs,{})})})}),o.jsx(Et,{disablePadding:!0,children:o.jsx(be,{title:p("API Reference"),children:o.jsx(ze,{href:"/w/docs",anonymous:!0,children:o.jsx(ls,{})})})}),o.jsx(Pa,{}),o.jsx(Et,{disablePadding:!0,children:o.jsx(be,{title:p("Profile"),children:o.jsx(ze,{href:"/w/profile",children:o.jsx(ds,{})})})}),o.jsx(Et,{disablePadding:!0,children:o.jsx(be,{title:p("Secrets & API keys"),children:o.jsx(ze,{href:"/w/credentials",children:o.jsx(Fi,{})})})}),o.jsx(Pa,{}),o.jsx(Et,{disablePadding:!0,children:o.jsx(be,{title:p("Switch Theme"),children:o.jsx(co,{sx:{borderRadius:a,px:1}})})}),o.jsx(Et,{disablePadding:!0,children:o.jsx(be,{title:p("Switch Language"),children:o.jsx(ho,{sx:{borderRadius:a,px:1}})})}),o.jsx(Et,{disablePadding:!0,children:o.jsx(be,{title:p("Code Repository"),children:o.jsx(Te,{dense:!0,component:"a",href:"https://github.com/freechat-fun/freechat",target:"_blank",sx:{borderRadius:a,px:1},children:o.jsx($r,{})})})}),o.jsx(Pa,{}),e()?o.jsx(Et,{disablePadding:!0,children:o.jsxs("form",{method:"post",action:"/logout",children:[o.jsx("input",{type:"hidden",name:"_csrf",value:t??""}),o.jsx(be,{title:p("Sign Out",{ns:"account"}),children:o.jsx(Te,{component:"button",dense:!0,type:"submit",sx:{borderRadius:a,px:1},children:o.jsx(vn,{})})})]})}):o.jsx(Et,{disablePadding:!0,children:o.jsx(be,{title:p("Sign In",{ns:"account"}),children:o.jsx(ze,{href:"/w/login",anonymous:!0,children:o.jsx(jn,{})})})})]})})})}const ft=m.forwardRef((p,t)=>{const{sx:e,slotProps:a,...s}=p,r=Ia();return o.jsx(ve,{inputRef:t,size:"small",slotProps:{input:{size:"small",sx:{fontSize:"small"}},...a},sx:{minWidth:r.spacing(10),maxWidth:r.spacing(15),m:r.spacing(0),p:r.spacing(0),alignSelf:"start",borderRadius:"6px",...e},...s})});ft.displayName="TinyInput";const wd=Lt(ot)(()=>({backgroundColor:"transparent","&:hover":{backgroundColor:"transparent"},"&:active":{backgroundColor:"transparent"},"&:focus":{backgroundColor:"transparent"},"&.Mui-focusVisible":{backgroundColor:"transparent",outline:"none"}})),yo=er.forwardRef((p,t)=>{const e=p.disableRipple!==void 0?p.disableRipple:!0;return o.jsx(wd,{...p,ref:t,disableRipple:e,children:p.children})});yo.displayName="TransparentIconButton";function xd(){const{t:p}=bt("account"),{isAuthorized:t}=de(),{pathname:e}=window.location,a=e.replace(/\/+$/,""),s=[null,"","/w","/w/login","/w/docs"];return o.jsx(Ga,{open:!t()&&!s.includes(a),maxWidth:"sm",children:o.jsx(De,{children:o.jsxs(E,{sx:{display:"flex",justifyContent:"center",whiteSpace:"pre-wrap",gap:1},children:[o.jsxs(j,{children:[p("You are not signed in yet.")," ",p("Please")]}),o.jsx(Ge,{href:"/w/login",color:"primary",children:p("sign in")})]})})})}function Sd(p){var a;const{record:t}=p,e={whiteSpace:"pre-wrap",overflowWrap:"break-word"};if((t==null?void 0:t.type)==="chat"&&(t!=null&&t.chatTemplate)){const s=(t==null?void 0:t.format)==="f_string"?"{input}":"{{{input}}}",r=t==null?void 0:t.chatTemplate,i=r==null?void 0:r.system,n=((a=r==null?void 0:r.messageToSend)==null?void 0:a.name)||"user",c=oe(r==null?void 0:r.messageToSend)||s,l=(r==null?void 0:r.messages)??[];return o.jsxs(m.Fragment,{children:[o.jsxs(dt,{sx:{p:2,border:"none",boxShadow:"none"},children:[o.jsx(vt,{label:"SYSTEM",color:"info",variant:"filled",size:"small",sx:{mt:1,mb:2}}),o.jsx(j,{variant:"body1",sx:e,children:i})]}),l.length>0&&o.jsxs(m.Fragment,{children:[o.jsx(ut,{sx:{mx:2}}),o.jsx(E,{sx:{display:"grid",gridTemplateColumns:"auto 1fr",p:2},children:l==null?void 0:l.map((u,f)=>{const y=u.role==="assistant",b=(u.name||u.role||"user").toUpperCase(),k=oe(u)||"";return o.jsxs(m.Fragment,{children:[o.jsx(E,{sx:{px:2,pb:2},children:o.jsx(vt,{label:b,color:y?"warning":"success",variant:"outlined",size:"small"})}),o.jsx(E,{sx:{pb:1},children:o.jsx(j,{variant:"body1",sx:e,children:k})})]},`message-${f}`)})})]}),o.jsx(ut,{sx:{mx:2}}),o.jsxs(dt,{sx:{p:2,border:"none",boxShadow:"none"},children:[o.jsx(vt,{label:(n==null?void 0:n.toUpperCase())??"USER",color:"success",variant:"filled",size:"small",sx:{mt:1,mb:2}}),o.jsx(j,{variant:"body1",sx:e,children:c})]})]})}else return o.jsx(j,{variant:"body1",sx:e,children:(t==null?void 0:t.template)||" "})}function Cd(p){const{record:t}=p,{t:e}=bt("prompt"),a=io(t==null?void 0:t.inputs);return o.jsxs(dt,{spacing:3,sx:{minWidth:{sm:"16rem"},mt:2,flex:1},children:[o.jsxs(ee,{sx:{minWidth:{sm:"12rem"}},children:[o.jsx(j,{variant:"h6",color:"primary",children:e("Description")}),o.jsx(ut,{sx:{my:1}}),o.jsx(j,{component:"span",variant:"body1",children:o.jsx(tr,{children:t==null?void 0:t.description})})]}),o.jsxs(ee,{sx:{minWidth:{sm:"12rem"}},children:[o.jsx(j,{variant:"h6",color:"primary",children:e("Template")}),o.jsx(ut,{sx:{my:1}}),o.jsx(Sd,{record:t})]}),a&&Object.keys(a).length>0&&o.jsx(Ya,{children:o.jsxs(Ta,{size:"small",children:[o.jsx(Ja,{children:o.jsxs(je,{children:[o.jsx(xt,{sx:{width:"30%",maxWidth:"50%",wordWrap:"break-word",backgroundColor:"action.hover"},children:e("Placeholder")}),o.jsx(xt,{sx:{backgroundColor:"action.hover"},children:e("Default value")})]})}),o.jsx(Xa,{children:Object.entries(a).map(([s,r])=>o.jsxs(je,{children:[o.jsx(xt,{children:s}),o.jsx(xt,{children:r})]},`input-${s}`))})]})}),(t==null?void 0:t.example)&&o.jsxs(ee,{sx:{minWidth:{sm:"12rem"}},children:[o.jsx(j,{variant:"h6",color:"primary",children:e("Example")}),o.jsx(ut,{sx:{my:1}}),o.jsx(j,{component:"span",variant:"body1",children:o.jsx(tr,{children:t==null?void 0:t.example})})]}),o.jsx(gt,{spacing:2})]})}function Pd(p){const{record:t,history:e}=p,{t:a}=bt(["prompt"]),s=t==null?void 0:t.format,r=t==null?void 0:t.lang,i=(t==null?void 0:t.tags)??[],n=(t==null?void 0:t.aiModels)??[];return o.jsxs(ee,{sx:{width:{xs:"100%",sm:"16rem"},my:2,mx:{xs:0,sm:2},gap:0},children:[s&&o.jsxs(m.Fragment,{children:[o.jsx(j,{variant:"subtitle2",color:"text.secondary",children:a("Format")}),o.jsx(gt,{spacing:.5}),o.jsxs(j,{variant:"body2",children:[s==="f_string"?"F-String: ":"Mustache: ","",o.jsx("b",{children:s==="f_string"?"{placeholder}":"{{placeholder}}"})]}),o.jsx(gt,{})]}),r&&o.jsxs(m.Fragment,{children:[o.jsx(j,{variant:"subtitle2",color:"text.secondary",children:a("Language")}),o.jsx(gt,{spacing:.5}),o.jsx(j,{variant:"body2",children:ao(r.split("_")[0])||r}),o.jsx(gt,{})]}),i.length>0&&o.jsxs(m.Fragment,{children:[o.jsx(j,{variant:"subtitle2",color:"text.secondary",children:a("Tags")}),o.jsx(gt,{spacing:.5}),o.jsx(Ht,{children:i.map((c,l)=>o.jsx(vt,{label:c,variant:"outlined",color:"success",size:"small"},`tag-${c}-${l}`))}),o.jsx(gt,{})]}),n.length>0&&o.jsxs(m.Fragment,{children:[o.jsx(j,{variant:"subtitle2",color:"text.secondary",children:a("Models")}),o.jsx(gt,{spacing:.5}),o.jsx(Ht,{children:n.map((c,l)=>o.jsx(vt,{label:c.name,variant:"outlined",color:"warning",size:"small"},`model-${c.modelId}-${l}`))}),o.jsx(gt,{})]}),e.length>0&&o.jsxs(m.Fragment,{children:[o.jsx(j,{variant:"subtitle2",color:"text.secondary",children:a("History")}),o.jsx(gt,{spacing:.5}),e.map(c=>{const l=c[0],u=c[1];return u===(t==null?void 0:t.promptId)?o.jsx(pn,{color:"text.secondary",fontSize:"small",children:l},`history-${u}`):o.jsx(on,{href:`/w/prompt/${u}`,children:o.jsx(pn,{fontSize:"small",children:l})},`history-${u}`)})]})]})}function go(p){const{apiPath:t,record:e,defaultVariables:a,defaultParameters:s,defaultOutputText:r,minWidth:i,maxWidth:n,onPlayFailure:c,onPlaySuccess:l,onExampleSave:u}=p,{t:f}=bt(),{aiServiceApi:y,serverUrl:b}=Dt(),{handleError:k}=zt(),[z,R]=m.useState(Vt(s==null?void 0:s.modelId)??"open_ai"),[N,M]=m.useState(a??Di(e)),[O,q]=m.useState(),[C,K]=m.useState(!1),[W,Q]=m.useState(s==null?void 0:s.apiKeyName),[U,J]=m.useState(s==null?void 0:s.apiKey),[L,v]=m.useState([]),[F,B]=m.useState(!1),[Y,D]=m.useState(),[X,lt]=m.useState(!1),[et,nt]=m.useState(s),$=m.useRef(void 0),[at,Z]=m.useState(i||"30%"),ct=m.useCallback((ht,Ct)=>{if(Vt(ht==null?void 0:ht.modelId)===Ct)return{...ht};{const Ft={};return Ft.modelId=(Kt==null?void 0:Kt[Ct??"open_ai"])??Kt.open_ai,Ft.baseUrl=(Gt==null?void 0:Gt[Ct??"open_ai"])??Gt.open_ai,Ft}},[]);m.useEffect(()=>{y==null||y.listAiApiKeys(z).then(ht=>v(ht.filter(Ct=>!!Ct.name&&Ct.enabled).map(Ct=>Ct.name))).catch(k)},[y,k,z]),m.useEffect(()=>{R(Vt(s==null?void 0:s.modelId)??"open_ai"),Q(s==null?void 0:s.apiKeyName),J(s==null?void 0:s.apiKey);const ht=Vt(s==null?void 0:s.modelId)??"open_ai",Ct=ct(s,ht);Ct&&nt(Ct)},[s,ct]),m.useEffect(()=>{M({...a})},[a]),m.useEffect(()=>{Z(n||"50%")},[n]);function wt(ht,Ct){if(N&&Ct!==N[ht]){const Ft={};Object.entries(N).filter(([ue])=>ue!==ht).forEach(([ue,ae])=>Ft[ue]=ae),Ft[ht]=Ct,M(Ft)}}function Pt(ht,Ct){Ct&&Ct!==z&&R(Ct)}function tt(ht){nt(ht),B(!1)}function H(ht,Ct){fr(ht).then(Ft=>{wt("attachment",Ft.dataUrl),q(Ct)}).catch(k)}function _(){wt("attachment",void 0),q(void 0)}function It(){if(!e)return;const ht=new Wa,Ct=new wa;Ct.format=e.format,Ct.template=e.template,Ct.chatTemplate=e.chatTemplate,Ct.variables=N,ht.promptTemplate=Ct,ht.params=et,Rr(z)&&(U?ht.params.apiKey=U:W&&(ht.params.apiKeyName=W)),lt(!0),D(ht)}function st(){return!!et&&(!N||!Object.keys(N).includes("input")||!!N.input)}function Wt(){return b+t}return o.jsxs(m.Fragment,{children:[o.jsxs(ee,{sx:{width:{xs:"100%",sm:at},display:"flex",flexDirection:"column",justifyContent:"flex-start",transition:"width 0.3s"},children:[o.jsx(j,{variant:"subtitle1",color:"text.secondary",children:f("Inputs")}),N&&Object.keys(N).length>0&&o.jsxs(E,{sx:{display:"grid",gridTemplateColumns:"auto 1fr",rowGap:1,columnGap:2,alignItems:"center"},children:[Object.entries(N).filter(([ht])=>ht!=="attachment").sort(([ht],[Ct])=>ht.localeCompare(Ct)).map(([ht,Ct])=>o.jsxs(m.Fragment,{children:[o.jsx(we,{children:ht}),o.jsx(ft,{name:`input-${ht}`,value:Ct,required:ht==="input",error:ht==="input"&&!Ct,multiline:!0,fullWidth:!0,onChange:Ft=>wt(ht,Ft.target.value),slotProps:{input:{size:"small"}},sx:{maxWidth:void 0}})]},`input-${ht}`)),o.jsx(we,{children:o.jsxs(E,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(j,{variant:"body1",children:f("attachment")}),o.jsx(yt,{title:f("Only image attachment is supported for now."),children:o.jsx(At,{})})]})}),o.jsxs(Ht,{children:[o.jsx(gr,{onImageSelect:H,"aria-label":"upload attachment",size:"small",color:"primary",Icon:us}),O&&o.jsx(vt,{variant:"outlined",color:"success",onDelete:_,label:O})]})]}),o.jsx(gt,{}),o.jsxs(E,{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:{xs:"flex-start",sm:"center"},gap:2},children:[o.jsxs(Zt,{sx:{flex:1},size:"small",children:[o.jsx(zn,{id:"model-providers-label",children:f("Select model providers")}),o.jsx(Ba,{label:f("Select model providers"),value:z,onChange:ht=>Pt(null,ht.target.value),displayEmpty:!0,children:La.map(ht=>o.jsx(Me,{value:ht.provider,children:ht.label},`options-${ht.provider}`))})]}),o.jsx(Rt,{variant:"outlined",color:W||U?"inherit":"error",disabled:!Rr(z),startIcon:o.jsx(Fi,{}),onClick:()=>K(!0),children:f("API Key")}),o.jsx(Rt,{variant:"outlined",color:et!=null&&et.modelId?"primary":"error",disabled:!z,startIcon:o.jsx(Zi,{}),onClick:()=>B(!0),children:f("button:Tune")})]}),o.jsx(gt,{}),o.jsxs(E,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:-1.5},children:[o.jsx(j,{variant:"subtitle1",color:"textSecondary",children:f("Output")}),o.jsx(ot,{disabled:!st(),loading:X,color:"primary",onClick:It,children:$.current||r?o.jsx(ps,{fontSize:"large"}):o.jsx(kr,{fontSize:"large"})})]}),o.jsx(fo,{component:"span",children:o.jsx(so,{disabled:!X,url:Wt(),body:JSON.stringify(Y),initialData:r,onFinish:ht=>{$.current=ht,l==null||l(Y,ht),lt(!1)},onError:ht=>{c==null||c(Y,ht),lt(!1),D(void 0)}})}),o.jsx(it,{sx:{justifyContent:"flex-end"},children:u&&$.current&&Y&&o.jsx(Rt,{size:"small",variant:"outlined",color:"success",startIcon:o.jsx(Qr,{}),onClick:()=>u(Y,$.current),children:f("Save as Example",{ns:"button"})})})]}),o.jsx(Co,{defaultKeyName:W,defaultKeyValue:U,keyNames:L,open:C,onClose:()=>K(!1),onConfirm:(ht,Ct)=>{Q(ht),J(Ct),K(!1)}}),o.jsx(Ao,{open:F&&z==="open_ai",onClose:tt,defaultParameters:et}),o.jsx(Io,{open:F&&z==="azure_open_ai",onClose:tt,defaultParameters:et}),o.jsx(Po,{open:F&&z==="dash_scope",onClose:tt,defaultParameters:et}),o.jsx(To,{open:F&&z==="ollama",onClose:tt,defaultParameters:et})]})}function la(p){if(!p)return"";const t=c=>c<10?"0"+c:c,e=(p==null?void 0:p.getFullYear())||9999,a=t(((p==null?void 0:p.getMonth())||11)+1),s=t((p==null?void 0:p.getDate())||31),r=t((p==null?void 0:p.getHours())||23),i=t((p==null?void 0:p.getMinutes())||59),n=t((p==null?void 0:p.getSeconds())||59);return`${e}-${a}-${s} ${r}:${i}:${n}`}function bo(p){if(!p)return"";const t=r=>r<10?"0"+r:r,e=(p==null?void 0:p.getFullYear())||9999,a=t(((p==null?void 0:p.getMonth())||11)+1),s=t((p==null?void 0:p.getDate())||31);return`${e}${a}${s}`}function ea(p,t,e=!1){const a={year:"numeric",month:"short",day:"2-digit",...e&&{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}};return new Intl.DateTimeFormat(t,a).format(p)}function Ad(p,t){const e=(p==null?void 0:p.getTime())||0,s=((t==null?void 0:t.getTime())||0)-e;return Math.floor(s/1e3)}const wo=m.forwardRef((p,t)=>{const{record:e,keyWord:a,sx:s,onClick:r}=p,{i18n:i}=bt(),{accountApi:n}=Dt(),[c,l]=m.useState(),[u,f]=m.useState((e==null?void 0:e.username)??""),[y,b]=m.useState((e==null?void 0:e.tags)??[]);return m.useEffect(()=>{e.username&&(n==null||n.getUserBasic(e.username).then(k=>{l(k),f((k==null?void 0:k.nickname)??(k==null?void 0:k.username)??"")}))},[n,e]),m.useEffect(()=>{b((e==null?void 0:e.tags)??[])},[e]),o.jsx(Ge,{onClick:k=>{k.preventDefault(),r==null||r()},sx:{m:2,p:0,textDecoration:"none","&:hover, &:focus-within":{cursor:"pointer"}},children:o.jsxs(ee,{ref:t,sx:{backgroundColor:"background.paper",m:0,gap:0,...s},children:[o.jsxs(E,{sx:{...s,display:"flex",justifyContent:"flex-start",alignItems:"center",gap:2,mb:2},children:[o.jsx($a,{highlight:a,variant:"h6",sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"20rem"},children:e.name}),o.jsx(vt,{color:"success",variant:"outlined",size:"small",label:`v${e.version}`}),o.jsx(vt,{color:e.type==="string"?"warning":"info",variant:"filled",size:"small",label:e.type}),o.jsx(Ht,{sx:{ml:"auto"},children:o.jsx(yt,{title:u,children:o.jsx(fa,{alt:u,src:c==null?void 0:c.picture,sx:{width:32,height:32}})})})]}),o.jsx(ut,{sx:{mx:-2}}),o.jsx(Li,{highlight:a,sx:{color:"text.primary",my:2,...s},children:e.description}),o.jsx(ut,{sx:{mx:-2}}),y.length>0&&o.jsx(Ht,{sx:{gap:2,my:2},children:y.map((k,z)=>o.jsx(vt,{variant:"filled",color:"success",size:"small",label:k},`tag-${e.promptId}-${k}-${z}`))}),y.length>0&&o.jsx(ut,{sx:{mx:-2}}),o.jsxs(E,{sx:{...s,display:"flex",justifyContent:"space-between",alignItems:"center",mt:2},children:[o.jsx(j,{variant:"body2",color:"text.secondary",children:ea(e.gmtModified||new Date(0),i.language)}),o.jsxs(Ht,{children:[o.jsx(vt,{size:"small",variant:"outlined",icon:o.jsx(nr,{}),label:e.viewCount}),o.jsx(vt,{size:"small",variant:"outlined",icon:o.jsx(Mn,{}),label:e.referCount})]})]})]})})});wo.displayName="PromptGallery.RecordCard";function Id(){const p=ke(),{setFrameScrollHandler:t}=Jr(),{isAuthorized:e}=de(),{promptApi:a,interactiveStatisticsApi:s}=Dt(),{handleError:r}=zt(),i=6,[n,c]=m.useState([]),[l,u]=m.useState(),[,f]=m.useState(0),[y,b]=m.useState(!1),[k,z]=m.useState(!1),[R,N]=m.useState(200),M=m.useRef(void 0),O=m.useCallback(()=>{const U=new Se;return U.where=new Ie,U.where.visibility="public",U.pageSize=i,U.pageNum=0,U.orderBy=["viewCount","referCount","modifyTime"],U},[]);m.useEffect(()=>{const U=J=>{const{scrollTop:L,scrollHeight:v,clientHeight:F}=J;N(v-L-F)};return t==null||t(()=>U),()=>{t==null||t(void 0)}},[t]),m.useEffect(()=>{!y&&!k&&R<200&&R>=0&&f(J=>{const L=J+1;return u(v=>{v||(v=O());const F=new Se;return F.where=v.where,F.where||(F.where=new Ie,F.where.visibility="public"),F.pageSize=v.pageSize||i,F.orderBy=v.orderBy,F.pageNum=L,F}),L})},[O,k,y,R]),m.useEffect(()=>{b(!0);const U=l||O();a==null||a.searchPublicPromptSummary(U).then(async J=>{if(J.length==0){z(!0);return}const L=[];await Promise.all(J.map(async v=>{v.promptUid&&await(s==null?void 0:s.getStatistics("prompt",v.promptUid).then(F=>q(v,F)).then(F=>L.push(F)).catch(r))})),c(v=>{const F=L.filter(B=>!v.map(Y=>Y.promptId).includes(B.promptId));return F&&F.length>0?v.concat(F):v})}).catch(r).finally(()=>b(!1))},[O,r,s,a,l]);function q(U,J){return{...{viewCount:0,referCount:0,recommendCount:0,scoreCount:0,score:0,...J},...U}}function C(U,J){c([]),z(!1);const L=new Ie;L.text=U,L.aiModels=J,L.visibility="public";const v=new Se;v.where=L,v.pageSize=i,v.pageNum=0,v.orderBy=["viewCount","referCount","modifyTime"],M.current=U,f(0),u(v)}function K(U){c([]),z(!1);const J=new Ie;J.tags=[U],J.visibility="public";const L=new Se;L.where=J,L.pageSize=i,L.pageNum=0,L.orderBy=["viewCount","referCount","modifyTime"],f(0),u(L)}function W(U){if(e()){if(!U.promptUid)return}else{p("/w/login");return}s==null||s.increaseStatistic("prompt",U.promptUid,"view_count").finally(()=>p(`/w/prompt/${U.promptId}`))}function Q(U,J){if((U.viewCount??0)>(J.viewCount??0))return-1;if((U.viewCount??0)<(J.viewCount??0))return 1;if((U.referCount??0)>(J.referCount??0))return-1;if((U.referCount??0)<(J.referCount??0))return 1;const L=new Date;return(U.gmtModified??L)>(J.gmtModified??L)?-1:(U.gmtModified??L)<(J.gmtModified??L)?1:0}return o.jsxs(o.Fragment,{children:[o.jsx(gt,{}),o.jsxs(E,{sx:{display:"flex",alignItems:"flex-start",gap:3},children:[o.jsxs(dt,{sx:{flex:1},children:[o.jsx(wr,{onSearch:C,sx:{mx:2}}),o.jsx(gt,{}),o.jsxs(E,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fill, 1fr)",gap:3},children:[n.sort(Q).map((U,J)=>o.jsx(wo,{keyWord:M.current,record:U,onClick:()=>W(U)},`record-card-${U.promptId||J}`)),o.jsx(E,{sx:{display:y?"flex":"none",justifyContent:"center",mt:2,mb:{xs:"calc(10px + var(--Footer-height))",sm:2}},children:o.jsx(Ea,{})})]})]}),o.jsx(ut,{orientation:"vertical",flexItem:!0,sx:{display:{xs:"none",sm:"block"}}}),o.jsx(an,{infoType:"prompt",count:30,onTagClick:K,sx:{display:{xs:"none",sm:"flex"},width:"16rem"}})]})]})}const mn=Lt(j)(()=>({whiteSpace:"pre-wrap",overflowWrap:"break-word",flex:1}));function xo({id:p,parameters:t,variables:e}){const a=ke(),{t:s,i18n:r}=bt(["prompt","button"]),{promptApi:i,aiServiceApi:n}=Dt(),{handleError:c}=zt(),{username:l}=de(),[u,f]=m.useState(!1),[y,b]=m.useState(t?{...t}:void 0),[k,z]=m.useState(e?{...e}:void 0),[R,N]=m.useState(),[M,O]=m.useState(new ua),[q,C]=m.useState(null),[K,W]=m.useState(!1),[Q,U]=m.useState(),[J,L]=m.useState(),[v,F]=m.useState(),[B,Y]=m.useState(),[D,X]=m.useState(),[lt,et]=m.useState(),[nt,$]=m.useState(),[at,Z]=m.useState([]),[ct,wt]=m.useState(),[Pt,tt]=m.useState(),[H,_]=m.useState("mustache"),[It,st]=m.useState("en"),[Wt,ht]=m.useState([]),[Ct,Ft]=m.useState(),[ue,ae]=m.useState([]),[ie,Oa]=m.useState([]),[aa,pe]=m.useState(!1),[ia,We]=m.useState("user"),[ra,Da]=m.useState("assistant"),[na,Oi]=m.useState(),[Ua,oa]=m.useState(),Re=m.useRef(void 0),qe=m.useRef(null),Be=m.useRef(null),qa=[{label:"Mustache",value:"mustache"},{label:"F-String",value:"f_string"}],V=T=>({width:"100%",mr:"auto",justifyContent:"flex-end",border:`1px solid ${T.palette.divider}`,backgroundColor:T.palette.background.default,padding:T.spacing(1,2),borderRadius:"12px"}),rt=m.useCallback(T=>{const G=new ua;return G.promptId=p,G.name=Q,G.description=J,G.type=M.type,G.chatTemplate=new ta,G.chatTemplate.system=D,G.chatTemplate.messages=[...at],G.chatTemplate.messageToSend=new Ce,G.chatTemplate.messageToSend.role="user",Ui(G.chatTemplate.messageToSend,nt),G.template=B,G.example=ct,G.inputs=T,G.visibility=Pt,G.format=H,G.lang=It,G.tags=[...Wt],G.aiModels=[...ue],G.promptUid=M.promptUid,G},[J,ct,H,p,It,at,ue,M.promptUid,M.type,Q,B,D,Wt,nt,Pt]);m.useEffect(()=>{p&&(i==null||i.getPromptDetails(p).then(O).catch(c))},[c,p,i,n]),m.useEffect(()=>{const{hash:T}=window.location,G=200;let mt;return T==="#system"&&qe.current?mt=setTimeout(()=>{var Nt;return(Nt=qe.current)==null?void 0:Nt.scrollIntoView({behavior:"smooth"})},G):T==="#messages"&&Be.current&&(mt=setTimeout(()=>{var Nt;return(Nt=Be.current)==null?void 0:Nt.scrollIntoView({behavior:"smooth"})},G)),()=>{mt&&clearTimeout(mt)}},[M]),m.useEffect(()=>{b(t?{...t}:void 0)},[t]),m.useEffect(()=>{z(e?{...e}:void 0)},[e]),m.useEffect(()=>{var T,G,mt,Nt,Mt,Ot,_t,me;if(M){if(M.username!==l)return;let sa={};if(M.draft)try{sa=JSON.parse(M.draft)??{}}catch{console.warn(`[WARNING] Invalid draft content: ${M.draft}`)}const Bt={...M,...sa};if(U(Bt.name),L(Bt.description),Y(Bt.template),X((T=Bt.chatTemplate)==null?void 0:T.system),et(((mt=(G=Bt.chatTemplate)==null?void 0:G.messageToSend)==null?void 0:mt.name)??"user"),$(((_t=(Ot=(Mt=(Nt=Bt.chatTemplate)==null?void 0:Nt.messageToSend)==null?void 0:Mt.contents)==null?void 0:Ot[0])==null?void 0:_t.content)||(Bt.format==="f_string"?"{input}":"{{{input}}}")),Z(((me=Bt.chatTemplate)==null?void 0:me.messages)??[]),wt(Bt.example),tt(Bt.visibility??"private"),_(Bt.format??"mustache"),st(Bt.lang?Bt.lang.split("_")[0]:"en"),ht(Bt.tags??[]),ae(Bt.aiModels??[]),Bt.ext)try{const Eo=JSON.parse(Bt.ext);b(Eo)}catch{}F(Di(Bt)),Re.current=Bt.name}},[M,l]),m.useEffect(()=>{Re.current&&F(T=>Di(rt(JSON.stringify(T))))},[rt,nt,B]),m.useEffect(()=>{Re.current&&(Oa(qo(at)),F(T=>Di(rt(JSON.stringify(T)))))},[rt,at]),m.useEffect(()=>{Re.current&&z(T=>{const G={};return Object.keys(T??{}).forEach(mt=>{mt in(v??{})&&(T!=null&&T.k)&&(G[mt]=T.k)}),{...v,...G}})},[v]),m.useEffect(()=>{Re.current&&$(T=>H==="mustache"&&T==="{input}"?"{{{input}}}":H==="f_string"&&T==="{{{input}}}"?"{input}":T)},[H]);function pt(T,G){var mt,Nt,Mt,Ot,_t,me;T!=null&&T.params&&Object.keys(T==null?void 0:T.params).length>0?b(T==null?void 0:T.params):b(void 0),(mt=T==null?void 0:T.promptRef)!=null&&mt.variables&&Object.keys((Nt=T==null?void 0:T.promptRef)==null?void 0:Nt.variables).length>0?z((Mt=T==null?void 0:T.promptRef)==null?void 0:Mt.variables):(Ot=T==null?void 0:T.promptTemplate)!=null&&Ot.variables&&Object.keys((_t=T==null?void 0:T.promptTemplate)==null?void 0:_t.variables).length>0?z((me=T==null?void 0:T.promptTemplate)==null?void 0:me.variables):z(void 0),N(oe(G==null?void 0:G.message)??(G==null?void 0:G.text))}function jt(T,G){var mt,Nt,Mt,Ot,_t,me;T!=null&&T.params&&Object.keys(T==null?void 0:T.params).length>0?b(T==null?void 0:T.params):b(void 0),(mt=T==null?void 0:T.promptRef)!=null&&mt.variables&&Object.keys((Nt=T==null?void 0:T.promptRef)==null?void 0:Nt.variables).length>0?z((Mt=T==null?void 0:T.promptRef)==null?void 0:Mt.variables):(Ot=T==null?void 0:T.promptTemplate)!=null&&Ot.variables&&Object.keys((_t=T==null?void 0:T.promptTemplate)==null?void 0:_t.variables).length>0?z((me=T==null?void 0:T.promptTemplate)==null?void 0:me.variables):z(void 0),N((G==null?void 0:G.message)??(G==null?void 0:G.code)??"")}function Tt(){K||(q&&q!==Q?q===Re.current?(U(q),C(null)):i==null||i.existsPromptName(q).then(T=>{T?W(!0):(U(q),C(null))}).catch(c):(W(!1),C(null)))}function He(T){const G=at.filter(mt=>mt!==T.assistant&&mt!==T.user);Z(G)}function xe(){if(ie.length>0){const T=ie[ie.length-1];We((T.user.name||T.user.role||"user").toUpperCase()),Da((T.assistant.name||T.assistant.role||"assistant").toUpperCase())}pe(!0)}function qt(){const T=new Ce;T.role="user",T.name=ia,Ui(T,na);const G=new Ce;G.role="assistant",G.name=ra,Ui(G,Ua),Z([...at,T,G]),pe(!1)}function he(T,G){const mt={...v??{}};mt[T]=G,F(mt)}function Ee(T){Wt&&ht(Wt.filter(G=>T!==G))}function xa(T){T&&T.preventDefault(),Wt&&Ct&&!Wt.includes(Ct)&&ht([...Wt,Ct]),Ft(void 0)}function xr(T,G){if(!T||!G)return;const mt={...T},Nt=Mt=>{const Ot=$l(Mt,G);Ot&&wt(Ot)};mt.prompt?Nt(mt):mt.promptTemplate?i==null||i.applyPromptTemplate(mt.promptTemplate).then(Mt=>{var Ot,_t;Mt&&((Ot=mt.promptTemplate)!=null&&Ot.template?mt.promptTemplate.template=Mt:(_t=mt.promptTemplate)!=null&&_t.chatTemplate&&(mt.promptTemplate.chatTemplate=JSON.parse(Mt)),Nt(mt))}).catch(c):mt.promptRef&&(i==null||i.applyPromptRef(mt.promptRef).then(Mt=>{var _t,me,sa;if(!Mt)return;const Ot=new wa;(me=(_t=mt.promptRef)==null?void 0:_t.variables)!=null&&me.containsKey("{input}")?Ot.format="f_string":Ot.format="mustache";try{Ot.chatTemplate=JSON.parse(Mt)}catch{Ot.template=Mt}Ot.variables=(sa=mt.promptRef)==null?void 0:sa.variables,mt.promptTemplate=Ot,mt.promptRef=void 0,Nt(mt)}).catch(c))}function Do(){if(!p)return;const T=rt(JSON.stringify(v));T.promptId=void 0,T.draft=void 0;const G=new pa;G.draft=JSON.stringify(T),i==null||i.updatePrompt(p,G).then(mt=>{mt&&(i==null||i.getPromptDetails(p).then(O).catch(c))}).catch(c)}function Uo(){if(!p)return;const T=(Nt,Mt)=>{i==null||i.publishPrompt(Nt,Mt).then(Ot=>{Ot&&a(`/w/prompt/${Ot}`)}).catch(c)},G=rt(JSON.stringify(v)),mt=Bo(G);i==null||i.updatePrompt(p,mt).then(Nt=>{Nt&&(i==null||i.getPromptDetails(p).then(Mt=>{O(Mt),T(p,G.visibility==="private"?"private":"public")}).catch(c))}).catch(c)}function qo(T){const G=[];if(!T)return G;for(let mt=0;mt<T.length;mt=mt+2)if(mt+1<T.length){let Nt,Mt;T[mt].role==="user"?(Mt=T[mt],Nt=T[mt+1]):(Nt=T[mt],Mt=T[mt+1]);const Ot={assistant:Nt,user:Mt};G.push(Ot)}return G}function Bo(T){var mt;const G=new pa;return G.aiModels=(mt=T.aiModels)==null?void 0:mt.map(Nt=>Nt.modelId),G.chatTemplate={...T.chatTemplate},G.description=T.description,G.example=T.example,G.ext=T.ext,G.format=T.format,G.inputs=T.inputs,G.lang=T.lang,G.name=T.name??`untitiled-${bo(new Date)}`,G.tags=T.tags,G.template=T.template,G.draft="",G.ext=JSON.stringify(y??{}),G.visibility=T.visibility==="private"?"private":"public",G}function Sr(){var mt,Nt,Mt,Ot,_t,me,sa,Bt;if(M.username!==l)return!1;let T={};if(M.draft)try{T=JSON.parse(M.draft)??{}}catch{console.warn(`[WARNING] Invalid draft content: ${M.draft}`)}const G={...M,...T};return Ut(G.name,Q)&&Ut(G.description,J)&&Ut(G.template,B)&&Ut((mt=G.chatTemplate)==null?void 0:mt.system,D)&&Ut(((Mt=(Nt=G.chatTemplate)==null?void 0:Nt.messageToSend)==null?void 0:Mt.name)??"user",lt)&&Ut(((sa=(me=(_t=(Ot=G.chatTemplate)==null?void 0:Ot.messageToSend)==null?void 0:_t.contents)==null?void 0:me[0])==null?void 0:sa.content)||(G.format==="f_string"?"{input}":"{{{input}}}"),nt)&&Ut(((Bt=G.chatTemplate)==null?void 0:Bt.messages)??[],at)&&Ut(G.example,ct)&&Ut(G.visibility??"private",Pt)&&Ut(G.format??"mustache",H)&&Ut(G.lang?G.lang.split("_")[0]:"en",It)&&Ut(G.tags??[],Wt)&&Ut(G.aiModels??[],ue)}return o.jsxs(o.Fragment,{children:[o.jsx(gt,{}),o.jsxs(E,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"flex-end"},gap:{xs:1,sm:2},justifyContent:"flex-end"},children:[o.jsxs(it,{sx:{alignItems:"center",flex:1},children:[o.jsx(j,{variant:"h4",children:Q}),o.jsx(ot,{size:"small",disabled:!!q,onClick:()=>C(Q||"untitled"),children:o.jsx(Ei,{fontSize:"small"})})]}),o.jsxs(j,{variant:"body2",children:[s("Updated on")," ",ea((M==null?void 0:M.gmtModified)||new Date(0),r.language,!0)]}),o.jsxs(Fa,{size:"small",variant:"contained",sx:{borderRadius:"16px",mb:.5,mr:2},children:[o.jsx(Rt,{disabled:Sr()||Pt==="hidden",startIcon:Sr()?o.jsx(Za,{}):o.jsx(Qe,{}),onClick:Do,sx:{borderRadius:"16px"},children:s("button:Save")}),o.jsx(Rt,{startIcon:o.jsx(Qr,{}),onClick:Uo,children:s("button:Publish")}),u?o.jsx(Rt,{startIcon:o.jsx(On,{}),onClick:()=>f(!1),sx:{borderRadius:"16px"},children:s("button:Back")}):o.jsx(Rt,{startIcon:o.jsx(Dn,{}),onClick:()=>f(!0),sx:{borderRadius:"16px"},children:s("Try it",{ns:"button"})})]})]}),o.jsx(ut,{}),o.jsxs(it,{sx:{alignItems:"flex-start"},children:[o.jsxs(it,{sx:{flex:1,alignItems:"flex-start"},children:[o.jsxs(dt,{spacing:3,sx:{minWidth:{sm:"16rem"},mt:2,flex:1},children:[o.jsxs(dt,{spacing:1,sx:{minWidth:{sm:"12rem"}},children:[o.jsxs(Ht,{children:[o.jsx(j,{variant:"h6",color:"primary",children:s("Description")}),o.jsx(yt,{placement:"right",title:s("Supports markdown format"),children:o.jsx(At,{})})]}),o.jsx(te,{name:"info-description",minRows:3,value:J,onChange:T=>L(T.target.value)})]}),o.jsx(gt,{}),(M==null?void 0:M.type)==="chat"&&(M!=null&&M.chatTemplate)?o.jsxs(m.Fragment,{children:[o.jsxs(dt,{spacing:1,sx:{minWidth:{sm:"12rem"}},children:[o.jsx(vt,{label:"SYSTEM",ref:qe,color:"info",variant:"filled",size:"small",sx:{mt:1,mb:2,alignSelf:"flex-start"}}),o.jsx(te,{name:"system",minRows:3,value:D,onChange:T=>X(T.target.value)})]}),o.jsxs(dt,{spacing:1,sx:{minWidth:{sm:"12rem"}},children:[o.jsxs(Ht,{ref:Be,children:[o.jsx(vt,{label:"MESSAGES",variant:"filled",color:"warning"}),o.jsx(yt,{placement:"right",title:s("These messages will always be used as the starting message in the chat history"),children:o.jsx(At,{})}),o.jsx(ot,{disabled:aa,color:"primary",onClick:()=>xe(),children:o.jsx(Ae,{})})]}),ie.length>0&&o.jsxs(m.Fragment,{children:[o.jsx(ut,{sx:{mx:2}}),ie==null?void 0:ie.map((T,G)=>o.jsxs(Ht,{sx:V,children:[o.jsxs(Pe,{sx:{flex:1,gap:1},children:[o.jsx(vt,{size:"small",variant:"outlined",color:"success",label:(T.user.name||T.user.role||"user").toUpperCase()}),o.jsx(mn,{children:oe(T.user)}),o.jsx(vt,{size:"small",variant:"outlined",color:"warning",label:(T.assistant.name||T.assistant.role||"assistant").toUpperCase()}),o.jsx(mn,{children:oe(T.assistant)})]}),o.jsx(ot,{sx:{mr:4},onClick:()=>He(T),children:o.jsx(hs,{})})]},`round-${G}`))]}),aa&&o.jsxs(Ht,{sx:V,children:[o.jsxs(E,{sx:{flex:1,display:"grid",gridTemplateColumns:"auto 1fr",gap:1},children:[ie.length>0?o.jsx(vt,{size:"small",variant:"filled",color:"success",label:ia}):o.jsx(ft,{name:"editUserName",value:ia,onChange:T=>We(T.target.value)}),o.jsx(te,{name:"editUserMessage",value:na,onChange:T=>Oi(T.target.value)}),ie.length>0?o.jsx(vt,{size:"small",variant:"filled",color:"warning",label:ra}):o.jsx(ft,{name:"editAssistantName",value:ra,onChange:T=>Da(T.target.value)}),o.jsx(te,{name:"editAssistantMessage",value:Ua,onChange:T=>oa(T.target.value)})]}),o.jsx(ot,{sx:{mx:1},onClick:()=>qt(),children:o.jsx(ms,{})}),o.jsx(ot,{sx:{mr:4},onClick:()=>pe(!1),children:o.jsx(fs,{})})]})]}),o.jsxs(dt,{spacing:1,sx:{minWidth:{sm:"12rem"}},children:[o.jsx(vt,{label:(lt==null?void 0:lt.toUpperCase())??"USER",color:"success",variant:"filled",size:"small",sx:{mt:1,mb:2,alignSelf:"flex-start"}}),o.jsx(te,{name:"user",value:nt,onChange:T=>$(T.target.value)})]})]}):o.jsxs(dt,{spacing:1,sx:{minWidth:{sm:"12rem"}},children:[o.jsx(j,{variant:"h6",color:"primary",children:s("Template")}),o.jsx(te,{name:"string-template",minRows:3,value:B,onChange:T=>Y(T.target.value)})]}),o.jsx(gt,{}),o.jsxs(Ht,{children:[o.jsx(j,{variant:"h6",color:"primary",children:s("Inputs")}),o.jsx(yt,{placement:"right",title:s("If an input's value is not specified at runtime, the default value set here will be used"),children:o.jsx(At,{})})]}),v&&Object.keys(v).length>0&&o.jsx(Ya,{children:o.jsxs(Ta,{size:"small",sx:{mx:1},children:[o.jsx(Ja,{children:o.jsxs(je,{children:[o.jsx(xt,{sx:{width:"30%",maxWidth:"50%",backgroundColor:"action.hover"},children:s("Placeholder")}),o.jsx(xt,{sx:{backgroundColor:"action.hover"},children:s("Default value")})]})}),o.jsx(Xa,{children:Object.entries(v).map(([T,G])=>o.jsxs(je,{children:[o.jsx(xt,{children:T}),o.jsx(xt,{children:o.jsx(ft,{disabled:T==="input",name:`input-value-${T}`,value:G,multiline:!0,fullWidth:!0,onChange:mt=>he(T,mt.target.value),slotProps:{input:{size:"small"}},sx:{maxWidth:void 0}})})]},`input-${T}`))})]})}),o.jsxs(dt,{spacing:1,sx:{minWidth:{sm:"12rem"}},children:[o.jsxs(Ht,{children:[o.jsx(j,{variant:"h6",color:"primary",children:s("Example")}),o.jsx(yt,{placement:"right",title:s("Supports markdown format"),children:o.jsx(At,{})})]}),o.jsx(te,{name:"example",minRows:3,value:ct,onChange:T=>wt(T.target.value)})]}),o.jsx(gt,{spacing:2})]}),!u&&o.jsxs(ee,{sx:{width:{xs:"100%",sm:"20rem"},"&:hover, &:focus-within":{}},children:[o.jsxs(Pe,{children:[o.jsx(j,{variant:"subtitle1",color:"text.secondary",children:s("Public")}),o.jsx(kt,{color:"success",checked:Pt==="public"||Pt==="hidden",disableRipple:!0,onChange:T=>T.target.checked?tt("public"):tt("private")}),o.jsx(j,{variant:"subtitle1",color:"text.secondary",children:s("Format")}),o.jsx(Fa,{size:"small",variant:"contained",sx:{border:0,boxShadow:0,borderRadius:2},children:qa.map(T=>o.jsx(Rt,{value:T.value,color:"info",onClick:()=>_(T.value),size:"small",sx:{fontSize:"0.7rem",borderRadius:2,color:H===T.value?"text.default":"GrayText",backgroundColor:H===T.value?"primary":"transparent"},children:T.label},`format-${T.value}`))}),o.jsx(j,{variant:"subtitle1",color:"text.secondary",children:s("Language")}),o.jsx(Zt,{sx:{flex:1},size:"small",children:o.jsx(Ba,{variant:"outlined",value:It,onChange:T=>T.target.value&&st(T.target.value),children:Object.keys(Je).map(T=>o.jsx(Me,{value:T,children:Je[T]},`locale-${T}`))})})]}),o.jsxs(Ht,{sx:{mt:4,mb:2},children:[o.jsx(j,{variant:"subtitle1",color:"text.secondary",children:s("Tags")}),(!Wt||Wt.length<5)&&Ct===void 0&&o.jsx(ot,{size:"small",color:"primary",onClick:()=>Ft(""),children:o.jsx(Ae,{})}),Ct!==void 0&&o.jsx("form",{onSubmit:xa,children:o.jsx(ft,{type:"text",value:Ct,onChange:T=>Ft(T.target.value),onBlur:()=>xa(void 0),slotProps:{input:{size:"small",sx:{fontSize:"small"},endAdornment:o.jsx(Ze,{position:"end",children:o.jsx(_a,{fontSize:"small"})})}}})})]}),o.jsx(Ht,{children:Wt.length>0&&Wt.map((T,G)=>o.jsx(vt,{label:T,variant:"outlined",color:"success",onDelete:()=>Ee(T)},`tag-${T}-${G}`))}),o.jsx(gt,{spacing:2})]})]}),u&&o.jsx(go,{minWidth:"16rem",maxWidth:"50%",apiPath:"/api/v2/prompt/send/stream",record:rt(JSON.stringify(v)),defaultVariables:k,defaultParameters:y,defaultOutputText:R,onPlaySuccess:pt,onPlayFailure:jt,onExampleSave:xr})]}),o.jsx(Qt,{open:q!==null,onClose:()=>C(null),dialog:{title:s("Please enter a new name")},button:{text:s("button:Save"),startIcon:o.jsx(Qe,{})},onConfirm:Tt,children:o.jsxs(Zt,{error:K,children:[o.jsx(ft,{name:"RecordName",value:q??"",onChange:T=>{C(T.target.value),W(!1)}}),K&&o.jsxs(Aa,{children:[o.jsx(cr,{}),s("Name already exists!")]})]})}),o.jsx(nn,{when:!Sr(),message:s("You may have unsaved changes. Are you sure you want to leave?")})]})}function So({id:p,parameters:t,variables:e}){const a=ke(),{t:s,i18n:r}=bt(["prompt","button"]),{promptApi:i}=Dt(),{handleError:n}=zt(),{username:c}=de(),[l,u]=m.useState(),[f,y]=m.useState([]),[b,k]=m.useState(!1),[z,R]=m.useState(t?{...t}:void 0),[N,M]=m.useState(e?{...e}:void 0),[O,q]=m.useState();m.useEffect(()=>{p&&(i==null||i.getPromptDetails(p).then(W=>{u(W),W!=null&&W.name&&(i==null||i.listPromptVersionsByName(W==null?void 0:W.name).then(Q=>Q.map(U=>[`v${U.version}`,U.promptId])).then(Q=>y(Q)).catch(n))}).catch(n))},[n,p,i]),m.useEffect(()=>{if(l&&(M(Di(l)),l.ext))try{const W=JSON.parse(l.ext);R(W)}catch{}},[l]),m.useEffect(()=>{R(t?{...t}:void 0)},[t]),m.useEffect(()=>{M(e?{...e}:void 0)},[e]);function C(){p&&a(`/w/prompt/edit/${p}`)}function K(){p&&(i==null||i.clonePrompt(p).then(W=>{W&&a(`/w/prompt/edit/${W}`)}).catch(n))}return o.jsxs(o.Fragment,{children:[o.jsx(gt,{}),o.jsxs(it,{sx:{alignItems:{xs:"flex-start",sm:"flex-end"},justifyContent:"flex-end"},children:[o.jsxs(E,{sx:{justifySelf:"flex-start",display:"flex",alignItems:"center",flex:1,gap:2},children:[o.jsx(j,{variant:"h4",children:l==null?void 0:l.name}),o.jsx(vt,{label:`v${l==null?void 0:l.version}`,color:"success",variant:"filled",size:"small"}),o.jsx(yt,{title:(l==null?void 0:l.type)==="chat"?"chat template":"string template",sx:{mt:1},children:o.jsx(E,{component:"span",children:(l==null?void 0:l.type)==="chat"?o.jsx(ys,{color:"info",fontSize:"small"}):o.jsx(gs,{color:"info",fontSize:"small"})})}),o.jsx(yt,{title:l==null?void 0:l.visibility,sx:{mt:1},children:o.jsx(E,{component:"span",children:(l==null?void 0:l.visibility)==="public"?o.jsx(bs,{color:"info",fontSize:"small"}):o.jsx(ws,{color:"info",fontSize:"small"})})})]}),o.jsxs(j,{variant:"body2",children:[s("Updated on")," ",ea((l==null?void 0:l.gmtModified)||new Date(0),r.language,!0)]}),o.jsxs(Fa,{size:"small",variant:"contained",sx:{borderRadius:"16px",mb:.5,mr:2},children:[o.jsx(Rt,{startIcon:o.jsx(ar,{fontSize:"small"}),onClick:K,sx:{borderRadius:"16px"},children:s("button:Copy")}),(l==null?void 0:l.username)===c&&o.jsx(Rt,{startIcon:o.jsx(Ei,{}),onClick:C,children:s("button:Edit")}),b?o.jsx(Rt,{startIcon:o.jsx(On,{}),onClick:()=>k(!1),sx:{borderRadius:"16px"},children:s("button:Back")}):o.jsx(Rt,{startIcon:o.jsx(Dn,{}),onClick:()=>k(!0),sx:{borderRadius:"16px"},children:s("Try it",{ns:"button"})})]})]}),o.jsx(ut,{}),o.jsxs(it,{sx:{flex:1,alignItems:"flex-start"},children:[o.jsx(Cd,{record:l}),b?o.jsx(go,{minWidth:"16rem",maxWidth:"50%",apiPath:"/api/v2/prompt/send/stream",record:l,defaultVariables:N,defaultParameters:z,defaultOutputText:O,onPlaySuccess:(W,Q)=>{var U,J,L,v,F,B;W!=null&&W.params&&Object.keys(W==null?void 0:W.params).length>0?R(W==null?void 0:W.params):R(void 0),(U=W==null?void 0:W.promptRef)!=null&&U.variables&&Object.keys((J=W==null?void 0:W.promptRef)==null?void 0:J.variables).length>0?M((L=W==null?void 0:W.promptRef)==null?void 0:L.variables):(v=W==null?void 0:W.promptTemplate)!=null&&v.variables&&Object.keys((F=W==null?void 0:W.promptTemplate)==null?void 0:F.variables).length>0?M((B=W==null?void 0:W.promptTemplate)==null?void 0:B.variables):M(void 0),q(oe(Q==null?void 0:Q.message)??(Q==null?void 0:Q.text))},onPlayFailure:(W,Q)=>{var U,J,L,v,F,B;W!=null&&W.params&&Object.keys(W==null?void 0:W.params).length>0?R(W==null?void 0:W.params):R(void 0),(U=W==null?void 0:W.promptRef)!=null&&U.variables&&Object.keys((J=W==null?void 0:W.promptRef)==null?void 0:J.variables).length>0?M((L=W==null?void 0:W.promptRef)==null?void 0:L.variables):(v=W==null?void 0:W.promptTemplate)!=null&&v.variables&&Object.keys((F=W==null?void 0:W.promptTemplate)==null?void 0:F.variables).length>0?M((B=W==null?void 0:W.promptTemplate)==null?void 0:B.variables):M(void 0),q((Q==null?void 0:Q.message)??(Q==null?void 0:Q.code)??"")}}):o.jsx(Pd,{record:l,history:f})]})]})}function Co(p){const{defaultKeyName:t,defaultKeyValue:e,keyNames:a,open:s,onClose:r,onConfirm:i}=p,{t:n}=bt("prompt"),[c,l]=m.useState(t??""),[u,f]=m.useState(e??""),y=m.useRef(null);m.useEffect(()=>{l(t??"")},[t]),m.useEffect(()=>{f(e??"")},[e]);function b(N,M){M!=="backdropClick"&&r()}function k(){i(c,u)}function z(N){const M=N.target.value;M!==c&&M!=="No API Key"&&l(M)}function R(N){N.target.value!==u&&f(N.target.value)}return o.jsx(Qt,{open:s,onClose:b,dialog:{title:n("Set API Key")},button:{text:n("button:Confirm"),startIcon:o.jsx(Za,{})},onConfirm:k,children:o.jsxs(dt,{spacing:2,children:[o.jsxs(Zt,{fullWidth:!0,size:"small",sx:{gap:1},children:[o.jsx(we,{children:n("Select a key")}),o.jsx(Ba,{displayEmpty:!0,ref:y,value:c||"No API Key",onChange:z,renderValue:N=>o.jsx(j,{color:"text.secondary",children:N==="No API Key"?"--No API Key--":N}),slotProps:{input:{sx:{fontSize:"small"}}},endAdornment:c&&o.jsx(ot,{size:"small",onClick:N=>{var M;N.stopPropagation(),l(""),(M=y.current)==null||M.focus()},sx:{mr:1},children:o.jsx(Qa,{fontSize:"small"})}),children:a&&a.length>0?a==null?void 0:a.map(N=>N&&o.jsx(Me,{value:N,children:N},`option-${N}`)):o.jsx(Me,{value:"No API Key",children:"--No API Key--"},"option-unknown")})]}),o.jsxs(Zt,{fullWidth:!0,size:"small",sx:{gap:1},children:[o.jsx(we,{children:n("or you can use a temporary key")}),o.jsx(ft,{type:"password",placeholder:"Paste a key here...",value:u,onChange:R,slotProps:{input:{startAdornment:o.jsx(Fi,{sx:{mr:1,color:"action.active"}})}},sx:{minWidth:"20rem"}})]})]})})}function fe(p,t){return!!p&&Object.keys(p).includes(t)}function Po(p){const{open:t,onClose:e,defaultParameters:a}=p,{t:s}=bt(["prompt"]),[r,i]=m.useState(Vt(a==null?void 0:a.modelId)==="dash_scope"?(a==null?void 0:a.baseUrl)??Gt.dash_scope:Gt.dash_scope),[n,c]=m.useState(Vt(a==null?void 0:a.modelId)==="dash_scope"?(a==null?void 0:a.modelId)??Kt.dash_scope:Kt.dash_scope),[l,u]=m.useState((a==null?void 0:a.topP)??.8),[f,y]=m.useState(fe(a,"topP")),[b,k]=m.useState((a==null?void 0:a.topK)??0),[z,R]=m.useState(fe(a,"topK")),[N,M]=m.useState((a==null?void 0:a.maxTokens)??2e3),[O,q]=m.useState(fe(a,"maxTokens")),[C,K]=m.useState((a==null?void 0:a.enableSearch)??!1),[W,Q]=m.useState((a==null?void 0:a.seed)??1234),[U,J]=m.useState(fe(a,"seed")),[L,v]=m.useState((a==null?void 0:a.repetitionPenalty)??1.1),[F,B]=m.useState(fe(a,"repetitionPenalty")),[Y,D]=m.useState((a==null?void 0:a.temperature)??1),[X,lt]=m.useState(fe(a,"temperature")),[et,nt]=m.useState((a==null?void 0:a.stop)??[]),[$,at]=m.useState(fe(a,"stop")),[Z,ct]=m.useState();m.useEffect(()=>{i(Vt(a==null?void 0:a.modelId)==="dash_scope"?(a==null?void 0:a.baseUrl)??Gt.dash_scope:Gt.dash_scope),c(Vt(a==null?void 0:a.modelId)==="dash_scope"?(a==null?void 0:a.modelId)??Kt.dash_scope:Kt.dash_scope),u((a==null?void 0:a.topP)??.8),y(fe(a,"topP")),k((a==null?void 0:a.topK)??0),R(fe(a,"topK")),M((a==null?void 0:a.maxTokens)??2e3),q(fe(a,"maxTokens")),K((a==null?void 0:a.enableSearch)??!1),Q((a==null?void 0:a.seed)??1234),J(fe(a,"seed")),v((a==null?void 0:a.repetitionPenalty)??1.1),B(fe(a,"repetitionPenalty")),D((a==null?void 0:a.temperature)??1),lt(fe(a,"temperature")),nt((a==null?void 0:a.stop)??[]),at(fe(a,"stop"))},[a]);function wt(H){H&&H.preventDefault(),Z&&!et.includes(Z)&&nt([...et,Z]),ct(void 0)}function Pt(H){nt(et.filter(_=>_!==H))}function tt(){const H={};r&&(H.baseUrl=r),n&&(H.modelId=n),f&&(H.topP=l),z&&(H.topK=b),O&&(H.maxTokens=N),H.enableSearch=C,U&&(H.seed=W),F&&(H.repetitionPenalty=L),X&&(H.temperature=Y),$&&(H.stop=et),e(H)}return o.jsxs(Vi,{open:t,onClose:()=>tt(),children:[o.jsx(Xe,{variant:"subtitle1",sx:{m:0,p:0,fontWeight:"bold"},children:s("Model Parameters")}),o.jsx(ut,{sx:{mt:0}}),o.jsxs(De,{sx:{p:0},children:[o.jsx(St,{children:o.jsxs(it,{children:[o.jsx(j,{children:"baseUrl"}),o.jsx(ft,{type:"text",value:r,slotProps:{input:{size:"small"}},sx:{ml:.5,maxWidth:void 0,flex:1},onChange:H=>i(H.target.value)})]})}),o.jsx(ut,{sx:{mt:"auto",mx:2}}),o.jsx(St,{children:o.jsxs(it,{children:[o.jsx(j,{children:"model"}),o.jsx(ft,{type:"text",value:pr(n),slotProps:{input:{size:"small"}},sx:{ml:2,maxWidth:void 0,flex:1},onChange:H=>c(hr("dash_scope",H.target.value,"text2chat"))})]})}),o.jsx(ut,{sx:{mt:"auto",mx:2}}),o.jsxs(St,{children:[o.jsxs(it,{children:[o.jsx(j,{children:"topP"}),o.jsx(yt,{title:s("Probability threshold of the nucleus sampling method in the generation process, for example, when the value is 0.8, only the smallest set of most likely tokens whose probabilities add up to 0.8 or more is retained as the candidate set. The value range is (0, 1.0), the larger the value, the higher the randomness of the generation; the smaller the value, the higher the certainty of the generation."),children:o.jsx(ot,{size:"small",children:o.jsx(At,{})})}),o.jsxs(E,{sx:{ml:"auto",display:"flex",alignItems:"center",gap:1},children:[o.jsx(ft,{disabled:!f,type:"number",slotProps:{htmlInput:{min:0,max:1,step:.01}},value:l,onChange:H=>u(+H.target.value)}),o.jsx(kt,{checked:f,onChange:()=>y(!f)})]})]}),o.jsx($t,{disabled:!f,value:l,step:.01,min:0,max:1,valueLabelDisplay:"auto",onChange:(H,_)=>u(_)})]}),o.jsx(ut,{sx:{mt:"auto",mx:2}}),o.jsxs(St,{children:[o.jsxs(it,{children:[o.jsx(j,{children:"topK"}),o.jsx(yt,{title:s("The size of the sampling candidate set during generation. For example, when the value is 50, only the top 50 tokens with the highest scores in a single generation are included in the random sampling candidate set. The larger the value, the higher the randomness of the generation; the smaller the value, the higher the certainty of the generation. The default value is 0, which means that the top_k strategy is not enabled, and only the top_p strategy is effective."),children:o.jsx(ot,{size:"small",children:o.jsx(At,{})})}),o.jsxs(E,{sx:{ml:"auto",display:"flex",alignItems:"center",gap:1},children:[o.jsx(ft,{disabled:!z,type:"number",slotProps:{htmlInput:{min:0,max:100,step:1}},value:b,onChange:H=>k(+H.target.value)}),o.jsx(kt,{checked:z,onChange:()=>R(!z)})]})]}),o.jsx($t,{disabled:!z,value:b,step:1,min:0,max:100,valueLabelDisplay:"auto",onChange:(H,_)=>k(_)})]}),o.jsx(ut,{sx:{mt:"auto",mx:2}}),o.jsx(St,{children:o.jsxs(it,{children:[o.jsx(j,{children:"maxTokens"}),o.jsx(yt,{title:s("The maximum number of tokens to generate in the chat completion. The total length of input tokens and generated tokens is limited by the model's context length."),children:o.jsx(ot,{size:"small",children:o.jsx(At,{})})}),o.jsxs(E,{sx:{ml:"auto",display:"flex",alignItems:"center",gap:1},children:[o.jsx(ft,{disabled:!O,type:"number",slotProps:{htmlInput:{min:1e3,step:1e3}},value:N,onChange:H=>M(+H.target.value)}),o.jsx(kt,{checked:O,onChange:()=>q(!O)})]})]})}),o.jsx(ut,{sx:{mt:"auto",mx:2}}),o.jsx(St,{children:o.jsxs(it,{children:[o.jsx(j,{children:"enableSearch"}),o.jsx(yt,{title:s("Whether to use a search engine for data enhancement."),children:o.jsx(ot,{size:"small",children:o.jsx(At,{})})}),o.jsx(E,{sx:{ml:"auto"},children:o.jsx(kt,{checked:C,onChange:()=>K(!C)})})]})}),o.jsx(ut,{sx:{mt:"auto",mx:2}}),o.jsx(St,{children:o.jsxs(it,{children:[o.jsx(j,{children:"seed"}),o.jsx(yt,{title:s("The random number seed used when generating, the user controls the randomness of the content generated by the model. seed supports unsigned 64-bit integers, with a default value of 1234. When using seed, the model will try its best to generate the same or similar results, but there is currently no guarantee that the results will be exactly the same every time."),children:o.jsx(ot,{size:"small",children:o.jsx(At,{})})}),o.jsxs(E,{sx:{ml:"auto",display:"flex",alignItems:"center",gap:1},children:[o.jsx(ft,{disabled:!U,type:"number",slotProps:{htmlInput:{min:1,step:1}},value:W,onChange:H=>Q(+H.target.value)}),o.jsx(kt,{checked:U,onChange:()=>J(!U)})]})]})}),o.jsx(ut,{sx:{mt:"auto",mx:2}}),o.jsx(St,{children:o.jsxs(it,{children:[o.jsx(j,{children:"repetitionPenalty"}),o.jsx(yt,{title:s("Used to control the repeatability when generating models. Increasing repetition_penalty can reduce the duplication of model generation. 1.0 means no punishment."),children:o.jsx(ot,{size:"small",children:o.jsx(At,{})})}),o.jsxs(E,{sx:{ml:"auto",display:"flex",alignItems:"center",gap:1},children:[o.jsx(ft,{disabled:!F,type:"number",slotProps:{htmlInput:{min:1,step:.1}},value:L,onChange:H=>v(+H.target.value)}),o.jsx(kt,{checked:F,onChange:()=>B(!F)})]})]})}),o.jsx(ut,{sx:{mt:"auto",mx:2}}),o.jsxs(St,{children:[o.jsxs(it,{children:[o.jsx(j,{children:"temperature"}),o.jsx(yt,{title:s("Used to adjust the degree of randomness from sampling in the generated model, the value range is [0, 2), a temperature of 0 will always produce the same output. The higher the temperature, the greater the randomness."),children:o.jsx(ot,{size:"small",children:o.jsx(At,{})})}),o.jsxs(E,{sx:{ml:"auto",display:"flex",alignItems:"center",gap:1},children:[o.jsx(ft,{disabled:!X,type:"number",slotProps:{htmlInput:{min:0,max:2,step:.1}},value:Y,onChange:H=>D(+H.target.value)}),o.jsx(kt,{checked:X,onChange:()=>lt(!X)})]})]}),o.jsx($t,{disabled:!X,value:Y,step:.1,min:0,max:2,valueLabelDisplay:"auto",onChange:(H,_)=>D(_)})]}),o.jsx(ut,{sx:{mt:"auto",mx:2}}),o.jsxs(St,{children:[o.jsxs(it,{children:[o.jsx(j,{children:"stop"}),o.jsx(yt,{title:s("Sequences where the API will stop generating further tokens."),children:o.jsx(ot,{size:"small",children:o.jsx(At,{})})}),o.jsx(E,{sx:{ml:"auto"},children:o.jsx(kt,{checked:$,onChange:()=>at(!$)})})]}),o.jsxs(E,{sx:{pt:1,display:"flex",flexWrap:"wrap",gap:1},children:[et==null?void 0:et.map((H,_)=>H&&o.jsx(vt,{disabled:!$,variant:"outlined",onDelete:()=>Pt(H),label:H},`${H}-${_}`)),(!et||et.length<4)&&Z===void 0&&o.jsx(ot,{disabled:!$,color:"primary",onClick:()=>ct(""),children:o.jsx(Ae,{})}),Z!==void 0&&o.jsx("form",{onSubmit:wt,children:o.jsx(ft,{disabled:!$,type:"text",value:Z,onChange:H=>ct(H.target.value),onBlur:()=>wt(void 0),slotProps:{input:{endAdornment:o.jsx(Ze,{position:"end",children:o.jsx(_a,{fontSize:"small"})})}}})})]})]})]})]})}function ye(p,t){return p!==void 0&&Object.keys(p).includes(t)}function Ao(p){const{open:t,onClose:e,defaultParameters:a}=p,{t:s}=bt(["prompt"]),[r,i]=m.useState(Vt(a==null?void 0:a.modelId)==="open_ai"?(a==null?void 0:a.baseUrl)??Gt.open_ai:Gt.open_ai),[n,c]=m.useState(Vt(a==null?void 0:a.modelId)==="open_ai"?(a==null?void 0:a.modelId)??Kt.open_ai:Kt.open_ai),[l,u]=m.useState((a==null?void 0:a.topP)??.8),[f,y]=m.useState(ye(a,"topP")),[b,k]=m.useState((a==null?void 0:a.maxTokens)??2e3),[z,R]=m.useState(ye(a,"maxTokens")),[N,M]=m.useState((a==null?void 0:a.seed)??1234),[O,q]=m.useState(ye(a,"seed")),[C,K]=m.useState((a==null?void 0:a.presencePenalty)??0),[W,Q]=m.useState(ye(a,"presencePenalty")),[U,J]=m.useState((a==null?void 0:a.frequencyPenalty)??0),[L,v]=m.useState(ye(a,"frequencyPenalty")),[F,B]=m.useState((a==null?void 0:a.temperature)??1),[Y,D]=m.useState(ye(a,"temperature")),[X,lt]=m.useState((a==null?void 0:a.stop)??[]),[et,nt]=m.useState(ye(a,"stop")),[$,at]=m.useState(),Z=m.useRef(Array(6).fill(m.createRef()));m.useEffect(()=>{i(Vt(a==null?void 0:a.modelId)==="open_ai"?(a==null?void 0:a.baseUrl)??Gt.open_ai:Gt.open_ai),c(Vt(a==null?void 0:a.modelId)==="open_ai"?(a==null?void 0:a.modelId)??Kt.open_ai:Kt.open_ai),u((a==null?void 0:a.topP)??.8),y(ye(a,"topP")),k((a==null?void 0:a.maxTokens)??2e3),R(ye(a,"maxTokens")),M((a==null?void 0:a.seed)??1234),q(ye(a,"seed")),K((a==null?void 0:a.presencePenalty)??0),Q(ye(a,"presencePenalty")),J((a==null?void 0:a.frequencyPenalty)??0),v(ye(a,"frequencyPenalty")),B((a==null?void 0:a.temperature)??1),D(ye(a,"temperature")),lt((a==null?void 0:a.stop)??[]),nt(ye(a,"stop")),at(void 0)},[a]);function ct(tt){tt&&tt.preventDefault(),$&&!X.includes($)&&lt([...X,$]),at(void 0)}function wt(tt){lt(X.filter(H=>H!==tt))}function Pt(){const tt={};r&&(tt.baseUrl=r),n&&(tt.modelId=n),f&&(tt.topP=l),z&&(tt.maxTokens=b),O&&(tt.seed=N),W&&(tt.presencePenalty=C),L&&(tt.frequencyPenalty=U),Y&&(tt.temperature=F),et&&(tt.stop=X),e(tt)}return o.jsxs(Vi,{open:t,onClose:()=>Pt(),children:[o.jsx(Xe,{variant:"subtitle1",sx:{m:0,p:0,fontWeight:"bold"},children:s("Model Parameters")}),o.jsx(ut,{sx:{mt:0}}),o.jsxs(De,{sx:{p:0},children:[o.jsx(St,{children:o.jsxs(it,{children:[o.jsx(j,{children:"baseUrl"}),o.jsx(ft,{type:"text",value:r,slotProps:{input:{size:"small"}},sx:{ml:.5,maxWidth:void 0,flex:1},onChange:tt=>i(tt.target.value)})]})}),o.jsx(ut,{sx:{mt:"auto",mx:2}}),o.jsx(St,{children:o.jsxs(it,{children:[o.jsx(j,{children:"model"}),o.jsx(ft,{type:"text",value:pr(n),slotProps:{input:{size:"small"}},sx:{ml:2,maxWidth:void 0,flex:1},onChange:tt=>c(hr("open_ai",tt.target.value,"text2chat"))})]})}),o.jsx(ut,{sx:{mt:"auto",mx:2}}),o.jsxs(St,{children:[o.jsxs(it,{children:[o.jsx(j,{children:"topP"}),o.jsx(yt,{title:s("Probability threshold of the nucleus sampling method in the generation process, for example, when the value is 0.8, only the smallest set of most likely tokens whose probabilities add up to 0.8 or more is retained as the candidate set. The value range is (0, 1.0), the larger the value, the higher the randomness of the generation; the smaller the value, the higher the certainty of the generation."),children:o.jsx(At,{})}),o.jsxs(it,{sx:{ml:"auto"},children:[o.jsx(ft,{disabled:!f,type:"number",slotProps:{htmlInput:{ref:Z.current[0],min:0,max:1,step:.01}},value:l,onChange:tt=>u(+tt.target.value)}),o.jsx(kt,{checked:f,onChange:()=>y(!f)})]})]}),o.jsx($t,{disabled:!f,value:l,step:.01,min:0,max:1,valueLabelDisplay:"auto",onChange:(tt,H)=>u(H)})]}),o.jsx(ut,{sx:{mt:"auto",mx:2}}),o.jsx(St,{children:o.jsxs(it,{children:[o.jsx(j,{children:"maxTokens"}),o.jsx(yt,{title:s("The maximum number of tokens to generate in the chat completion. The total length of input tokens and generated tokens is limited by the model's context length."),children:o.jsx(At,{})}),o.jsxs(it,{sx:{ml:"auto"},children:[o.jsx(ft,{disabled:!z,type:"number",slotProps:{htmlInput:{ref:Z.current[2],min:1e3,step:1e3}},value:b,onChange:tt=>k(+tt.target.value)}),o.jsx(kt,{checked:z,onChange:()=>R(!z)})]})]})}),o.jsx(ut,{sx:{mt:"auto",mx:2}}),o.jsx(St,{children:o.jsxs(it,{children:[o.jsx(j,{children:"seed"}),o.jsx(yt,{title:s("The random number seed used when generating, the user controls the randomness of the content generated by the model. seed supports unsigned 64-bit integers, with a default value of 1234. When using seed, the model will try its best to generate the same or similar results, but there is currently no guarantee that the results will be exactly the same every time."),children:o.jsx(At,{})}),o.jsxs(it,{sx:{ml:"auto"},children:[o.jsx(ft,{disabled:!O,type:"number",slotProps:{htmlInput:{ref:Z.current[3],min:1,step:1}},value:N,onChange:tt=>M(+tt.target.value)}),o.jsx(kt,{checked:O,onChange:()=>q(!O)})]})]})}),o.jsx(ut,{sx:{mt:"auto",mx:2}}),o.jsxs(St,{children:[o.jsxs(it,{children:[o.jsx(j,{children:"presencePenalty"}),o.jsx(yt,{title:s("Number between -2.0 and 2.0. Positive values penalize new tokens based on whether they appear in the text so far, increasing the model's likelihood to talk about new topics."),children:o.jsx(At,{})}),o.jsxs(it,{sx:{ml:"auto"},children:[o.jsx(ft,{disabled:!W,type:"number",slotProps:{htmlInput:{ref:Z.current[4],min:-2,max:2,step:.1}},value:C,onChange:tt=>K(+tt.target.value)}),o.jsx(kt,{checked:W,onChange:()=>Q(!W)})]})]}),o.jsx($t,{disabled:!W,value:C,step:.1,min:-2,max:2,valueLabelDisplay:"auto",onChange:(tt,H)=>K(H)})]}),o.jsx(ut,{sx:{mt:"auto",mx:2}}),o.jsxs(St,{children:[o.jsxs(it,{children:[o.jsx(j,{children:"frequencyPenalty"}),o.jsx(yt,{title:s("Number between -2.0 and 2.0. Positive values penalize new tokens based on their existing frequency in the text so far, decreasing the model's likelihood to repeat the same line verbatim."),children:o.jsx(At,{})}),o.jsxs(it,{sx:{ml:"auto"},children:[o.jsx(ft,{disabled:!L,type:"number",slotProps:{htmlInput:{ref:Z.current[4],min:-2,max:2,step:.1}},value:U,onChange:tt=>J(+tt.target.value)}),o.jsx(kt,{checked:L,onChange:()=>v(!L)})]})]}),o.jsx($t,{disabled:!L,value:U,step:.1,min:-2,max:2,valueLabelDisplay:"auto",onChange:(tt,H)=>J(H)})]}),o.jsx(ut,{sx:{mt:"auto",mx:2}}),o.jsxs(St,{children:[o.jsxs(it,{children:[o.jsx(j,{children:"temperature"}),o.jsx(yt,{title:s("Used to adjust the degree of randomness from sampling in the generated model, the value range is [0, 2), a temperature of 0 will always produce the same output. The higher the temperature, the greater the randomness."),children:o.jsx(At,{})}),o.jsxs(it,{sx:{ml:"auto"},children:[o.jsx(ft,{disabled:!Y,type:"number",slotProps:{htmlInput:{ref:Z.current[5],min:0,max:2,step:.1}},value:F,onChange:tt=>B(+tt.target.value)}),o.jsx(kt,{checked:Y,onChange:()=>D(!Y)})]})]}),o.jsx($t,{disabled:!Y,value:F,step:.1,min:0,max:2,valueLabelDisplay:"auto",onChange:(tt,H)=>B(H)})]}),o.jsx(ut,{sx:{mt:"auto",mx:2}}),o.jsxs(St,{children:[o.jsxs(it,{children:[o.jsx(j,{children:"stop"}),o.jsx(yt,{title:s("Sequences where the API will stop generating further tokens."),children:o.jsx(At,{})}),o.jsx(it,{sx:{ml:"auto"},children:o.jsx(kt,{checked:et,onChange:()=>nt(!et)})})]}),o.jsxs(E,{sx:{pt:1},children:[X&&X.length>0&&X.map((tt,H)=>tt&&o.jsx(vt,{disabled:!et,variant:"outlined",onDelete:()=>wt(tt),label:tt,sx:{m:.5}},`${tt}-${H}`)),(!X||X.length<4)&&$===void 0&&o.jsx(ot,{disabled:!et,color:"primary",onClick:()=>at(""),children:o.jsx(Ae,{})}),$!==void 0&&o.jsx("form",{onSubmit:ct,children:o.jsx(ft,{disabled:!et,type:"text",value:$,onChange:tt=>at(tt.target.value),onBlur:()=>ct(void 0),slotProps:{input:{endAdornment:o.jsx(Ze,{position:"end",children:o.jsx(_a,{fontSize:"small"})})}}})})]})]})]})]})}function ge(p,t){return p!==void 0&&Object.keys(p).includes(t)}function Io(p){const{open:t,onClose:e,defaultParameters:a}=p,{t:s}=bt(["prompt"]),{username:r}=de(),[i,n]=m.useState(Vt(a==null?void 0:a.modelId)==="azure_open_ai"?(a==null?void 0:a.baseUrl)??Gt.azure_open_ai:Gt.azure_open_ai),[c,l]=m.useState(Vt(a==null?void 0:a.modelId)==="azure_open_ai"?(a==null?void 0:a.modelId)??Kt.azure_open_ai:Kt.azure_open_ai),[u,f]=m.useState((a==null?void 0:a.topP)??.8),[y,b]=m.useState(ge(a,"topP")),[k,z]=m.useState((a==null?void 0:a.maxTokens)??2e3),[R,N]=m.useState(ge(a,"maxTokens")),[M,O]=m.useState((a==null?void 0:a.seed)??1234),[q,C]=m.useState(ge(a,"seed")),[K,W]=m.useState((a==null?void 0:a.presencePenalty)??0),[Q,U]=m.useState(ge(a,"presencePenalty")),[J,L]=m.useState((a==null?void 0:a.frequencyPenalty)??0),[v,F]=m.useState(ge(a,"frequencyPenalty")),[B,Y]=m.useState((a==null?void 0:a.temperature)??1),[D,X]=m.useState(ge(a,"temperature")),[lt,et]=m.useState((a==null?void 0:a.stop)??[]),[nt,$]=m.useState(ge(a,"stop")),[at,Z]=m.useState(),ct=m.useRef(Array(6).fill(m.createRef()));m.useEffect(()=>{n(Vt(a==null?void 0:a.modelId)==="azure_open_ai"?(a==null?void 0:a.baseUrl)??Gt.azure_open_ai:Gt.azure_open_ai),l(Vt(a==null?void 0:a.modelId)==="azure_open_ai"?(a==null?void 0:a.modelId)??Kt.azure_open_ai:Kt.azure_open_ai),f((a==null?void 0:a.topP)??.8),b(ge(a,"topP")),z((a==null?void 0:a.maxTokens)??2e3),N(ge(a,"maxTokens")),O((a==null?void 0:a.seed)??1234),C(ge(a,"seed")),W((a==null?void 0:a.presencePenalty)??0),U(ge(a,"presencePenalty")),L((a==null?void 0:a.frequencyPenalty)??0),F(ge(a,"frequencyPenalty")),Y((a==null?void 0:a.temperature)??1),X(ge(a,"temperature")),et((a==null?void 0:a.stop)??[]),$(ge(a,"stop"))},[a,c]);function wt(H){H&&H.preventDefault(),at&&!lt.includes(at)&&et([...lt,at]),Z(void 0)}function Pt(H){et(lt.filter(_=>_!==H))}function tt(){const H={};i&&(H.baseUrl=i),c&&(H.modelId=c),y&&(H.topP=u),R&&(H.maxTokens=k),q&&(H.seed=M),Q&&(H.presencePenalty=K),v&&(H.frequencyPenalty=J),D&&(H.temperature=B),nt&&(H.stop=lt),r&&(H.user=r),e(H)}return o.jsxs(Vi,{open:t,onClose:()=>tt(),children:[o.jsx(Xe,{variant:"subtitle1",sx:{m:0,p:0,fontWeight:"bold"},children:s("Model Parameters")}),o.jsx(ut,{sx:{mt:0}}),o.jsxs(De,{sx:{p:0},children:[o.jsx(St,{children:o.jsxs(it,{children:[o.jsx(j,{children:"baseUrl"}),o.jsx(ft,{type:"text",value:i,slotProps:{input:{size:"small"}},sx:{ml:.5,maxWidth:void 0,flex:1},onChange:H=>n(H.target.value)})]})}),o.jsx(ut,{sx:{mt:"auto",mx:2}}),o.jsx(St,{children:o.jsxs(it,{children:[o.jsx(j,{children:"model"}),o.jsx(ft,{type:"text",value:pr(c),slotProps:{input:{size:"small"}},sx:{ml:2,maxWidth:void 0,flex:1},onChange:H=>l(hr("azure_open_ai",H.target.value,"text2chat"))})]})}),o.jsxs(St,{children:[o.jsxs(it,{children:[o.jsx(j,{children:"topP"}),o.jsx(yt,{title:s("Probability threshold of the nucleus sampling method in the generation process, for example, when the value is 0.8, only the smallest set of most likely tokens whose probabilities add up to 0.8 or more is retained as the candidate set. The value range is (0, 1.0), the larger the value, the higher the randomness of the generation; the smaller the value, the higher the certainty of the generation."),children:o.jsx(At,{})}),o.jsxs(it,{sx:{ml:"auto"},children:[o.jsx(ft,{disabled:!y,type:"number",slotProps:{htmlInput:{ref:ct.current[0],min:0,max:1,step:.01}},value:u,onChange:H=>f(+H.target.value)}),o.jsx(kt,{checked:y,onChange:()=>b(!y)})]})]}),o.jsx($t,{disabled:!y,value:u,step:.01,min:0,max:1,valueLabelDisplay:"auto",onChange:(H,_)=>f(_)})]}),o.jsx(ut,{sx:{mt:"auto",mx:2}}),o.jsx(St,{children:o.jsxs(it,{children:[o.jsx(j,{children:"maxTokens"}),o.jsx(yt,{title:s("The maximum number of tokens to generate in the chat completion. The total length of input tokens and generated tokens is limited by the model's context length."),children:o.jsx(At,{})}),o.jsxs(it,{sx:{ml:"auto"},children:[o.jsx(ft,{disabled:!R,type:"number",slotProps:{htmlInput:{ref:ct.current[2],min:1e3,step:1e3}},value:k,onChange:H=>z(+H.target.value)}),o.jsx(kt,{checked:R,onChange:()=>N(!R)})]})]})}),o.jsx(ut,{sx:{mt:"auto",mx:2}}),o.jsx(St,{children:o.jsxs(it,{children:[o.jsx(j,{children:"seed"}),o.jsx(yt,{title:s("The random number seed used when generating, the user controls the randomness of the content generated by the model. seed supports unsigned 64-bit integers, with a default value of 1234. When using seed, the model will try its best to generate the same or similar results, but there is currently no guarantee that the results will be exactly the same every time."),children:o.jsx(At,{})}),o.jsxs(it,{sx:{ml:"auto"},children:[o.jsx(ft,{disabled:!q,type:"number",slotProps:{htmlInput:{ref:ct.current[3],min:1,step:1}},value:M,onChange:H=>O(+H.target.value)}),o.jsx(kt,{checked:q,onChange:()=>C(!q)})]})]})}),o.jsx(ut,{sx:{mt:"auto",mx:2}}),o.jsxs(St,{children:[o.jsxs(it,{children:[o.jsx(j,{children:"presencePenalty"}),o.jsx(yt,{title:s("Number between -2.0 and 2.0. Positive values penalize new tokens based on whether they appear in the text so far, increasing the model's likelihood to talk about new topics."),children:o.jsx(At,{})}),o.jsxs(it,{sx:{ml:"auto"},children:[o.jsx(ft,{disabled:!Q,type:"number",slotProps:{htmlInput:{ref:ct.current[4],min:-2,max:2,step:.1}},value:K,onChange:H=>W(+H.target.value)}),o.jsx(kt,{checked:Q,onChange:()=>{U(!Q)}})]})]}),o.jsx($t,{disabled:!Q,value:K,step:.1,min:-2,max:2,valueLabelDisplay:"auto",onChange:(H,_)=>{W(_)}})]}),o.jsx(ut,{sx:{mt:"auto",mx:2}}),o.jsxs(St,{children:[o.jsxs(it,{children:[o.jsx(j,{children:"frequencyPenalty"}),o.jsx(yt,{title:s("Number between -2.0 and 2.0. Positive values penalize new tokens based on their existing frequency in the text so far, decreasing the model's likelihood to repeat the same line verbatim."),children:o.jsx(At,{})}),o.jsxs(it,{sx:{ml:"auto"},children:[o.jsx(ft,{disabled:!v,type:"number",slotProps:{htmlInput:{ref:ct.current[4],min:-2,max:2,step:.1}},value:J,onChange:H=>L(+H.target.value)}),o.jsx(kt,{checked:v,onChange:()=>{F(!v)}})]})]}),o.jsx($t,{disabled:!v,value:J,step:.1,min:-2,max:2,valueLabelDisplay:"auto",onChange:(H,_)=>{L(_)}})]}),o.jsx(ut,{sx:{mt:"auto",mx:2}}),o.jsxs(St,{children:[o.jsxs(it,{children:[o.jsx(j,{children:"temperature"}),o.jsx(yt,{title:s("Used to adjust the degree of randomness from sampling in the generated model, the value range is [0, 2), a temperature of 0 will always produce the same output. The higher the temperature, the greater the randomness."),children:o.jsx(At,{})}),o.jsxs(it,{sx:{ml:"auto"},children:[o.jsx(ft,{disabled:!D,type:"number",slotProps:{htmlInput:{ref:ct.current[5],min:0,max:2,step:.1}},value:B,onChange:H=>Y(+H.target.value)}),o.jsx(kt,{checked:D,onChange:()=>X(!D)})]})]}),o.jsx($t,{disabled:!D,value:B,step:.1,min:0,max:2,valueLabelDisplay:"auto",onChange:(H,_)=>Y(_)})]}),o.jsx(ut,{sx:{mt:"auto",mx:2}}),o.jsxs(St,{children:[o.jsxs(it,{children:[o.jsx(j,{children:"stop"}),o.jsx(yt,{title:s("Sequences where the API will stop generating further tokens."),children:o.jsx(At,{})}),o.jsx(it,{sx:{ml:"auto"},children:o.jsx(kt,{checked:nt,onChange:()=>$(!nt)})})]}),o.jsxs(E,{sx:{pt:1},children:[lt&&lt.length>0&&lt.map((H,_)=>H&&o.jsx(vt,{disabled:!nt,variant:"outlined",onDelete:()=>Pt(H),label:H,sx:{m:.5}},`${H}-${_}`)),(!lt||lt.length<4)&&at===void 0&&o.jsx(ot,{disabled:!nt,color:"primary",onClick:()=>Z(""),children:o.jsx(Ae,{})}),at!==void 0&&o.jsx("form",{onSubmit:wt,children:o.jsx(ft,{disabled:!nt,type:"text",value:at,onChange:H=>Z(H.target.value),onBlur:()=>wt(void 0),slotProps:{input:{endAdornment:o.jsx(Ze,{position:"end",children:o.jsx(_a,{fontSize:"small"})})}}})})]})]})]})]})}function re(p,t){return p!==void 0&&Object.keys(p).includes(t)}function To(p){const{open:t,onClose:e,defaultParameters:a}=p,{t:s}=bt(["prompt"]),[r,i]=m.useState(Vt(a==null?void 0:a.modelId)==="ollama"?(a==null?void 0:a.baseUrl)??Gt.ollama:Gt.ollama),[n,c]=m.useState(Vt(a==null?void 0:a.modelId)==="ollama"?(a==null?void 0:a.modelId)??Kt.ollama:Kt.ollama),[l,u]=m.useState((a==null?void 0:a.temperature)??.8),[f,y]=m.useState(re(a,"temperature")),[b,k]=m.useState((a==null?void 0:a.topK)??40),[z,R]=m.useState(re(a,"topK")),[N,M]=m.useState((a==null?void 0:a.topP)??.9),[O,q]=m.useState(re(a,"topP")),[C,K]=m.useState((a==null?void 0:a.repeatPenalty)??1.1),[W,Q]=m.useState(re(a,"repeatPenalty")),[U,J]=m.useState((a==null?void 0:a.seed)??0),[L,v]=m.useState(re(a,"seed")),[F,B]=m.useState((a==null?void 0:a.numPredict)??128),[Y,D]=m.useState(re(a,"numPredict")),[X,lt]=m.useState((a==null?void 0:a.numCtx)??2048),[et,nt]=m.useState(re(a,"numCtx")),[$,at]=m.useState((a==null?void 0:a.stop)??[]),[Z,ct]=m.useState(re(a,"stop")),[wt,Pt]=m.useState(),tt=m.useRef(Array(7).fill(m.createRef()));m.useEffect(()=>{i(Vt(a==null?void 0:a.modelId)==="ollama"?(a==null?void 0:a.baseUrl)??Gt.ollama:Gt.ollama),c(Vt(a==null?void 0:a.modelId)==="ollama"?(a==null?void 0:a.modelId)??Kt.ollama:Kt.ollama),u((a==null?void 0:a.temperature)??.8),y(re(a,"temperature")),k((a==null?void 0:a.topK)??40),R(re(a,"topK")),M((a==null?void 0:a.topP)??.9),q(re(a,"topP")),K((a==null?void 0:a.repeatPenalty)??1.1),Q(re(a,"repeatPenalty")),J((a==null?void 0:a.seed)??0),v(re(a,"seed")),B((a==null?void 0:a.numPredict)??128),D(re(a,"numPredict")),lt((a==null?void 0:a.numCtx)??2048),nt(re(a,"numCtx")),at((a==null?void 0:a.stop)??[]),ct(re(a,"stop"))},[a]);function H(st){st&&st.preventDefault(),wt&&!$.includes(wt)&&at([...$,wt]),Pt(void 0)}function _(st){at($.filter(Wt=>Wt!==st))}function It(){const st={};r&&(st.baseUrl=r),n&&(st.modelId=n),f&&(st.temperature=l),z&&(st.topK=b),O&&(st.topP=N),W&&(st.repeatPenalty=C),L&&(st.seed=U),Y&&(st.numPredict=F),et&&(st.numCtx=X),Z&&(st.stop=$),e(st)}return o.jsxs(Vi,{open:t,onClose:()=>It(),children:[o.jsx(Xe,{variant:"subtitle1",sx:{m:0,p:0,fontWeight:"bold"},children:s("Model Parameters")}),o.jsx(ut,{sx:{mt:0}}),o.jsxs(De,{sx:{p:0},children:[o.jsx(St,{children:o.jsxs(it,{children:[o.jsx(j,{children:"baseUrl"}),o.jsx(ft,{type:"text",value:r,slotProps:{input:{size:"small"}},sx:{ml:.5,maxWidth:void 0,flex:1},onChange:st=>i(st.target.value),size:"small"})]})}),o.jsx(ut,{sx:{mt:"auto",mx:2}}),o.jsx(St,{children:o.jsxs(it,{children:[o.jsx(j,{children:"model"}),o.jsx(ft,{type:"text",value:pr(n),slotProps:{input:{size:"small"}},sx:{ml:2,maxWidth:void 0,flex:1},onChange:st=>c(hr("ollama",st.target.value,"text2chat"))})]})}),o.jsx(ut,{sx:{mt:"auto",mx:2}}),o.jsxs(St,{children:[o.jsxs(it,{children:[o.jsx(j,{children:"temperature"}),o.jsx(yt,{title:s("The temperature of the model. Increasing the temperature will make the model answer more creatively. (Default: 0.8)"),children:o.jsx(At,{})}),o.jsxs(it,{sx:{ml:"auto"},children:[o.jsx(ft,{disabled:!f,type:"number",slotProps:{htmlInput:{ref:tt.current[0],min:0,max:2,step:.1}},value:l,onChange:st=>u(+st.target.value)}),o.jsx(kt,{checked:f,onChange:()=>y(!f)})]})]}),o.jsx($t,{disabled:!f,value:l,step:.1,min:0,max:2,valueLabelDisplay:"auto",onChange:(st,Wt)=>u(Wt)})]}),o.jsx(ut,{sx:{mt:"auto",mx:2}}),o.jsxs(St,{children:[o.jsxs(it,{children:[o.jsx(j,{children:"topK"}),o.jsx(yt,{title:s("Reduces the probability of generating nonsense. A higher value (e.g. 100) will give more diverse answers, while a lower value (e.g. 10) will be more conservative. (Default: 40)"),children:o.jsx(At,{})}),o.jsxs(it,{sx:{ml:"auto"},children:[o.jsx(ft,{disabled:!z,type:"number",slotProps:{htmlInput:{ref:tt.current[1],min:10,max:100,step:5}},value:b,onChange:st=>k(+st.target.value)}),o.jsx(kt,{checked:z,onChange:()=>R(!z)})]})]}),o.jsx($t,{disabled:!z,value:b,step:5,min:10,max:100,valueLabelDisplay:"auto",onChange:(st,Wt)=>k(Wt)})]}),o.jsx(ut,{sx:{mt:"auto",mx:2}}),o.jsxs(St,{children:[o.jsxs(it,{children:[o.jsx(j,{children:"topP"}),o.jsx(yt,{title:s("Works together with topK. A higher value (e.g., 0.95) will lead to more diverse text, while a lower value (e.g., 0.5) will generate more focused and conservative text. (Default: 0.9)"),children:o.jsx(At,{})}),o.jsxs(it,{sx:{ml:"auto"},children:[o.jsx(ft,{disabled:!O,type:"number",slotProps:{htmlInput:{ref:tt.current[2],min:0,max:1,step:.01}},value:N,onChange:st=>M(+st.target.value)}),o.jsx(kt,{checked:O,onChange:()=>q(!O)})]})]}),o.jsx($t,{disabled:!O,value:N,step:.01,min:0,max:1,valueLabelDisplay:"auto",onChange:(st,Wt)=>M(Wt)})]}),o.jsx(ut,{sx:{mt:"auto",mx:2}}),o.jsxs(St,{children:[o.jsxs(it,{children:[o.jsx(j,{children:"repeatPenalty"}),o.jsx(yt,{title:s("Sets how strongly to penalize repetitions. A higher value (e.g., 1.5) will penalize repetitions more strongly, while a lower value (e.g., 0.9) will be more lenient. (Default: 1.1)"),children:o.jsx(At,{})}),o.jsxs(it,{sx:{ml:"auto"},children:[o.jsx(ft,{disabled:!W,type:"number",slotProps:{htmlInput:{ref:tt.current[3],min:0,max:2,step:.1}},value:C,onChange:st=>K(+st.target.value)}),o.jsx(kt,{checked:W,onChange:()=>Q(!W)})]})]}),o.jsx($t,{disabled:!W,value:C,step:.1,min:0,max:2,valueLabelDisplay:"auto",onChange:(st,Wt)=>K(Wt)})]}),o.jsx(ut,{sx:{mt:"auto",mx:2}}),o.jsx(St,{children:o.jsxs(it,{children:[o.jsx(j,{children:"seed"}),o.jsx(yt,{title:s("Sets the random number seed to use for generation. Setting this to a specific number will make the model generate the same text for the same prompt. (Default: 0)"),children:o.jsx(At,{})}),o.jsxs(it,{sx:{ml:"auto"},children:[o.jsx(ft,{disabled:!L,type:"number",slotProps:{htmlInput:{ref:tt.current[4],min:1,step:1}},value:U,onChange:st=>J(+st.target.value)}),o.jsx(kt,{checked:L,onChange:()=>v(!L)})]})]})}),o.jsx(ut,{sx:{mt:"auto",mx:2}}),o.jsx(St,{children:o.jsxs(it,{children:[o.jsx(j,{children:"numPredict"}),o.jsx(yt,{title:s("Maximum number of tokens to predict when generating text. (Default: 128, -1 = infinite generation, -2 = fill context)"),children:o.jsx(At,{})}),o.jsxs(it,{sx:{ml:"auto"},children:[o.jsx(ft,{disabled:!Y,type:"number",slotProps:{htmlInput:{ref:tt.current[5],min:-2,step:1}},value:F,onChange:st=>B(+st.target.value)}),o.jsx(kt,{checked:Y,onChange:()=>D(!Y)})]})]})}),o.jsx(ut,{sx:{mt:"auto",mx:2}}),o.jsx(St,{children:o.jsxs(it,{children:[o.jsx(j,{children:"numCtx"}),o.jsx(yt,{title:s("Sets the size of the context window used to generate the next token. (Default: 2048)"),children:o.jsx(At,{})}),o.jsxs(it,{sx:{ml:"auto"},children:[o.jsx(ft,{disabled:!et,type:"number",slotProps:{htmlInput:{ref:tt.current[6],min:1028,step:1028}},value:X,onChange:st=>lt(+st.target.value)}),o.jsx(kt,{checked:et,onChange:()=>nt(!et)})]})]})}),o.jsx(ut,{sx:{mt:"auto",mx:2}}),o.jsxs(St,{children:[o.jsxs(it,{children:[o.jsx(j,{children:"stop"}),o.jsx(yt,{title:s("Sets the stop sequences to use. When this pattern is encountered the LLM will stop generating text and return. Multiple stop patterns may be set by specifying multiple separate stop parameters in a modelfile."),children:o.jsx(At,{})}),o.jsx(it,{sx:{ml:"auto"},children:o.jsx(kt,{checked:Z,onChange:()=>ct(!Z)})})]}),o.jsxs(E,{sx:{pt:1},children:[$&&$.length>0&&$.map((st,Wt)=>st&&o.jsx(vt,{disabled:!Z,variant:"outlined",onDelete:()=>_(st),label:st,sx:{m:.5}},`${st}-${Wt}`)),(!$||$.length<4)&&wt===void 0&&o.jsx(ot,{disabled:!Z,color:"primary",onClick:()=>Pt(""),children:o.jsx(Ae,{})}),wt!==void 0&&o.jsx("form",{onSubmit:H,children:o.jsx(ft,{disabled:!Z,type:"text",value:wt,onChange:st=>Pt(st.target.value),onBlur:()=>H(void 0),slotProps:{input:{endAdornment:o.jsx(Ze,{position:"end",children:o.jsx(_a,{fontSize:"small"})})}}})})]})]})]})]})}function Td(p){const{t}=bt("character");return o.jsx(ee,{...p,children:o.jsxs(Un,{orientation:"vertical",sx:{"& .MuiStepConnector-line":{minHeight:"2rem"}},children:[o.jsx(Yt,{children:o.jsx(Jt,{slots:{stepIcon:()=>o.jsx($i,{color:"primary"})},children:o.jsx(j,{variant:"subtitle1",children:t("Set character metadata")})})}),o.jsx(Yt,{children:o.jsx(Jt,{slots:{stepIcon:()=>o.jsx(ce,{color:"primary",sx:{ml:1,fontSize:"0.5rem"}})},children:o.jsx(j,{variant:"body2",children:t("Description")})})}),o.jsx(Yt,{children:o.jsx(Jt,{slots:{stepIcon:()=>o.jsx(ce,{color:"primary",sx:{ml:1,fontSize:"0.5rem"}})},children:o.jsx(j,{variant:"body2",children:t("Tags")})})}),o.jsx(Yt,{children:o.jsx(Jt,{slots:{stepIcon:()=>o.jsx($i,{color:"primary"})},children:o.jsxs(E,{children:[o.jsx(j,{variant:"subtitle1",children:t("Set character profile")}),o.jsx(j,{variant:"caption",color:"text.secondary",children:t("Affects character performance")})]})})}),o.jsx(Yt,{children:o.jsx(Jt,{slots:{stepIcon:()=>o.jsx(ce,{color:"primary",sx:{ml:1,fontSize:"0.5rem"}})},children:o.jsx(j,{variant:"body2",children:t("Style")})})}),o.jsx(Yt,{children:o.jsx(Jt,{slots:{stepIcon:()=>o.jsx(ce,{color:"primary",sx:{ml:1,fontSize:"0.5rem"}})},children:o.jsx(j,{variant:"body2",children:t("Knowledge")})})}),o.jsx(Yt,{children:o.jsx(Jt,{slots:{stepIcon:()=>o.jsx(ce,{color:"primary",sx:{ml:1,fontSize:"0.5rem"}})},children:o.jsx(j,{variant:"body2",children:t("Album")})})}),o.jsx(Yt,{children:o.jsx(Jt,{slots:{stepIcon:()=>o.jsx($i,{color:"primary"})},children:o.jsxs(E,{children:[o.jsx(j,{variant:"subtitle1",children:t("Set character backend")}),o.jsx(j,{variant:"caption",color:"text.secondary",children:t("The character can connect to different backends")})]})})}),o.jsx(Yt,{children:o.jsx(Jt,{slots:{stepIcon:()=>o.jsx(ce,{color:"primary",sx:{ml:1,fontSize:"0.5rem"}})},children:o.jsx(j,{variant:"body2",children:t("History messages")})})}),o.jsx(Yt,{children:o.jsx(Jt,{slots:{stepIcon:()=>o.jsx(ce,{color:"primary",sx:{ml:1,fontSize:"0.5rem"}})},children:o.jsx(j,{variant:"body2",children:t("Long term memory")})})}),o.jsx(Yt,{children:o.jsx(Jt,{slots:{stepIcon:()=>o.jsx(ce,{color:"primary",sx:{ml:1,fontSize:"0.5rem"}})},children:o.jsx(j,{variant:"body2",children:t("Quota limit")})})}),o.jsx(Yt,{children:o.jsx(Jt,{slots:{stepIcon:()=>o.jsx(ce,{color:"primary",sx:{ml:1,fontSize:"0.5rem"}})},children:o.jsx(j,{variant:"body2",children:t("Model parameters")})})}),o.jsx(Yt,{children:o.jsx(Jt,{slots:{stepIcon:()=>o.jsx(ce,{color:"primary",sx:{ml:1,fontSize:"0.5rem"}})},children:o.jsx(j,{variant:"body2",children:t("Select tools")})})}),o.jsx(Yt,{children:o.jsx(Jt,{slots:{stepIcon:()=>o.jsx(ce,{color:"primary",sx:{ml:1,fontSize:"0.5rem"}})},children:o.jsx(j,{variant:"body2",children:t("Moderation model")})})}),o.jsx(Yt,{children:o.jsx(Jt,{slots:{stepIcon:()=>o.jsx(ce,{color:"primary",sx:{ml:1,fontSize:"0.5rem"}})},children:o.jsx(j,{variant:"body2",children:t("Prompt template")})})}),o.jsx(Yt,{children:o.jsx(Jt,{slots:{stepIcon:()=>o.jsx(ce,{color:"primary",sx:{ml:1,fontSize:"0.5rem"}})},children:o.jsx(j,{variant:"body2",children:t("Preset memory")})})}),o.jsx(Yt,{children:o.jsx(Jt,{slots:{stepIcon:()=>o.jsx($i,{color:"primary"})},children:o.jsx(j,{variant:"subtitle1",children:t("Set another backend")})})}),o.jsx(Yt,{children:o.jsx(Jt,{slots:{stepIcon:()=>o.jsx(ce,{color:"primary",sx:{ml:1,fontSize:"0.5rem"}})},children:o.jsx(j,{variant:"body2",children:"..."})})})]})})}async function vo(p){const t=document.createElement("a");t.href=`/api/v2/character/export/${p}`,document.body.appendChild(t),t.click(),document.body.removeChild(t)}function vd({id:p}){const t=ke(),{t:e,i18n:a}=bt(["character","account","button"]),{accountApi:s,promptApi:r,promptTaskApi:i,characterApi:n,chatApi:c}=Dt(),{handleError:l}=zt(),{username:u}=de(),[f,y]=m.useState(new da),[b,k]=m.useState(null),[z,R]=m.useState(!1),[N,M]=m.useState(),[O,q]=m.useState(""),[C,K]=m.useState(),[W,Q]=m.useState(),[U,J]=m.useState(),[L,v]=m.useState(),[F,B]=m.useState("other"),[Y,D]=m.useState("English"),[X,lt]=m.useState(),[et,nt]=m.useState(),[$,at]=m.useState(),[Z,ct]=m.useState(),[wt,Pt]=m.useState(),[tt,H]=m.useState(),[_,It]=m.useState([]),[st,Wt]=m.useState(),[ht,Ct]=m.useState(),[Ft,ue]=m.useState([]),[ae,ie]=m.useState(!1),Oa=m.useRef(""),aa=m.useRef(null);m.useEffect(()=>{p&&(n==null||n.getCharacterDetails(p).then(y).catch(l))},[l,p,n]),m.useEffect(()=>{if(f){if(f.username!==u)return;let V={};if(f.draft)try{V=JSON.parse(f.draft)??{}}catch{console.log(`[WARNING] Invalid draft content: ${f.draft}`)}const rt={...f,...V};Oa.current=rt.name??"",M(rt.characterUid),q(rt.name??""),K(rt.nickname),Q(rt.description),J(rt.avatar),v(rt.picture),B(rt.gender??"other"),D(rt.lang??"English"),lt(rt.profile),nt(rt.greeting),at(rt.chatStyle),ct(rt.chatExample),Pt(rt.defaultScene),H(rt.visibility??"private"),It(rt.tags??[]),ie(!0)}},[f,u]),m.useEffect(()=>{ht&&aa.current&&aa.current.scrollIntoView({behavior:"smooth"})},[ht]);function pe(){z||(b&&b!==O?b===Oa.current?(q(b),k(null)):n==null||n.existsCharacterName(b).then(V=>{V?R(!0):(q(b),k(null))}).catch(l):(R(!1),k(null)))}function ia(V){_&&It(_.filter(rt=>V!==rt))}function We(V){V&&V.preventDefault(),_&&st&&!_.includes(st)&&It([..._,st]),Wt(void 0)}function ra(V,rt){p&&fr(V,100*1024).then(pt=>{const jt=new File([pt.blob],rt);N&&(n==null||n.uploadCharacterAvatar(N,jt).then(Tt=>J(Tt)).catch(l))}).catch(l)}function Da(){if(!p)return;const V=qe();V.characterId=void 0,V.draft=void 0;const rt=new Le;rt.draft=JSON.stringify(V),n==null||n.updateCharacter(p,rt).then(pt=>{pt&&(n==null||n.getCharacterDetails(p).then(y).catch(l))}).catch(l)}function na(){if(!p)return;const V=(jt,Tt,He,xe)=>{n==null||n.publishCharacter(jt,Tt).then(()=>{c==null||c.getDefaultChatId(N).then(qt=>{t(`/w/chat/${qt}/debug`)}).catch(()=>{s==null||s.getUserDetails().then(qt=>{const he=new Ue;he.userNickname=qt.nickname??qt.username,he.userProfile=qt.profile,he.characterNickname=He,he.characterUid=N,he.about=xe,c.startChat(he).then(Ee=>{t(`/w/chat/${Ee}/debug`)}).catch(l)}).catch(l)})}).catch(l)},rt=qe(),pt=Ua(rt);n==null||n.updateCharacter(p,pt).then(jt=>{jt&&(n==null||n.getCharacterDetails(p).then(Tt=>{y(Tt),V(rt.characterId,rt.visibility==="private"?"private":"public",rt.nickname??rt.name??"",rt.defaultScene)}).catch(l))}).catch(l)}function Oi(){p&&(ie(!1),vo(p).catch(l).finally(()=>ie(!0)))}function Ua(V){const rt=new Le;return rt.nickname=V.nickname,rt.description=V.description,rt.avatar=V.avatar,rt.picture=V.picture,rt.gender=V.gender,rt.lang=V.lang,rt.profile=V.profile,rt.greeting=V.greeting,rt.chatStyle=V.chatStyle,rt.chatExample=V.chatExample,rt.defaultScene=V.defaultScene,rt.name=V.name??`untitiled-${bo(new Date)}`,rt.draft="",rt.tags=V.tags,rt.visibility=V.visibility==="private"?"private":"public",rt}function oa(V,rt){rt.length===0&&(V.isDefault=!0),Ct(V),ue(rt)}function Re(V,rt,pt,jt){const Tt=new ja;Tt.chatPromptTaskId=V.chatPromptTaskId,Tt.greetingPromptTaskId=V.greetingPromptTaskId,Tt.isDefault=V.isDefault,Tt.messageWindowSize=V.messageWindowSize,Tt.longTermMemoryWindowSize=V.longTermMemoryWindowSize,Tt.proactiveChatWaitingTime=V.proactiveChatWaitingTime,Tt.moderationApiKeyName=V.moderationApiKeyName,Tt.moderationModelId=V.moderationModelId,Tt.moderationParams=V.moderationParams,Tt.quotaType=V.quotaType,Tt.initQuota=V.initQuota,Tt.enableAlbumTool=V.enableAlbumTool,Tt.enableTts=V.enableTts,Tt.ttsSpeakerIdx=V.ttsSpeakerIdx,Tt.ttsSpeakerWav=V.ttsSpeakerWav,Tt.ttsSpeakerType=V.ttsSpeakerType;const He=(xe,qt)=>{xe?n==null||n.updateCharacterBackend(xe,qt).then(()=>{pt&&qt.chatPromptTaskId?qa(qt.chatPromptTaskId,jt):(ue(he=>[...he.filter(xa=>xa.backendId!==xe),{...V,backendId:xe,chatPromptTaskId:qt.chatPromptTaskId}]),Ct(void 0))}).catch(l):N&&(n==null||n.addCharacterBackend(N,qt).then(he=>{pt&&qt.chatPromptTaskId?qa(qt.chatPromptTaskId,jt):(ue(Ee=>[...Ee,{...V,backendId:he,chatPromptTaskId:qt.chatPromptTaskId}]),Ct(void 0))}))};if(V.chatPromptTaskId)rt?i==null||i.updatePromptTask(V.chatPromptTaskId,rt).then(()=>He(V.backendId,Tt)).catch(l):He(V.backendId,Tt);else{const xe=_l(O,Y);r==null||r.newPromptName(O??"untitled").then(qt=>{xe.name=qt,r==null||r.createPrompt(xe).then(he=>{const Ee=new Ra;Ee.promptId=he;const xa=rt??new ba;xa.promptRef=Ee,i==null||i.createPromptTask(xa).then(xr=>{Tt.chatPromptTaskId=xr,He(V.backendId,Tt)}).catch(l)}).catch(l)}).catch(l)}}function qe(){const V=new da;return V.characterId=p,V.name=O??"",V.nickname=C,V.description=W,V.avatar=U,V.picture=L,V.gender=F,V.lang=Y,V.profile=X,V.greeting=et,V.chatStyle=$,V.chatExample=Z,V.defaultScene=wt,V.visibility=tt,V.tags=[..._],V.characterUid=f.characterUid,V}function Be(){if(f.username!==u)return!1;let V={};if(f.draft)try{V=JSON.parse(f.draft)??{}}catch{console.log(`[WARNING] Invalid draft content: ${f.draft}`)}const rt={...f,...V};return Ut(rt.name??"",O)&&Ut(rt.nickname,C)&&Ut(rt.description,W)&&Ut(rt.avatar,U)&&Ut(rt.picture,L)&&Ut(rt.gender??"other",F)&&Ut(rt.lang??"English",Y)&&Ut(rt.profile,X)&&Ut(rt.greeting,et)&&Ut(rt.chatStyle,$)&&Ut(rt.chatExample,Z)&&Ut(rt.defaultScene,wt)&&Ut(rt.visibility??"private",tt)&&Ut(rt.tags??[],_)}function qa(V,rt){const pt=qe();pt.characterId=void 0,pt.draft=void 0;const jt=new Le;jt.draft=JSON.stringify(pt),n==null||n.updateCharacter(p,jt).finally(()=>t(`/w/prompt/task/edit/${V}${rt??""}`))}return o.jsxs(o.Fragment,{children:[o.jsx(gt,{}),o.jsxs(E,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"flex-end"},gap:{xs:1,sm:2},justifyContent:"flex-end"},children:[o.jsxs(it,{sx:{alignItems:"center",flex:1},children:[o.jsx(j,{variant:"h4",children:O}),o.jsx(ot,{disabled:!!b,size:"small",onClick:()=>k(O||"untitled"),children:o.jsx(Ei,{fontSize:"small"})})]}),o.jsxs(j,{variant:"body2",children:[e("Updated on")," ",ea((f==null?void 0:f.gmtModified)||new Date(0),a.language,!0)]}),o.jsxs(Fa,{size:"small",variant:"contained",sx:{borderRadius:"16px",mb:.5,mr:2},children:[o.jsx(Rt,{disabled:Be()||tt==="hidden"||!ae,startIcon:Be()?o.jsx(Za,{}):o.jsx(Qe,{}),onClick:Da,sx:{borderRadius:"16px"},children:e("button:Save")}),o.jsx(Rt,{disabled:!ae,startIcon:o.jsx(Qr,{}),onClick:na,sx:{borderRadius:"16px"},children:e("button:Publish")}),o.jsx(Rt,{disabled:!ae,startIcon:o.jsx(qn,{}),onClick:Oi,sx:{borderRadius:"16px"},children:e("button:Export")})]})]}),o.jsx(ut,{}),o.jsxs(it,{sx:{alignItems:"flex-start"},children:[o.jsxs(dt,{spacing:3,sx:{minWidth:{sm:"16rem"},my:2,flex:1},children:[o.jsxs(Ht,{sx:{gap:2},children:[o.jsx(j,{variant:"h6",color:"primary",children:e("Public")}),o.jsx(kt,{checked:tt==="public"||tt==="hidden",color:"success",onChange:V=>V.target.checked?H("public"):H("private")})]}),o.jsxs(dt,{spacing:1,sx:{minWidth:{sm:"12rem"}},children:[o.jsxs(Ht,{children:[o.jsx(j,{variant:"h6",color:"primary",children:e("Description")}),o.jsx(yt,{placement:"right",title:e("Supports markdown format"),children:o.jsx(At,{})})]}),o.jsx(te,{name:"info-description",minRows:3,value:W,onChange:V=>Q(V.target.value)})]}),o.jsx(gt,{}),o.jsxs(Ht,{children:[o.jsx(j,{variant:"h6",color:"primary",children:e("Tags")}),(!_||_.length<5)&&st===void 0&&o.jsx(ot,{size:"small",color:"primary",onClick:()=>Wt(""),children:o.jsx(Ae,{})}),st!==void 0&&o.jsx("form",{onSubmit:We,children:o.jsx(ft,{autoFocus:!0,type:"text",value:st,onChange:V=>Wt(V.target.value),onBlur:()=>We(void 0),slotProps:{input:{size:"small",sx:{fontSize:"small"},endAdornment:o.jsx(Ze,{position:"end",children:o.jsx(_a,{fontSize:"small"})})}}})})]}),o.jsx(Ht,{children:_.length>0&&_.map((V,rt)=>o.jsx(vt,{variant:"outlined",color:"success",onDelete:()=>ia(V),label:V},`tag-${V}-${rt}`))}),o.jsx(ut,{children:e("Character's information, significantly influences chat feedback")}),o.jsxs(ee,{spacing:2,sx:{"&:hover, &:focus-within":{transform:"none"}},children:[o.jsxs(dt,{direction:"row",spacing:3,sx:{display:"flex",my:1},children:[o.jsxs(E,{sx:{flex:1,display:"grid",gridTemplateColumns:"auto 1fr",gap:1,alignItems:"center"},children:[o.jsx(Ne,{children:e("account:Nickname")}),o.jsx(ve,{disabled:!ae,name:"nickname",value:C||"",onChange:V=>K(V.target.value||void 0),size:"small"}),o.jsx(Ne,{children:e("account:Gender")}),o.jsxs(lr,{name:"genderGroup",row:!0,value:F,onChange:V=>B(V.target.value),sx:{my:1},children:[o.jsx(ca,{value:"male",control:o.jsx(Oe,{disabled:!ae}),label:e("account:Male")}),o.jsx(ca,{value:"female",control:o.jsx(Oe,{disabled:!ae}),label:e("account:Female")}),o.jsx(ca,{value:"other",control:o.jsx(Oe,{disabled:!ae}),label:e("account:Other")})]}),o.jsx(Ne,{children:e("Language")}),o.jsx(Zt,{sx:{flex:1},size:"small",children:o.jsx(Ba,{size:"small",value:Y,onChange:V=>D(V.target.value),sx:{mr:"auto"},children:Object.keys(Je).map(V=>o.jsx(Me,{value:V,children:Je[V]},`locale-${V}`))})})]}),o.jsxs(dt,{direction:"column",spacing:1,sx:{minWidth:120,position:"relative"},children:[o.jsx(E,{sx:{position:"relative",width:"100%",paddingBottom:"100%",borderRadius:"50%",overflow:"hidden"},children:o.jsx(fa,{src:U,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}})}),o.jsx(gr,{onImageSelect:ra,previewProps:{maxWidth:"200px",maxHeight:"200px",borderRadius:"50%"},disabled:!ae,sx:{backgroundColor:"background.paper",position:"absolute",zIndex:2,borderRadius:"50%",right:5,top:85,boxShadow:1,"&:hover, &:focus-within":{backgroundColor:"background.paper"}}},"avatar-picker")]})]}),o.jsx(Ne,{children:e("Profile")}),o.jsx(te,{name:"info-profile",minRows:3,value:X,onChange:V=>lt(V.target.value)}),o.jsx(Ne,{children:e("Chat Style")}),o.jsx(te,{name:"info-chat-style",minRows:1,value:$||"",onChange:V=>at(V.target.value||void 0)}),o.jsx(Ne,{children:e("Chat Example")}),o.jsx(te,{name:"info-chat-example",minRows:3,value:Z||"",onChange:V=>ct(V.target.value||void 0)}),o.jsxs(Ht,{children:[o.jsx(Ne,{children:e("Default Scene")}),o.jsx(yt,{placement:"right",title:e("The default scene will be set as the default conversation background information when creating a new chat."),children:o.jsx(At,{})})]}),o.jsx(te,{name:"info-default-scene",minRows:1,value:wt||"",onChange:V=>Pt(V.target.value||void 0)}),o.jsx(Ne,{children:e("Greeting")}),o.jsx(te,{name:"info-greeting",minRows:1,value:et||"",onChange:V=>nt(V.target.value||void 0)})]}),o.jsx(gt,{}),o.jsx(ee,{sx:{"&:hover, &:focus-within":{transform:"none"}},children:o.jsx(Bd,{characterUid:N,editMode:!0})}),o.jsx(gt,{}),o.jsx(ee,{sx:{"&:hover, &:focus-within":{transform:"none"}},children:o.jsx(jd,{characterUid:N,defaultBackends:Ft,editMode:!0,onEdit:oa})}),o.jsx(gt,{}),o.jsxs(Ht,{children:[o.jsx(Ne,{sx:{mr:0},children:e("Album")}),o.jsx(yt,{placement:"right",title:e("Maximum of 10 pictures are allowed, one of which can be selected as the chat background"),children:o.jsx(At,{})})]}),o.jsx(Hd,{characterUid:N,picture:L,setPicture:v}),o.jsx(gt,{})]}),ht?o.jsx(jo,{ref:aa,backend:{...ht},onSave:Re,onCancel:()=>Ct(void 0),sx:{width:{xs:"100%",sm:"24rem"}}}):o.jsx(Td,{sx:{display:{xs:"none",md:"inherit"},width:"24rem"}})]}),o.jsx(Qt,{open:b!==null,onClose:()=>k(null),dialog:{title:e("Please enter a new name")},button:{text:e("button:Save"),startIcon:o.jsx(Qe,{})},onConfirm:pe,children:o.jsxs(Zt,{error:z,children:[o.jsx(ve,{name:"RecordName",value:b??"",onChange:V=>{k(V.target.value),R(!1)},size:"small"}),z&&o.jsxs(Aa,{children:[o.jsx(cr,{}),e("Name already exists!")]})]})}),o.jsx(nn,{when:!Be(),message:e("You may have unsaved changes. Are you sure you want to leave?")})]})}function jd({characterUid:p,defaultBackends:t=[],editMode:e=!1,sx:a,onEdit:s}){const r=ke(),{t:i}=bt(["character","button"]),{characterApi:n,promptTaskApi:c}=Dt(),{handleError:l}=zt(),[u,f]=m.useState(t??[]),[y,b]=m.useState(""),k=m.useCallback(()=>{p&&(n==null||n.listCharacterBackends(p).then(f).catch(l))},[n,l,p]);m.useEffect(()=>{k()},[k]),m.useEffect(()=>{f(t)},[t]);function z(O){O!=null&&O.chatPromptTaskId&&r(`/w/prompt/task/${O.chatPromptTaskId}`)}function R(O){if(O){const q=u.find(C=>C.backendId===O);q!=null&&q.chatPromptTaskId&&(c==null||c.deletePromptTask(q.chatPromptTaskId)),n==null||n.removeCharacterBackend(O).then(()=>k()).catch(l)}b("")}function N(O){O&&b(O)}function M(O){O&&(n==null||n.setDefaultCharacterBackend(O).then(()=>k()).catch(l))}return o.jsxs(dt,{spacing:3,sx:{...a},children:[o.jsxs(Ht,{children:[o.jsx(j,{variant:"subtitle1",children:i("Character backends: (maximum of 3 backends allowed)")}),e&&o.jsx(ot,{disabled:u.length>=5,color:"primary",onClick:()=>s==null?void 0:s(new ya,[...u]),children:o.jsx(Ae,{})})]}),o.jsx(Ya,{sx:{display:u.length>0?"block":"none"},children:o.jsxs(Ta,{size:"small",children:[o.jsx(Ja,{children:o.jsxs(je,{children:[o.jsx(xt,{width:"2%",sx:{fontWeight:"bold"},children:"#"}),o.jsx(xt,{sx:{fontWeight:"bold"},children:i("Creation Time")}),o.jsx(xt,{sx:{fontWeight:"bold"},children:i("Message Window")}),o.jsx(xt,{sx:{fontWeight:"bold"},children:i("Moderation Model")}),o.jsx(xt,{sx:{fontWeight:"bold"},children:i("As Default")}),o.jsx(xt,{width:"25%",sx:{fontWeight:"bold"},children:i("Actions")})]})}),o.jsx(Xa,{children:u.map((O,q)=>o.jsxs(je,{children:[o.jsx(xt,{children:q}),o.jsx(xt,{children:la(O.gmtCreate)}),o.jsx(xt,{children:O.messageWindowSize}),o.jsx(xt,{children:O.moderationModelId}),o.jsx(xt,{children:o.jsx(Oe,{disabled:!e,value:O.backendId,checked:O.isDefault,name:"backend-default",onChange:C=>M(C.target.value)})}),o.jsxs(xt,{children:[o.jsx(ot,{disabled:!O.chatPromptTaskId,onClick:()=>z(O),children:o.jsx(sr,{fontSize:"small"})}),e&&o.jsxs(m.Fragment,{children:[o.jsx(ot,{onClick:()=>s==null?void 0:s({...O},[...u]),children:o.jsx(Ei,{fontSize:"small"})}),o.jsx(ot,{onClick:()=>N(O.backendId),children:o.jsx(or,{fontSize:"small"})})]})]})]},`backend-${O.backendId??q}`))})]})}),o.jsx(Qt,{open:!!y,onClose:()=>b(""),obj:y,dialog:{color:"error",title:i("Do you really want to delete this character backend?")},button:{color:"error",text:i("button:Delete"),startIcon:o.jsx(_e,{})},onConfirm:R,children:o.jsx(ma,{})})]})}const kd=1*1024*1024;let fn=0;const jo=m.forwardRef((p,t)=>{const{t:e}=bt("character"),{aiServiceApi:a,characterApi:s,promptTaskApi:r,ttsServiceApi:i,serverUrl:n}=Dt(),{handleError:c}=zt(),{backend:l,onSave:u,onCancel:f,sx:y,...b}=p,[k,z]=m.useState((l==null?void 0:l.messageWindowSize)??50),[R,N]=m.useState((l==null?void 0:l.longTermMemoryWindowSize)??5),[M,O]=m.useState((l==null?void 0:l.proactiveChatWaitingTime)??2),[q,C]=m.useState((l==null?void 0:l.initQuota)??0),[K,W]=m.useState((l==null?void 0:l.quotaType)==="tokens"?l==null?void 0:l.quotaType:"messages"),[Q,U]=m.useState((l==null?void 0:l.quotaType)==="messages"||(l==null?void 0:l.quotaType)==="tokens"),[J,L]=m.useState((l==null?void 0:l.enableAlbumTool)??!1),[v,F]=m.useState((l==null?void 0:l.enableTts)??!1),[B,Y]=m.useState([]),[D,X]=m.useState(l==null?void 0:l.ttsSpeakerIdx),[lt,et]=m.useState(l==null?void 0:l.ttsSpeakerWav),[nt,$]=m.useState((l==null?void 0:l.ttsSpeakerType)??"idx"),[at,Z]=m.useState(!1),[ct,wt]=m.useState(!1),Pt=m.useRef(`voice-file-upload-input-${fn}`).current,tt=m.useRef(null),[H,_]=m.useState(!1),It=m.useRef(Array(2).fill(m.createRef())),[st,Wt]=m.useState(),[ht,Ct]=m.useState("open_ai"),[Ft,ue]=m.useState(""),[ae,ie]=m.useState(""),[Oa,aa]=m.useState([]),[pe,ia]=m.useState({}),[We,ra]=m.useState(!1),[Da,na]=m.useState(!1),Oi=[{label:"Messages",value:"messages"},{label:"Tokens",value:"tokens"}];m.useEffect(()=>{fn++},[]),m.useEffect(()=>{i==null||i.listTtsBuiltinSpeakers().then(pt=>{Y(pt)}).catch(c)},[i,c]),m.useEffect(()=>{l!=null&&l.chatPromptTaskId&&(r==null||r.getPromptTask(l==null?void 0:l.chatPromptTaskId).then(Wt).catch(c)),C((l==null?void 0:l.initQuota)??0),W((l==null?void 0:l.quotaType)==="tokens"?l==null?void 0:l.quotaType:"messages"),U((l==null?void 0:l.quotaType)==="messages"||(l==null?void 0:l.quotaType)==="tokens"),L((l==null?void 0:l.enableAlbumTool)??!1),F((l==null?void 0:l.enableTts)??!1),X(l==null?void 0:l.ttsSpeakerIdx),et(l==null?void 0:l.ttsSpeakerWav),$((l==null?void 0:l.ttsSpeakerType)??"idx")},[l,c,r]),m.useEffect(()=>{a==null||a.listAiApiKeys(ht).then(pt=>aa(pt.filter(jt=>!!jt.name&&jt.enabled).map(jt=>jt.name))).catch(c)},[a,c,ht]),m.useEffect(()=>{Ct(Vt(st==null?void 0:st.modelId)??"open_ai"),ue((st==null?void 0:st.apiKeyName)??""),ie((st==null?void 0:st.apiKeyValue)??""),ia({...st==null?void 0:st.params,modelId:st==null?void 0:st.modelId})},[st]);function Ua(pt,jt){jt&&jt!==ht&&Ct(jt)}function oa(pt){ia(pt),ra(!1)}function Re(pt){if(!(l!=null&&l.backendId)||!s)return;const jt=pt.target.files&&pt.target.files[0];jt?jt.size>kd?wt(!0):(wt(!1),Z(!0),s.uploadCharacterVoice(l==null?void 0:l.backendId,jt).then(et).catch(c).finally(()=>Z(!1))):wt(!1)}function qe(){et(pt=>{pt&&(l!=null&&l.backendId)&&s&&(Z(!0),s.deleteCharacterVoice(l.backendId,pt).finally(()=>Z(!1)))})}function Be(){tt.current&&tt.current.click()}function qa(pt){return pt&&n+pt}function V(){if(v){const pt=nt==="idx"?D:lt,jt=nt==="idx"?0:1,Tt=`/api/v2/public/tts/play/sample/${nt}/${encodeURIComponent(pt??"")}`;It.current[jt].current&&(_(!0),It.current[jt].current.src=qa(Tt),It.current[jt].current.onerror=()=>_(!1),It.current[jt].current.onended=()=>_(!1),It.current[jt].current.play().catch(He=>{_(!1),c(He)}))}}function rt(pt=!1,jt){let Tt;l?Tt={...l,messageWindowSize:k,longTermMemoryWindowSize:R,proactiveChatWaitingTime:M,enableAlbumTool:J,enableTts:v,ttsSpeakerIdx:D,ttsSpeakerWav:lt,ttsSpeakerType:nt}:(Tt=new ya,Tt.messageWindowSize=k,Tt.longTermMemoryWindowSize=R,Tt.proactiveChatWaitingTime=M,Tt.enableAlbumTool=J,Tt.enableTts=v,Tt.ttsSpeakerIdx=D,Tt.ttsSpeakerWav=lt,Tt.ttsSpeakerType=nt),Q&&(Tt.quotaType=K,Tt.initQuota=q*(K==="tokens"?1e3:1));const{modelId:He,...xe}=pe,qt=new ba;qt.apiKeyName=Ft,qt.apiKeyValue=ae,qt.modelId=He,qt.params=xe,u==null||u(Tt,qt,pt,jt)}return o.jsxs(m.Fragment,{children:[o.jsxs(ee,{ref:t,sx:{"&:hover, &:focus-within":{transform:"none"},...y},...b,children:[o.jsxs(St,{children:[o.jsxs(it,{children:[o.jsx(j,{variant:"body2",children:e("Message Window")}),o.jsx(yt,{title:e("Set the maximum number of historical messages sent to the model."),children:o.jsx(At,{})}),o.jsx(it,{sx:{ml:"auto"},children:o.jsx(ft,{type:"number",slotProps:{htmlInput:{min:10,max:500,step:10}},value:k,onChange:pt=>z(+pt.target.value)})})]}),o.jsx($t,{value:k,min:10,max:500,step:10,valueLabelDisplay:"auto",onChange:(pt,jt)=>z(jt)})]}),o.jsxs(St,{children:[o.jsxs(it,{children:[o.jsx(j,{variant:"body2",children:e("Long Term Memory Window")}),o.jsx(yt,{title:e("Set the maximum number of long term memory rounds (a round includes a user message and a character reply) sent to the model, 0 to disable. Recalled long-term memory messages will be placed at the top of the historical message window."),children:o.jsx(At,{})}),o.jsx(it,{sx:{ml:"auto"},children:o.jsx(ft,{type:"number",slotProps:{htmlInput:{min:0,max:30,step:5}},value:R,onChange:pt=>N(+pt.target.value)})})]}),o.jsx($t,{value:R,step:5,min:0,max:30,valueLabelDisplay:"auto",onChange:(pt,jt)=>N(jt)})]}),o.jsxs(St,{children:[o.jsxs(it,{children:[o.jsx(j,{variant:"body2",children:e("Proactive Chat Waiting Time")}),o.jsx(yt,{title:e("Set the number of minutes to wait before evoking a proactive message, 0 to disable."),children:o.jsx(At,{})}),o.jsx(it,{sx:{ml:"auto"},children:o.jsx(ft,{type:"number",slotProps:{htmlInput:{min:0,max:60,step:1}},value:M,onChange:pt=>O(+pt.target.value)})})]}),o.jsx($t,{value:M,step:1,min:0,max:60,valueLabelDisplay:"auto",onChange:(pt,jt)=>O(jt)})]}),o.jsxs(St,{children:[o.jsxs(it,{children:[o.jsx(j,{variant:"body2",children:e("Quota Limit")}),o.jsx(yt,{title:e("After reaching the quota limit, users need to use their own API-Key to continue chatting."),children:o.jsx(At,{})}),o.jsx(kt,{checked:Q,sx:{ml:"auto"},onChange:()=>U(!Q)})]}),o.jsxs(it,{children:[o.jsx(Fa,{disabled:!Q,size:"small",variant:"contained",sx:{border:0,boxShadow:0,borderRadius:2},children:Oi.map(pt=>o.jsx(Rt,{value:pt.value,color:"info",onClick:()=>W(pt.value),size:"small",sx:{fontSize:"0.6rem",borderRadius:2,color:K===pt.value?"text.default":"GrayText",backgroundColor:K===pt.value?"primary":"transparent"},children:pt.label},`quota-type-${pt.value}`))}),o.jsxs(it,{sx:{ml:"auto",justifyContent:"space-between"},children:[o.jsx(ft,{disabled:!Q,type:"number",slotProps:{htmlInput:{min:0,max:1e4,step:10}},value:q,onChange:pt=>C(+pt.target.value)}),o.jsx(j,{sx:{display:K==="tokens"?"block":"none"},children:"K"})]})]})]}),o.jsx(St,{children:o.jsxs(Pe,{children:[o.jsx(j,{variant:"body2",children:e("Model")}),o.jsx(Zt,{sx:{flex:1},size:"small",children:o.jsx(Ba,{value:ht,onChange:pt=>Ua(null,pt.target.value),displayEmpty:!0,sx:{flex:1},children:La.map(pt=>o.jsx(Me,{value:pt.provider,children:pt.label},`options-${pt.provider}`))})}),o.jsx(j,{variant:"body2",children:" "}),o.jsxs(it,{sx:{mt:2,justifyContent:"space-between"},children:[o.jsx(Rt,{size:"small",variant:"outlined",color:Ft||ae?"inherit":"error",disabled:!Rr(ht),startIcon:o.jsx(Fi,{}),onClick:()=>na(!0),children:e("API Key")}),o.jsx(Rt,{size:"small",variant:"outlined",color:pe!=null&&pe.modelId?"primary":"error",disabled:!ht,startIcon:o.jsx(Zi,{}),onClick:()=>ra(!0),children:e("button:Tune")})]})]})}),o.jsxs(St,{children:[o.jsxs(it,{children:[o.jsx(j,{variant:"body2",children:e("Enable TTS")}),o.jsx(yt,{title:e("Enable characters to read replies."),children:o.jsx(At,{})}),o.jsx(kt,{checked:v,sx:{ml:"auto"},onChange:()=>F(!v)})]}),o.jsxs(lr,{name:"ttsSpeakerType",value:nt,onChange:pt=>$(pt.target.value),sx:{mt:2},children:[o.jsxs(Pe,{sx:{gridTemplateColumns:"1fr 5fr auto"},children:[o.jsx(Oe,{value:"idx",disabled:!v}),o.jsxs(Zt,{size:"small",children:[o.jsx(zn,{id:"builtin-voice-label",children:e("Builtin Voice")}),o.jsx(Ba,{label:e("Builtin Voice"),value:D,onChange:pt=>X(pt.target.value),disabled:!v||nt!=="idx",sx:{flex:1,maxWidth:"12rem"},children:B.map(pt=>o.jsx(Me,{value:pt,children:o.jsx(j,{variant:"body2",children:pt})},`tts-speaker-${pt}`))})]}),H&&nt==="idx"?o.jsx(Ht,{children:o.jsx(E,{sx:{ml:"auto"},children:o.jsx(Ea,{size:"small"})})}):o.jsx(ot,{disabled:at||!v||nt!=="idx",size:"small",onClick:V,sx:{ml:"auto"},children:o.jsx(kr,{})}),o.jsx("audio",{ref:It.current[1]}),o.jsx(Oe,{value:"wav",disabled:!v}),o.jsxs(Ht,{children:[o.jsx(we,{sx:{alignSelf:"center"},children:e("Custom Voice")}),o.jsx(yt,{title:e("MP3 format, about 5 seconds, size less than 1M."),children:o.jsx(At,{})})]}),o.jsxs(Ht,{children:[o.jsx(ve,{disabled:at||!v||nt!=="wav",type:"file",id:Pt,onChange:Re,sx:{display:"none"},slotProps:{htmlInput:{ref:tt,accept:"audio/mp3, .mp3"}}}),o.jsx("label",{htmlFor:Pt,children:o.jsx(ot,{onClick:Be,disabled:at||!v||nt!=="wav",children:o.jsx(xs,{})})}),o.jsx(Aa,{sx:{display:ct?"unset":"none"},children:e("File too large!")})]})]}),o.jsxs(Pe,{sx:{gridTemplateColumns:"1fr 5fr auto"},children:[o.jsx(Ht,{sx:{flex:1,flexWrap:"nowrap"}}),lt&&o.jsxs(m.Fragment,{children:[o.jsx(vt,{disabled:!v||nt!=="wav",variant:"outlined",color:"success",onDelete:qe,label:o.jsx(j,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"10rem"},children:lt})}),o.jsx(ot,{disabled:at||!v||nt!=="wav",size:"small",onClick:V,sx:{display:H&&nt==="wav"?"none":"flex",ml:"auto"},children:o.jsx(kr,{})}),o.jsx(E,{sx:{display:H&&nt==="wav"?"flex":"none",ml:"auto"},children:o.jsx(Ea,{size:"small"})})]}),o.jsx("audio",{ref:It.current[0]})]})]})]}),o.jsx(St,{children:o.jsxs(it,{children:[o.jsx(j,{variant:"body2",children:e("Enable Album Tool")}),o.jsx(yt,{title:e("If the user wants to see photos during a chat, select one from the album to display."),children:o.jsx(At,{})}),o.jsx(kt,{checked:J,sx:{ml:"auto"},onChange:()=>L(!J)})]})}),o.jsx(St,{children:o.jsxs(it,{children:[o.jsx(j,{variant:"body2",children:e("Moderation Model")}),o.jsx(yt,{title:e("Set up the moderation model."),children:o.jsx(ot,{disabled:!0,children:o.jsx(Zi,{})})}),o.jsx(kt,{checked:!1,disabled:!0,sx:{ml:"auto"}})]})}),o.jsxs(St,{children:[o.jsxs(it,{children:[o.jsx(j,{variant:"body2",children:e("Prompt Template")}),o.jsx(yt,{title:e("Adjust prompt words."),children:o.jsx(ot,{onClick:()=>rt(!0,"#system"),children:o.jsx(sn,{})})})]}),o.jsxs(it,{children:[o.jsx(j,{variant:"body2",children:e("Preset Memory")}),o.jsx(yt,{title:e("Adjust preset memory."),children:o.jsx(ot,{onClick:()=>rt(!0,"#messages"),children:o.jsx(sn,{})})})]})]}),o.jsx(gt,{}),o.jsxs(Ht,{sx:{justifyContent:"flex-end"},children:[o.jsx(ot,{onClick:()=>f==null?void 0:f(),children:o.jsx(Hn,{})}),o.jsx(ot,{onClick:()=>rt(!1),children:o.jsx(Bi,{})})]})]}),o.jsx(Co,{defaultKeyName:Ft,defaultKeyValue:ae,keyNames:Oa,open:Da,onClose:()=>na(!1),onConfirm:(pt,jt)=>{ue(pt??""),ie(jt??""),na(!1)}}),o.jsx(Ao,{open:We&&ht==="open_ai",onClose:oa,defaultParameters:pe}),o.jsx(Io,{open:We&&ht==="azure_open_ai",onClose:oa,defaultParameters:pe}),o.jsx(Po,{open:We&&ht==="dash_scope",onClose:oa,defaultParameters:pe}),o.jsx(To,{open:We&&ht==="ollama",onClose:oa,defaultParameters:pe})]})});jo.displayName="CharacterBackendSettings";const ko=m.forwardRef((p,t)=>{const{record:e,keyWord:a,sx:s,onClick:r}=p,{i18n:i}=bt(),{mode:n}=ir(),[c,l]=m.useState((e==null?void 0:e.tags)??[]),[u,f]=m.useState((e==null?void 0:e.nickname)??(e==null?void 0:e.name)),[y,b]=m.useState("");return m.useEffect(()=>{l((e==null?void 0:e.tags)??[]),f((e==null?void 0:e.nickname)??(e==null?void 0:e.name)),e.picture&&Dr(e.picture,n,.4).then(b)},[n,e]),o.jsx(Ge,{onClick:k=>{k.preventDefault(),r==null||r()},sx:{m:2,p:0,textDecoration:"none","&:hover, &:focus-within":{cursor:"pointer"}},children:o.jsxs(ee,{ref:t,spacing:1,sx:{...s,position:"relative",overflow:"hidden",backgroundImage:`url(${y})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundColor:"background.paper",m:0,gap:0},children:[o.jsxs(E,{sx:{...s,display:"flex",justifyContent:"flex-start",alignItems:"center",gap:2},children:[o.jsxs(E,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(fa,{alt:u,src:e.avatar,sx:{width:40,height:40}}),o.jsxs(Ht,{sx:{gap:0},children:[o.jsx($a,{highlight:a,variant:"h6",sx:{color:"text.primary",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"20rem"},children:u}),u!==e.name&&o.jsx($a,{highlight:a,variant:"caption",sx:{color:"text.secondary",mt:1},children:`@${e.name}`})]})]}),o.jsx(vt,{color:"success",variant:"outlined",size:"small",label:`v${e.version}`}),e.gender==="male"?o.jsx(Ss,{fontSize:"small",color:"info",sx:{ml:"auto",mr:2,opacity:.7}}):e.gender==="female"&&o.jsx(Cs,{fontSize:"small",color:"info",sx:{ml:"auto",mr:2,opacity:.8}})]}),o.jsx(ut,{sx:{mx:-2}}),o.jsx(Li,{highlight:a,sx:{color:"text.primary",...s},children:e.description}),o.jsx(ut,{}),c.length>0&&o.jsx(Ht,{children:c.map((k,z)=>o.jsx(vt,{variant:"filled",color:"success",label:k,size:"small",sx:{opacity:.9}},`tag-${k}-${z}`))}),c.length>0&&o.jsx(ut,{sx:{mx:-2}}),o.jsxs(E,{sx:{...s,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx(j,{variant:"body2",color:"text.secondary",children:ea(e.gmtModified||new Date(0),i.language)}),o.jsxs(Ht,{children:[o.jsx(vt,{size:"small",variant:"outlined",icon:o.jsx(nr,{}),label:e.viewCount}),o.jsx(vt,{size:"small",variant:"outlined",icon:o.jsx(Mn,{}),label:e.referCount})]})]})]})})});ko.displayName="CharacterGallery.RecordCard";function yn({all:p=!1}){const t=ke(),{setFrameScrollHandler:e}=Jr(),{isAuthorized:a}=de(),{accountApi:s,characterApi:r,chatApi:i,interactiveStatisticsApi:n}=Dt(),{handleError:c}=zt(),l=6,[u,f]=m.useState([]),[y,b]=m.useState(),[,k]=m.useState(0),[z,R]=m.useState(!1),[N,M]=m.useState(!1),[O,q]=m.useState(200),C=m.useRef(void 0),K=m.useCallback(()=>{const v=new ne;return v.where=new le,v.where.visibility="public",p||(v.where.highPriority=!1),v.pageSize=l,v.pageNum=0,v.orderBy=["viewCount","referCount","modifyTime"],v},[p]);m.useEffect(()=>{const v=F=>{const{scrollTop:B,scrollHeight:Y,clientHeight:D}=F;q(Y-B-D)};return e==null||e(()=>v),()=>{e==null||e(void 0)}},[e]),m.useEffect(()=>{if(!z&&!N&&O<200&&O>=0){if(N)return;k(F=>{const B=F+1;return b(Y=>{Y||(Y=K());const D=new ne;return D.where=Y.where,D.where||(D.where=new le,D.where.visibility="public",p||(D.where.highPriority=!1)),D.pageSize=Y.pageSize||l,D.orderBy=Y.orderBy,D.pageNum=B,D}),B})}},[z,N,O,K,p]),m.useEffect(()=>{if(N)return;const v=y||K();R(!0),r==null||r.searchPublicCharacterSummary(v).then(async F=>{if(F.length==0){M(!0);return}const B=[];await Promise.all(F.map(async Y=>{Y.characterUid&&await(n==null?void 0:n.getStatistics("character",Y.characterUid).then(D=>W(Y,D)).then(D=>B.push(D)).catch(c))})),f(Y=>{const D=B.filter(X=>!Y.map(lt=>lt.characterId).includes(X.characterId));return D&&D.length>0?Y.concat(D):Y})}).catch(c).finally(()=>R(!1))},[r,K,N,c,n,y]);function W(v,F){return{...{viewCount:0,referCount:0,recommendCount:0,scoreCount:0,score:0,...F},...v}}function Q(v){f([]),M(!1);const F=new le;F.text=v,F.visibility="public",p||(F.highPriority=!1);const B=new ne;B.where=F,B.pageSize=l,B.pageNum=0,B.orderBy=["viewCount","referCount","modifyTime"],C.current=v,k(0),b(B)}function U(v){f([]),M(!1);const F=new le;F.tags=[v],F.visibility="public",p||(F.highPriority=!1);const B=new ne;B.where=F,B.pageSize=l,B.pageNum=0,B.orderBy=["viewCount","referCount","modifyTime"],k(0),b(B)}function J(v){if(a()){if(!v.characterUid||!v.characterId)return}else{t("/w/login");return}n==null||n.increaseStatistic("character",v.characterUid,"view_count").finally(()=>{i==null||i.getDefaultChatId(v.characterUid).then(F=>{t(`/w/chat/${F}`)}).catch(()=>{s==null||s.getUserDetails().then(F=>{const B=new Ue;B.userNickname=F.nickname??F.username,B.userProfile=F.profile,B.characterNickname=v.nickname??v.name,B.characterUid=v.characterUid,B.about=v.defaultScene,i.startChat(B).then(Y=>{t(`/w/chat/${Y}`)}).catch(c)}).catch(c)})})}function L(v,F){if((v.priority??1)>(F.priority??1))return-1;if((v.priority??1)<(F.priority??1))return 1;if((v.viewCount??0)>(F.viewCount??0))return-1;if((v.viewCount??0)<(F.viewCount??0))return 1;if((v.referCount??0)>(F.referCount??0))return-1;if((v.referCount??0)<(F.referCount??0))return 1;const B=new Date;return(v.gmtModified??B)>(F.gmtModified??B)?-1:(v.gmtModified??B)<(F.gmtModified??B)?1:0}return o.jsxs(o.Fragment,{children:[o.jsx(gt,{}),o.jsxs(E,{sx:{display:"flex",alignItems:"flex-start",gap:3},children:[o.jsxs(dt,{sx:{flex:1},children:[o.jsx(wr,{onSearch:Q,sx:{mx:2}}),o.jsx(gt,{}),o.jsxs(E,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(auto-fill, minmax(320px, 1fr))"},gap:3},children:[u.sort(L).map((v,F)=>o.jsx(ko,{keyWord:C.current,record:v,onClick:()=>J(v)},`record-card-${v.characterId||F}`)),o.jsx(E,{sx:{display:z?"flex":"none",justifyContent:"center",mt:2,mb:{xs:"calc(10px + var(--Footer-height))",sm:2}},children:o.jsx(Ea,{})})]})]}),o.jsx(ut,{orientation:"vertical",flexItem:!0,sx:{display:{xs:"none",sm:"block"}}}),o.jsx(an,{infoType:"character",count:30,onTagClick:U,sx:{display:{xs:"none",sm:"flex"},width:"16rem"}})]})]})}function Hd({characterUid:p,picture:t,setPicture:e}){const{t:a}=bt("character"),{characterApi:s}=Dt(),{handleError:r}=zt(),i=10,n="140px",[c,l]=m.useState(null),[u,f]=m.useState(null),[y,b]=m.useState([]);m.useEffect(()=>{p&&(s==null||s.listCharacterPictures(p).then(b).catch(r))},[s,p,r]);function k(R){b(N=>[...N,R])}function z(R){if(!R)return;const N=yr(R);s==null||s.deleteCharacterPicture(N).then(()=>b(y.filter(M=>M!==R))).catch(r).finally(()=>f(null))}return o.jsxs(E,{sx:{display:"grid",gridTemplateColumns:`repeat(auto-fill, minmax(${n}, 1fr))`,gap:3,alignItems:"stretch"},children:[y.map(R=>o.jsx(Ho,{url:R,checked:R===t,onView:()=>l(R),onCheck:()=>e==null?void 0:e(R===t?"":R),onDelete:()=>f(R)},`picture-${R}`)),p&&y.length<i&&o.jsx(Wo,{characterUid:p,onUploaded:k,sx:{minHeight:n}},"picture-new"),o.jsx(cd,{src:c??"",open:!!c,setOpen:()=>l(null)}),o.jsx(Qt,{open:!!u,onClose:()=>f(null),obj:u,dialog:{color:"error",title:a("Do you really want to delete this picture?")},button:{color:"error",text:a("button:Delete"),startIcon:o.jsx(_e,{})},onConfirm:z,children:o.jsx(br,{src:u??""})})]})}const Wd=Lt("div")({position:"relative",width:"100%",paddingTop:"100%","& > img":{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}}),Ho=m.forwardRef((p,t)=>{const{url:e,checked:a=!1,sx:s,onView:r,onCheck:i,onDelete:n}=p,c={edit:a?Ps:As};return o.jsx(Bn,{onClick:()=>r(),sx:{...s,transition:"transform 0.4s, box-shadow 0.4s",boxShadow:1,borderRadius:"6px","&:hover":{boxShadow:3,transform:"translateY(-2px)"}},children:o.jsx(En,{sx:{p:0,"&:last-child":{pb:0}},children:o.jsxs(Wd,{ref:t,children:[o.jsx("img",{src:e,loading:"lazy"}),o.jsx(rn,{icons:c,onEdit:()=>i(),onDelete:()=>n()})]})})})});Ho.displayName="CharacterAlbumPicture";const Wo=m.forwardRef((p,t)=>{const{characterUid:e,sx:a,onUploaded:s}=p,{characterApi:r}=Dt(),{handleError:i}=zt();function n(c,l){fr(c,2*1024*1024).then(u=>{const f=new File([u.blob],l);r==null||r.uploadCharacterPicture(e,f).then(y=>s==null?void 0:s(y)).catch(i)}).catch(i)}return o.jsx(Bn,{ref:t,sx:{...a,display:"flex",justifyContent:"center",alignItems:"center",transition:"transform 0.4s, box-shadow 0.4s",boxShadow:1,borderRadius:"6px",border:1,borderColor:"divider",backgroundColor:"background.default","&:hover":{boxShadow:3,transform:"translateY(-2px)"}},children:o.jsx(En,{sx:{p:0,"&:last-child":{pb:0}},children:o.jsx(gr,{onImageSelect:n,Icon:Is,sx:{color:"primary.main"}},"picture-picker")})})});Wo.displayName="CharacterAlbumPictureUploader";function Rd(p){const{records:t,selectedId:e,setSelectedId:a,onShow:s,sx:r}=p,[i,n]=m.useState(!1),c=m.useRef(Array(t.length||6).fill(m.createRef()));return m.useEffect(()=>en(n,s,t.length),[s,t.length]),o.jsx(rr,{sx:{padding:0,margin:0,"& .MuiListItem-root":{p:.1},...r},children:t.map((l,u)=>o.jsx(Er,{in:i,timeout:u*mr,unmountOnExit:!0,nodeRef:c.current[u],children:f=>o.jsx(Ro,{ref:c.current[u],record:l,selectedId:e,setSelectedId:a,sx:{minHeight:"80px",transition:_r,...tn[f]}},`record-${l.characterId||u}`)},`transition-${l.characterId||u}`))})}const Nd=Lt(dt)(({theme:p})=>({width:"100%",transition:"transform 0.4s, box-shadow 0.4s",borderRadius:p.spacing(.5),boxShadow:p.shadows[1],"&:hover, &:focus-within":{boxShadow:p.shadows[4],transform:"translateY(-1px)"},position:"relative",overflow:"hidden",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"})),zd=Lt(E)(()=>({position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",transition:"0.3s ease-in","&:hover, &:focus-within":{opacity:1}})),Ro=m.forwardRef((p,t)=>{const{record:e,selectedId:a,setSelectedId:s,sx:r}=p,[i,n]=m.useState(a===e.characterId),c=ha(e);return m.useEffect(()=>{n(a===e.characterId)},[e,a]),o.jsxs(m.Fragment,{children:[o.jsx(Et,{ref:t,sx:{p:0},children:o.jsx(Te,{onClick:()=>s(e.characterId),selected:i,sx:{borderRadius:3,p:0},children:o.jsx(Nd,{sx:{...r,backgroundImage:`url(${e.avatar})`},children:o.jsx(zd,{sx:{opacity:a===e.characterId?1:0,background:a===e.characterId?"rgba(0 0 0 / 0.5)":void 0,backdropFilter:a===e.characterId?void 0:"blur(3px)"},children:o.jsx(j,{variant:"h6",sx:{color:"white",transition:"transform 0.4s, box-shadow 0.4s"},children:c})})})})}),o.jsx(ut,{sx:{margin:0}})]})});Ro.displayName="CharacterRecommendationListItem";const Md=Lt(Pe)(({theme:p})=>({display:"grid",padding:p.spacing(4),alignItems:"flex-start",gridTemplateColumns:"70% 30%",position:"relative",overflow:"hidden",borderRadius:p.spacing(.5),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"})),Od=Lt("video")({position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:-1}),Dd=Lt(Rt)(({theme:p})=>({marginTop:"auto",marginLeft:p.spacing(1),display:"flex",padding:p.spacing(1.25,2),border:"1px solid white",borderRadius:p.shape.borderRadius,backdropFilter:"blur(3px)"})),No=m.forwardRef((p,t)=>{const{record:e,maxDescriptionLines:a=3,disabled:s=!1,sx:r,...i}=p,n=ke(),{isAuthorized:c}=de(),{accountApi:l,chatApi:u,interactiveStatisticsApi:f}=Dt(),{handleError:y}=zt(),[b,k]=m.useState(!1),[z,R]=m.useState(!1),N=ha(e);function M(O){if(c()){if(!O||!O.characterUid||!O.characterId)return}else{n("/w/login");return}f==null||f.increaseStatistic("character",O.characterUid,"view_count").finally(()=>{u==null||u.getDefaultChatId(O.characterUid).then(q=>{n(`/w/chat/${q}`)}).catch(()=>{l==null||l.getUserDetails().then(q=>{const C=new Ue;C.userNickname=q.nickname??q.username,C.userProfile=q.profile,C.characterNickname=O.nickname??O.name,C.characterUid=O.characterUid,C.about=O.defaultScene,u.startChat(C).then(K=>{n(`/w/chat/${K}`)}).catch(y)}).catch(y)})})}return o.jsx(m.Fragment,{children:o.jsxs(Md,{ref:t,sx:{display:s?"none":"grid",backgroundImage:!(e!=null&&e.video)||!z?`url(${e==null?void 0:e.picture})`:"none",...r},onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),...i,children:[(e==null?void 0:e.video)&&o.jsx(Od,{src:e.video,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,onLoadedData:()=>R(!0)}),o.jsxs(dt,{sx:{gap:1,alignItems:"flex-start",height:"100%"},children:[o.jsx(E,{sx:{borderRadius:3,bgcolor:"transparent",backdropFilter:"blur(3px)",alignSelf:"flex-start",px:1,mr:"auto"},children:o.jsx(j,{variant:"h3",sx:{color:"white","-webkit-text-stroke":"1px gray",textShadow:`
                -1px -1px 0 gray,
                1px -1px 0 gray,
                -1px  1px 0 gray,
                1px  1px 0 gray
              `},children:N})}),o.jsx(Ht,{children:(e==null?void 0:e.tags)&&e.tags.length>0&&e.tags.map((O,q)=>o.jsx(vt,{variant:"filled",color:"success",label:O,size:"small",sx:{opacity:.8}},`tag-${O}-${q}`))}),o.jsx(gt,{}),o.jsx(dt,{sx:{justifyContent:"center"},children:o.jsx(E,{sx:{overflow:"hidden",borderRadius:3,background:"rgba(0 0 0 / 0.4)",backdropFilter:"blur(10px)",p:1},children:o.jsx(Li,{variant:"body1",sx:{color:"white",transition:"transform 0.4s, box-shadow 0.4s",maxHeight:"100%",minHeight:"1.5rem",WebkitLineClamp:a},children:e==null?void 0:e.description})})}),o.jsx(Dd,{sx:{borderTopLeftRadius:e!=null&&e.greeting&&!b?0:"16px",borderTopRightRadius:"16px",borderBottomLeftRadius:e!=null&&e.greeting&&!b?"16px":0,borderBottomRightRadius:"16px",background:e!=null&&e.greeting&&!b?"#000000C0":"#0B6BCBC0"},onClick:()=>M(e),children:o.jsx(j,{variant:"body1",sx:{color:"white",whiteSpace:"pre-wrap"},children:b?(e==null?void 0:e.lang)==="zh"?"":"have a chat":e==null?void 0:e.greeting})})]})]})})});No.displayName="CharacterRecommendationPoster";function Ud({lang:p="en",sx:t,...e}){const{characterApi:a}=Dt(),{handleError:s}=zt(),[r,i]=m.useState([]),[n,c]=m.useState(),l=6,u=m.useCallback(()=>{const y=new ne;return y.where=new le,y.where.visibility="public",y.where.highPriority=!0,y.where.lang=p,y.pageSize=l,y.pageNum=0,y.orderBy=["modifyTime"],y},[p]),f=m.useMemo(()=>r.find(y=>y.characterId===n),[r,n]);return m.useEffect(()=>{c(y=>r.length===0?0:r.find(b=>b.characterId===y)?y:r[0].characterId)},[r]),m.useEffect(()=>{a==null||a.searchPublicCharacterSummary(u()).then(i).catch(s)},[a,s,u]),o.jsxs(E,{sx:{flex:1,mx:"auto",borderRadius:2,p:2,display:r.length>0?"grid":"none",gridTemplateColumns:"1fr 4fr",gridTemplateRows:"minmax(auto, 1fr)",alignItems:"stretch",...t},...e,children:[o.jsx(Rd,{records:r,selectedId:n??0,setSelectedId:c,sx:{minHeight:`calc(80px * ${r.length})`}}),o.jsx(No,{record:f,maxDescriptionLines:2*r.length-2,sx:{gridTemplateRows:`calc(64px * ${r.length})`}})]})}function qd({interval:p=6e3,sx:t,...e}){const[a,s]=m.useState(0),r=m.useRef(null),i=["en","zh"];m.useEffect(()=>(r.current=setInterval(()=>s(l=>(l+1)%i.length),p),()=>{r.current&&clearInterval(r.current),r.current=null}),[p,i.length]);function n(){r.current&&clearInterval(r.current),r.current=null}function c(){r.current=setInterval(()=>s(l=>(l+1)%i.length),p)}return o.jsxs(dt,{sx:{mx:"auto",borderRadius:1,p:0,display:"flex",alignItems:"stretch",...t},...e,onMouseEnter:n,onMouseLeave:c,children:[o.jsx(E,{sx:{width:"100%",overflow:"hidden"},children:o.jsx(E,{sx:{display:"flex",transition:"transform 0.5s ease-out",transform:`translateX(-${a*100}%)`},children:i.map(l=>o.jsx(E,{sx:{width:"100%",flexShrink:0},children:o.jsx(Ud,{lang:l})},l))})}),o.jsx(Un,{activeStep:a,sx:{mx:"auto","& .MuiStepLabel-root":{cursor:"pointer"}},children:i.map((l,u)=>o.jsx(Yt,{onClick:()=>s(u),children:o.jsx(Jt,{slots:{stepIcon:()=>o.jsx(Fn,{color:u===a?"primary":"disabled",sx:{fontSize:"2rem"}})}})},l))})]})}function Bd({characterUid:p,editMode:t=!1,sx:e}){const{t:a}=bt(["character","button"]),{ragApi:s}=Dt(),{handleError:r}=zt(),[i,n]=m.useState([]),[c,l]=m.useState(),[u,f]=m.useState(!1),y=m.useCallback(()=>{p&&(s==null||s.listRagTasks(p).then(n).catch(r))},[p,s,r]);m.useEffect(()=>{y()},[y]);function b(){p&&(s==null||s.listRagTasks(p).then(n).catch(r))}function k(C){C.id&&(s==null||s.startRagTask(C.id).finally(()=>b()))}function z(C){C.id&&(s==null||s.cancelRagTask(C.id).finally(()=>b()))}function R(C){C!=null&&C.id&&(s==null||s.deleteRagTask(C.id).then(()=>b()).catch(r),l(void 0))}function N(C){C&&y(),f(!1)}function M(C){if(!(C!=null&&C.source))return"";const K=W=>{if(W.length<34||W[32]!=="-")return W;let Q=W.substring(33);return Q.length>8&&(Q=Q.substring(0,5)+"..."),Q};if((C==null?void 0:C.sourceType)==="url")return K(yr(C.source));if((C==null?void 0:C.sourceType)==="file"){const Q=sd(C.source).split("/");return K(Q[Q.length-1])}else return K(C.source)}function O(C){if(!(C!=null&&C.source))return"";if((C==null?void 0:C.sourceType)==="file"){const K=window.location.protocol,W=window.location.hostname,Q=window.location.port;return`${K}//${W}${Q?`:${Q}`:""}/my/document/${C.source}`}else return C.source}function q(C){if(!(C!=null&&C.status))return"";switch(C.status){case"pending":return o.jsx(Rs,{fontSize:"small"});case"running":return o.jsx(Ws,{fontSize:"small"});case"succeeded":return o.jsx(Hs,{fontSize:"small"});case"failed":return o.jsx(ks,{fontSize:"small"});default:return o.jsx(Wn,{fontSize:"small"})}}return o.jsxs(dt,{spacing:2,sx:{...e},children:[o.jsxs(Ht,{children:[o.jsx(j,{variant:"subtitle1",children:a("Character documents: (You can have up to 10 documents, each under 3MB)")}),o.jsx(ot,{onClick:()=>b(),children:o.jsx(Ts,{})}),t&&o.jsx(ot,{disabled:i.length>=10,color:"primary",onClick:()=>f(!0),children:o.jsx(Ae,{})})]}),o.jsx(Ya,{sx:{display:i.length>0?"block":"none"},children:o.jsxs(Ta,{size:"small",children:[o.jsx(Ja,{children:o.jsxs(je,{children:[o.jsx(xt,{width:"2%",sx:{fontWeight:"bold"},children:"#"}),o.jsx(xt,{sx:{fontWeight:"bold"},children:a("Creation Time")}),o.jsx(xt,{sx:{fontWeight:"bold"},children:a("Start Time")}),o.jsx(xt,{sx:{fontWeight:"bold"},children:a("End Time")}),o.jsx(xt,{sx:{fontWeight:"bold"},children:a("Source")}),o.jsx(xt,{sx:{fontWeight:"bold"},children:a("Status")}),o.jsx(xt,{width:"25%",sx:{fontWeight:"bold"},children:a("Actions")})]})}),o.jsx(Xa,{children:i.map(C=>{var K;return o.jsxs(je,{children:[o.jsx(xt,{children:C.id}),o.jsx(xt,{children:la(C.gmtCreate)}),o.jsx(xt,{children:la(C.gmtStart)}),o.jsx(xt,{children:la(C.gmtEnd)}),o.jsx(xt,{children:o.jsxs(Ge,{component:"a",sx:{display:"flex",alignItems:"center",gap:1,textDecoration:"none","&:hover, &:focus-within":{textDecoration:"underline"}},target:"_blank",href:O(C),children:[(C==null?void 0:C.sourceType)==="url"?o.jsx(vs,{fontSize:"small"}):o.jsx(sr,{fontSize:"small"}),M(C)]})}),o.jsx(xt,{children:o.jsxs(j,{variant:"body2",sx:{display:"flex",alignItems:"center",gap:1,fontSize:"0.6rem"},children:[q(C),(K=C.status)==null?void 0:K.toUpperCase()]})}),o.jsx(xt,{children:t&&o.jsxs(m.Fragment,{children:[C.status==="running"?o.jsx(ot,{onClick:()=>z(C),children:o.jsx(js,{fontSize:"small"})}):o.jsx(ot,{onClick:()=>k(C),children:o.jsx(Vn,{fontSize:"small"})}),o.jsx(ot,{onClick:()=>C.id&&l(C),children:o.jsx(or,{fontSize:"small"})})]})})]},`rag-task-${C.id}`)})})]})}),o.jsx(Qt,{open:!!c,onClose:()=>l(void 0),dialog:{color:"error",title:a("Do you really want to delete this document?")},button:{color:"error",text:a("button:Delete"),startIcon:o.jsx(_e,{})},onConfirm:()=>R(c),children:o.jsx(ma,{children:M(c)})}),o.jsx(Fd,{characterUid:p,open:u,onClose:N},"document-uploader")]})}const Ed=3*1024*1024;let gn=0;function Fd({characterUid:p,open:t=!1,onClose:e=()=>{},sx:a}){const{t:s}=bt(["character","button"]),{characterApi:r,ragApi:i}=Dt(),{handleError:n}=zt(),[c,l]=m.useState(),[u,f]=m.useState(""),[y,b]=m.useState("file"),[k,z]=m.useState(!1),[R,N]=m.useState(!1),[M,O]=m.useState(!1),[q,C]=m.useState(300),[K,W]=m.useState(30),Q=m.useRef(`file-upload-input-${gn}`).current,U=m.useRef(null),J=m.useRef(Array(2).fill(m.createRef()));m.useEffect(()=>{gn++},[]);function L(D){l(void 0),f(""),b("file"),z(!1),N(!1),O(!1),e(D)}function v(D){const X=D.target.files&&D.target.files[0];X?X.size>Ed?N(!0):(N(!1),l(X)):N(!1)}function F(){U.current&&U.current.click()}function B(D){try{new URL(D),O(!1)}catch{O(!0)}f(D)}function Y(){if(!p)return;const D=(X,lt)=>{const et=new Na;et.source=X,et.sourceType=lt,et.maxSegmentSize=q,et.maxOverlapSize=K,i==null||i.createRagTask(p,et).then(nt=>{i.startRagTask(nt).then(()=>L(!0)).catch(n)}).catch(n)};y==="file"&&c?(z(!0),r==null||r.uploadCharacterDocument(p,c).then(X=>{const lt=yr(X);D(lt,y)}).finally(()=>z(!1))):y==="url"&&u&&D(u,y)}return o.jsx(Qt,{open:t,onClose:()=>L(!1),dialog:{title:s("Add Document")},onConfirm:Y,sx:a,children:o.jsxs(dt,{spacing:2,children:[o.jsxs(Yr,{value:y==="file"?0:1,onChange:(D,X)=>b(X===0?"file":"url"),sx:{bgcolor:"transparent",minWidth:"760px"},children:[o.jsx(Va,{label:s("FILE"),sx:{fontWeight:600,color:"text.secondary","&.Mui-selected":{color:"text.primary"}}}),o.jsx(Va,{label:s("URL"),sx:{fontWeight:600,color:"text.secondary","&.Mui-selected":{color:"text.primary"}}})]}),y==="file"?o.jsxs(dt,{spacing:2,children:[o.jsx(j,{variant:"body2",children:s("Supported file formats include txt, doc, docx, pdf, ppt, pptx, xls, xlsx, etc. The maximum size for a single file is 3MB.")}),o.jsxs(Ht,{children:[(c==null?void 0:c.name)&&o.jsx(vt,{label:c.name}),k?o.jsx(Ea,{}):o.jsxs(Zt,{children:[o.jsx(jr,{disabled:k,type:"file",id:Q,onChange:v,sx:{display:"none"},inputProps:{ref:U,accept:"*/*"}}),o.jsx("label",{htmlFor:Q,children:o.jsx(ot,{onClick:F,disabled:k,children:o.jsx(Ns,{})})}),R&&o.jsx(Aa,{error:!0,children:s("File too large!")})]})]})]}):o.jsxs(dt,{spacing:2,children:[o.jsx(j,{variant:"body2",children:s("Only publicly accessible URLs are supported.")}),o.jsxs(Zt,{children:[o.jsx(jr,{disabled:k,autoFocus:!0,type:"text",value:u,onChange:D=>B(D.target.value)}),M&&o.jsx(Aa,{error:!0,children:s("Invalid URL")})]})]}),o.jsx(ut,{sx:{mt:"auto",mx:2},children:s("Splitter Settings")}),o.jsxs(Pe,{sx:{gridTemplateColumns:"1fr 1fr"},children:[o.jsxs(St,{children:[o.jsxs(it,{children:[o.jsx(j,{variant:"subtitle1",color:"text.secondary",children:s("Max Segment Size")}),o.jsx(yt,{title:s("The maximum size of a segment in tokens."),children:o.jsx(At,{})}),o.jsx(it,{sx:{ml:"auto"},children:o.jsx(ft,{disabled:k,type:"number",slotProps:{htmlInput:{ref:J.current[0],step:100,min:0,max:1e3}},value:q,onChange:D=>C(+D.target.value)})})]}),o.jsx($t,{disabled:k,value:q,step:100,min:0,max:1e3,valueLabelDisplay:"auto",onChange:(D,X)=>C(X)})]}),o.jsxs(St,{children:[o.jsxs(it,{children:[o.jsx(j,{variant:"subtitle1",color:"text.secondary",children:s("Max Overlap Size")}),o.jsx(yt,{title:s("The maximum size of the overlap between segments in tokens."),children:o.jsx(At,{})}),o.jsx(it,{sx:{ml:"auto"},children:o.jsx(ft,{disabled:k,type:"number",slotProps:{htmlInput:{ref:J.current[1],step:10,min:0,max:100}},value:K,onChange:D=>W(+D.target.value)})})]}),o.jsx($t,{disabled:k,value:K,step:10,min:0,max:100,valueLabelDisplay:"auto",onChange:(D,X)=>W(X)})]})]})]})})}function bn(){const{t:p}=bt("sidebar"),{mode:t}=ir(),[e,a]=m.useState(0),s=(r,i)=>{a(i)};return o.jsxs(o.Fragment,{children:[o.jsx(gt,{}),o.jsxs(dt,{sx:{display:{xs:"none",sm:"inherit"}},children:[o.jsxs(dt,{sx:{display:"flex",flexDirection:"row",alignItems:"center",m:2,p:2,boxShadow:1,borderRadius:"6px",border:"1px solid divider",gap:2},children:[o.jsxs(E,{sx:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",minWidth:"160px"},children:[o.jsx(j,{variant:"h4",sx:{fontWeight:"bold"},children:p("Welcome to FreeChat")}),o.jsx(gt,{spacing:1}),o.jsx(j,{variant:"subtitle1",children:p("Create friends for yourself")})]}),o.jsx(E,{sx:{width:240,height:240,position:"relative",overflow:"hidden"},children:o.jsx("img",{src:t==="dark"?"/img/freechat_dark.png":"/img/freechat_light.png",style:{width:"100%",height:"100%",objectFit:"cover"}})})]}),o.jsx(qd,{sx:{mb:6,width:"80%"}}),o.jsxs(E,{sx:{width:"100%"},children:[o.jsx(E,{sx:{borderBottom:1,borderColor:"divider"},children:o.jsxs(Yr,{value:e,onChange:s,sx:{"& .MuiTabs-indicator":{backgroundColor:"primary.main"},"& .MuiTab-root":{textTransform:"none",fontWeight:600,color:"text.secondary","&.Mui-selected":{color:"text.primary"}}},children:[o.jsx(Va,{label:p("Characters")}),o.jsx(Va,{label:p("Prompts")})]})}),o.jsx(E,{role:"tabpanel",hidden:e!==0,id:"character-tabpanel","aria-labelledby":"character-tab",children:e===0&&o.jsx(yn,{all:!1})}),o.jsx(E,{role:"tabpanel",hidden:e!==1,id:"prompt-tabpanel","aria-labelledby":"prompt-tab",children:e===1&&o.jsx(Id,{})})]})]}),o.jsxs(dt,{sx:{display:{xs:"inherit",sm:"none"}},children:[o.jsxs(dt,{sx:{display:"flex",flexDirection:"row",alignItems:"center",m:0,p:2,gap:2},children:[o.jsxs(E,{sx:{flex:1,display:"flex",flexDirection:"column",alignItems:"left",minWidth:"160px"},children:[o.jsx(j,{variant:"h4",sx:{fontWeight:"bold"},children:p("Welcome to FreeChat")}),o.jsx(gt,{spacing:1}),o.jsx(j,{variant:"subtitle1",children:p("Create friends for yourself")})]}),o.jsx(E,{sx:{width:240,height:240,position:"relative",overflow:"hidden"},children:o.jsx("img",{src:t==="dark"?"/img/freechat_dark.png":"/img/freechat_light.png",style:{width:"100%",height:"100%",objectFit:"cover"}})})]}),o.jsx(gt,{}),o.jsx(Rn,{sx:{mx:2,py:1,px:2,bgcolor:"background.paper"},children:o.jsx(j,{variant:"body2",children:p("If you want to create your own characters, please visit this website on PC.")})}),o.jsx(yn,{all:!0})]})]})}function Vd(){const{t:p}=bt("sign-in"),{csrfToken:t,csrfHeaderName:e,registrations:a}=de(),{handleError:s}=zt(),[r,i]=m.useState({guestUsername:"",guestPassword:"",isFormReadyToSubmit:!1}),n=m.useRef(null),c=window.location.protocol,l=window.location.hostname,u=window.location.port,f="SignIn.guestUsername",y="SignIn.guestPassword";m.useEffect(()=>{const R=localStorage.getItem(f)??"",N=localStorage.getItem(y)??"";i(M=>({...M,guestUsername:R,guestPassword:N}))},[]),m.useEffect(()=>{var R;r.isFormReadyToSubmit&&((R=n.current)==null||R.submit(),i(N=>({...N,isFormReadyToSubmit:!1})))},[r]);function b(R){return`${c}//${l}${u?`:${u}`:""}${R}`}function k(R){window.location.href=b(R)}function z(){!r.guestUsername||!r.guestPassword?fetch("/public/register/guest",{method:"POST",credentials:l==="localhost"?"include":"same-origin",headers:{Accept:"application/json",[e]:t??""}}).then(R=>R.ok?R.json():(s({code:R.status,message:R.statusText}),null)).then(R=>{R!=null&&R.username&&R.password&&(localStorage.setItem(f,R.username),localStorage.setItem(y,R.password),i({guestUsername:R.username,guestPassword:R.password,isFormReadyToSubmit:!0}))}).catch(s):i(R=>({...R,isFormReadyToSubmit:!0}))}return o.jsxs(dt,{direction:"row",children:[o.jsx(E,{sx:[()=>({transition:"width var(--Transition-duration)",transitionDelay:"calc(var(--Transition-duration) + 0.1s)",zIndex:1,display:"flex",width:"100%",justifyContent:"flex-end",backdropFilter:"blur(12px)",backgroundColor:"rgba(255 255 255 / 0.2)",flexBasis:"50%"}),R=>R.applyStyles("dark",{backgroundColor:"rgba(19 19 24 / 0.4)"})],children:o.jsx(E,{sx:{display:"flex",flexDirection:"column",minHeight:{xs:"calc(100dvh - var(--Footer-height))",sm:"100dvh"},maxWidth:"100%",px:2},children:o.jsx(E,{component:"main",sx:{my:"auto",py:2,pb:5,display:"flex",flexDirection:"column",gap:2,width:400,maxWidth:"100%",mx:"auto",borderRadius:"sm","& form":{display:"flex",flexDirection:"column",gap:2}},children:o.jsxs(dt,{spacing:4,sx:{mb:2},children:[o.jsx(dt,{spacing:1,children:o.jsx(j,{variant:"h5",sx:{fontWeight:"bold"},children:p("Sign in")})}),(a==null?void 0:a.includes("github"))&&o.jsx(Rt,{variant:"contained",color:"inherit",fullWidth:!0,startIcon:o.jsx($r,{}),onClick:()=>k("/oauth2/authorization/github"),sx:{backgroundColor:"background.paper"},children:p("Continue with GitHub")}),(a==null?void 0:a.includes("google"))&&o.jsx(Rt,{variant:"contained",color:"inherit",fullWidth:!0,startIcon:o.jsx(zs,{}),onClick:()=>k("/oauth2/authorization/google"),sx:{backgroundColor:"background.paper"},children:p("Continue with Google")}),(a==null?void 0:a.includes("aliyun"))&&o.jsx(Rt,{variant:"contained",color:"inherit",fullWidth:!0,startIcon:o.jsx(dd,{}),onClick:()=>k("/oauth2/authorization/aliyun"),sx:{backgroundColor:"background.paper"},children:p("Continue with Aliyun")}),a.length>0&&o.jsx(ut,{sx:{color:"text.secondary"},children:p("or")}),o.jsxs("form",{method:"post",action:"/login",children:[o.jsxs(Zt,{required:!0,fullWidth:!0,children:[o.jsx(we,{children:p("Username")}),o.jsx(ft,{type:"text",name:"username",fullWidth:!0,slotProps:{input:{sx:{size:"small"}}},sx:{maxWidth:void 0,backgroundColor:"background.default"}})]}),o.jsxs(Zt,{required:!0,fullWidth:!0,children:[o.jsx(we,{children:p("Password")}),o.jsx(ft,{type:"password",name:"password",fullWidth:!0,slotProps:{input:{sx:{size:"small"}}},sx:{maxWidth:void 0,backgroundColor:"background.default"}})]}),o.jsx(dt,{spacing:4,sx:{mt:2},children:o.jsx(Rt,{type:"submit",variant:"contained",fullWidth:!0,children:p("Sign in")})}),o.jsx("input",{type:"hidden",name:"_csrf",value:t??""})]}),o.jsxs("form",{method:"post",action:"/login",ref:n,children:[o.jsx("input",{type:"hidden",value:r.guestUsername,id:"username",name:"username"}),o.jsx("input",{type:"hidden",value:r.guestPassword,id:"password",name:"password"}),o.jsx("input",{type:"hidden",name:"_csrf",value:t??""}),o.jsx(Rt,{variant:"text",color:"primary",onClick:z,sx:{textDecoration:"underline",p:0,"&:hover":{backgroundColor:"transparent"}},children:p("I'm a guest")})]})]})})})}),o.jsx(E,{id:"sign-in-cover",sx:[()=>({height:"100dvh",position:"fixed",right:0,top:0,bottom:0,left:"clamp(0px, (100vw - var(--Collapsed-breakpoint)) * 999, 100vw - var(--Cover-width))",transition:"background-image var(--Transition-duration), left var(--Transition-duration) !important",transitionDelay:"calc(var(--Transition-duration) + 0.1s)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundBlendMode:"overlay",backgroundImage:"url(/img/sign_in_light.jpg), linear-gradient(to right, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 100%)"}),R=>R.applyStyles("dark",{backgroundImage:"url(/img/sign_in_dark.jpg), linear-gradient(to right, rgba(0,0,0,1) 0%, rgba(0,0,0,0) 100%)"})]})]})}function Ld(){const{t:p}=bt(["account","button"]),{accountApi:t}=Dt(),{handleError:e}=zt(),{username:a,platform:s,resetUser:r}=de(),[i,n]=m.useState("other"),[c,l]=m.useState(""),[u,f]=m.useState(""),[y,b]=m.useState(),[k,z]=m.useState(!1),[R,N]=m.useState(!1);m.useEffect(()=>{M()},[t]);function M(){t==null||t.getUserDetails().then(U=>{const J=U.username,L=U.nickname,v=U.platform,F=U.gender,B=U.profile,Y=U.picture;(J!==a||v!==s)&&r(J,v),Y&&b(Y),F&&n(F),L&&l(L),f(B||O(L||J,F)),z(!0)}).catch(e)}function O(U,J){return J==="male"?`${p("Name description",{name:U})}
${p("Male description")}`:J==="female"?`${p("Name description",{name:U})}
${p("Female description")}`:p("Name description",{name:U})}function q(U){U.target.value!==i&&(n(U.target.value),N(!1))}function C(U){U.target.value!==c&&(l(U.target.value),N(!1))}function K(U){U.target.value!==u&&(f(U.target.value),N(!1))}function W(U,J){fr(U,1024*1024).then(L=>{const v=new File([L.blob],J);t==null||t.uploadUserPicture(v).then(F=>b(F)).catch(e)}).catch(e)}function Q(U){U.preventDefault();const J=new Ma;i&&(J.gender=i),c&&(J.nickname=c),u&&(J.profile=u),y&&(J.picture=y),t==null||t.updateUserInfo(J).then(L=>L&&N(!0)).catch(e)}return o.jsxs(o.Fragment,{children:[o.jsx(gt,{spacing:6}),o.jsx(j,{variant:"h5",sx:{ml:3},children:p("My details")}),o.jsx(ut,{}),o.jsx(gt,{}),o.jsx("form",{onSubmit:Q,children:o.jsxs(ee,{sx:{display:"flex",flexDirection:"column",alignItems:"stretch",maxWidth:"800px",minWidth:"540px",mx:"auto","&:hover, &:focus-within":{transform:"none"}},children:[o.jsxs(dt,{direction:"row",spacing:3,sx:{display:"flex",my:1},children:[o.jsxs(Pe,{sx:{flexGrow:1,gridTemplateColumns:"1fr 3fr"},children:[o.jsx(we,{children:p("Username")}),o.jsx(j,{children:a||""}),o.jsx(we,{children:p("Coming from")}),o.jsx(j,{children:s||""}),o.jsx(we,{children:p("Gender")}),o.jsxs(lr,{name:"genderGroup",row:!0,value:i,onChange:q,children:[o.jsx(ca,{value:"male",control:o.jsx(Oe,{size:"small"}),label:p("Male"),disabled:!k,sx:{"& .MuiFormControlLabel-label":{fontSize:"0.9rem"}}}),o.jsx(ca,{value:"female",control:o.jsx(Oe,{size:"small"}),label:p("Female"),disabled:!k,sx:{"& .MuiFormControlLabel-label":{fontSize:"0.9rem"}}}),o.jsx(ca,{value:"other",control:o.jsx(Oe,{size:"small"}),label:p("Other"),disabled:!k,sx:{"& .MuiFormControlLabel-label":{fontSize:"0.9rem"}}})]}),o.jsx(we,{children:p("Nickname")}),o.jsx(ft,{disabled:!k,name:"nickname",placeholder:c,value:c,onChange:C,fullWidth:!0,slotProps:{input:{size:"small",sx:{fontSize:"0.9rem"}}},sx:{maxWidth:void 0}}),o.jsxs(Zt,{fullWidth:!0,sx:{gridColumn:"span 2",gap:.5},children:[o.jsx(we,{children:p("Describe yourself: (This will make characters know you better.)")}),o.jsx(te,{disabled:!k,name:"description",value:u,minRows:3,onChange:K,sx:{fontSize:"0.9rem"}})]})]}),o.jsxs(dt,{direction:"column",spacing:1,sx:{minWidth:120,position:"relative"},children:[o.jsx(E,{sx:{position:"relative",width:"100%",paddingBottom:"100%",borderRadius:"50%",overflow:"hidden"},children:o.jsx(fa,{src:y,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}})}),o.jsx(gr,{onImageSelect:W,previewProps:{maxWidth:"200px",maxHeight:"200px",borderRadius:"50%"},disabled:!k,"aria-label":"upload new picture",size:"small",sx:{backgroundColor:"background.paper",position:"absolute",zIndex:2,borderRadius:"50%",right:5,top:85,boxShadow:1,"&:hover, &:focus-within":{backgroundColor:"background.paper"}}},"picture-picker")]})]}),o.jsx(E,{sx:{alignSelf:"flex-end",pt:2},children:o.jsx(Rt,{size:"small",variant:"contained",type:"submit",startIcon:R?o.jsx(Bi,{}):o.jsx(Qe,{}),disabled:R,children:p("button:Save")})})]})})]})}function $d(){const{t:p}=bt(["account","button"]),{accountApi:t}=Dt(),{handleError:e}=zt(),[a,s]=m.useState([]),[r,i]=m.useState(),[n,c]=m.useState(!1),[l,u]=m.useState(),[f,y]=m.useState(),[b,k]=m.useState(!1),[z,R]=m.useState(!1),N=m.useCallback(()=>{t==null||t.listTokens().then(s).catch(e)},[t,e]);m.useEffect(()=>{N()},[N]);function M(){const W=Ad(new Date,f);b||W<=0?t==null||t.createToken1().then(()=>N()).catch(e):t==null||t.createToken(W).then(()=>N()).catch(e),R(!1)}function O(W){W&&(t==null||t.getTokenById(W).then(Q=>i(Q)).catch(e))}function q(){i(void 0),c(!1)}function C(W){W&&(t==null||t.disableTokenById(W).then(Q=>Q&&s(a.filter(U=>U.id!==W))).catch(e)),u(void 0)}function K(W){W&&u(W)}return o.jsxs(dt,{spacing:3,children:[o.jsxs(E,{sx:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:3},children:[o.jsx(j,{variant:"h6",children:p("API tokens: (maximum of 5 tokens allowed)")}),o.jsx(ot,{disabled:a.length>=5,color:"primary",onClick:()=>{y(new Date(new Date().getTime()+24*60*60*1e3)),k(!1),R(!0)},children:o.jsx(Ae,{})})]}),o.jsx(Ya,{sx:{borderRadius:"6px"},children:o.jsxs(Ta,{size:"small",children:[o.jsx(Ja,{children:o.jsxs(je,{children:[o.jsx(xt,{sx:{backgroundColor:"action.hover"},children:p("Token")}),o.jsx(xt,{sx:{backgroundColor:"action.hover"},children:p("Creation Time")}),o.jsx(xt,{sx:{backgroundColor:"action.hover"},children:p("Expiration Time")}),o.jsx(xt,{sx:{backgroundColor:"action.hover"},children:p("Actions")})]})}),o.jsx(Xa,{children:a.map((W,Q)=>o.jsxs(je,{children:[o.jsx(xt,{children:W.token}),o.jsx(xt,{children:la(W.issuedAt)}),o.jsx(xt,{children:la(W.expiresAt)}),o.jsxs(xt,{children:[o.jsx(ot,{onClick:()=>O(W.id),children:o.jsx(nr,{})}),o.jsx(ot,{onClick:()=>K(W.id),children:o.jsx(or,{})})]})]},W.token||`unknown-token-${Q}`))})]})}),o.jsx(Qt,{open:!!l,onClose:()=>u(void 0),obj:l||0,dialog:{color:"error",title:p("Please confirm carefully!")},button:{color:"error",text:p("button:Delete"),startIcon:o.jsx(_e,{})},onConfirm:C,children:o.jsx(ma,{sx:{textDecoration:"line-through"},children:a.filter(W=>W.id===l).map(W=>W.token)[0]})}),o.jsx(Qt,{open:!!r,onClose:q,obj:r||"",onConfirm:q,dialog:{color:"success",title:p("Token Information")},children:o.jsxs(E,{sx:{mx:2,display:"flex",flexDirection:"column"},children:[o.jsxs(E,{sx:{mt:2,gap:1.5,display:"flex",alignItems:"center"},children:[o.jsx(j,{children:r}),o.jsx(ot,{onClick:()=>{var W;r&&((W=navigator==null?void 0:navigator.clipboard)==null||W.writeText(r).then(()=>c(!0)).catch(e))},children:o.jsx(ar,{})})]}),o.jsx(vt,{variant:n?"outlined":"filled",sx:{color:n?"text.secondary":"transparent",display:n?"inherit":"none"},label:p("Copied!")})]})}),o.jsx(Qt,{open:z,onClose:()=>R(!1),dialog:{title:p("Create Token")},button:{text:p("button:Create"),startIcon:o.jsx(Qe,{})},onConfirm:M,children:o.jsxs(dt,{direction:"row",spacing:2,sx:{alignItems:"center"},children:[o.jsx(Ms,{label:p("Valid until"),ampm:!1,defaultValue:Lo(f),disabled:b,onAccept:W=>y(W==null?void 0:W.toDate())}),o.jsx(ca,{control:o.jsx(Os,{checked:b,onChange:W=>k(W.target.checked)}),label:p("Never expires")})]})})]})}function Kd(p){const{provider:t}=p,{t:e}=bt(["account","button"]),{aiServiceApi:a}=Dt(),{handleError:s}=zt(),[r,i]=m.useState([]),[n,c]=m.useState(),[l,u]=m.useState(),[f,y]=m.useState(),[b,k]=m.useState(!1),z=m.useCallback(()=>{a==null||a.listAiApiKeys(t).then(C=>i(C.filter(K=>!!K.id&&K.enabled))).catch(s)},[a,s,t]);m.useEffect(()=>{z()},[z]);function R(C){C.target.value!==l&&u(C.target.value)}function N(C){C.target.value!==f&&y(C.target.value)}function M(){if(!f)return;const C=new va;C.name=l||f,C.token=f,C.provider=t,C.enabled=!0,a==null||a.addAiApiKey(C).then(K=>K&&z()).catch(s),k(!1)}function O(C){C&&(a==null||a.disableAiApiKey(C).then(K=>K&&i(r.filter(W=>W.id!==C))).catch(s)),c(void 0)}function q(C){C&&c(C)}return o.jsxs(dt,{spacing:3,children:[o.jsxs(E,{sx:{display:"flex",justifyContent:"start",alignItems:"center",gap:3},children:[o.jsx(j,{variant:"h6",children:e("API keys: (maximum of 3 keys allowed)")}),o.jsx(ot,{disabled:r.length>=3,color:"primary",onClick:()=>k(!0),children:o.jsx(Ae,{})})]}),o.jsx(Ya,{sx:{borderRadius:"6px"},children:o.jsxs(Ta,{size:"small",children:[o.jsx(Ja,{children:o.jsxs(je,{children:[o.jsx(xt,{sx:{backgroundColor:"action.hover"},children:e("Name")}),o.jsx(xt,{sx:{backgroundColor:"action.hover"},children:e("API Key")}),o.jsx(xt,{sx:{backgroundColor:"action.hover"},children:e("Creation Time")}),o.jsx(xt,{sx:{backgroundColor:"action.hover"},children:e("Last Used Time")}),o.jsx(xt,{sx:{backgroundColor:"action.hover"},children:e("button:Remove")})]})}),o.jsx(Xa,{children:r.map((C,K)=>o.jsxs(je,{children:[o.jsx(xt,{children:C.name}),o.jsx(xt,{children:C.token}),o.jsx(xt,{children:la(C.gmtCreate)}),o.jsx(xt,{children:la(C.gmtUsed)}),o.jsx(xt,{children:o.jsx(ot,{onClick:()=>q(C.id),children:o.jsx(Ln,{})})})]},C.token||`unknown-key-${K}`))})]})}),o.jsx(Qt,{open:!!n,onClose:()=>c(void 0),obj:n||0,dialog:{color:"error",title:e("Please confirm carefully!")},button:{color:"error",text:e("button:Remove"),startIcon:o.jsx(_e,{})},onConfirm:O,children:o.jsx(ma,{children:r.filter(C=>C.id===n).map(C=>C.token)[0]})}),o.jsx(Qt,{open:b,onClose:()=>k(!1),dialog:{title:e("Add API Key")},button:{text:e("button:Add"),startIcon:o.jsx(Ds,{})},onConfirm:M,children:o.jsxs(E,{sx:{flex:1,display:"grid",gridTemplateColumns:"auto 1fr",alignItems:"center",gap:2},children:[o.jsx(we,{children:e("Name")}),o.jsx(ft,{fullWidth:!0,name:"apiKeyName",value:l||f,onChange:R,sx:{minWidth:"16rem"}}),o.jsx(we,{children:e("API Key")}),o.jsx(ft,{required:!0,name:"apiKeyText",value:f,onChange:N,sx:{minWidth:"16rem"},fullWidth:!0})]})})]})}function Gd(){const{t:p}=bt(["account","button"]),[t,e]=m.useState(0),a=(s,r)=>{e(r)};return o.jsxs(o.Fragment,{children:[o.jsx(gt,{spacing:6}),o.jsxs(E,{sx:{bgcolor:"transparent"},children:[o.jsxs(Yr,{value:t,onChange:a,sx:{pl:{xs:0,md:4},"& .MuiTabs-indicator":{backgroundColor:"primary.main",height:"2px"}},children:[o.jsx(Va,{label:p("Site"),sx:{fontWeight:600,color:"text.secondary","&.Mui-selected":{color:"text.primary",bgcolor:"transparent"}}}),La.filter(s=>s.enableApiKey).map((s,r)=>o.jsx(Va,{label:s.label,sx:{fontWeight:600,color:"text.secondary","&.Mui-selected":{color:"text.primary",bgcolor:"transparent"}}},`ai-model-provider-tab-${r}`))]}),o.jsxs(E,{sx:{mt:2},children:[t===0&&o.jsx($d,{}),La.filter(s=>s.enableApiKey).map((s,r)=>t===r+1&&o.jsx(Kd,{provider:s.provider},`ai-model-provider-panel-${r}`))]})]})]})}function Qd(){const{frameScrollHandler:p}=Jr(),t=m.useRef(null),[e,a]=m.useState(!1);m.useEffect(()=>{const r=()=>{if(t.current){p==null||p(t.current);const n=800,c=t.current.scrollTop;a(c>n)}},i=t.current;return i==null||i.addEventListener("scroll",r),()=>{i==null||i.removeEventListener("scroll",r)}},[p]);const s=()=>{t.current&&t.current.scrollTo({top:0,behavior:"smooth"})};return o.jsxs(o.Fragment,{children:[o.jsx(bd,{}),o.jsx(E,{ref:t,sx:{display:"flex",flexDirection:"column",gap:1,overflow:"auto",pl:{xs:"none",sm:"120px"},pr:{xs:"none",sm:"120px"},maxHeight:{xs:"calc(100dvh - var(--Footer-height))",sm:"100dvh"}},children:o.jsx($o,{})}),e&&o.jsx(ot,{size:"large",onClick:s,sx:r=>({position:"fixed",bottom:{xs:"calc(10px + var(--Footer-height))",sm:"40px"},right:"40px",zIndex:1e3,backgroundColor:r.palette.grey[600],color:r.palette.common.white,"&:hover":{backgroundColor:r.palette.grey[700]}}),children:o.jsx(Us,{})}),o.jsx(rd,{})]})}function wn(){const{t:p}=bt();return o.jsx(E,{sx:{height:"100dvh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minWidth:0,gap:1,overflow:"auto"},children:o.jsxs(dt,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center",gap:2},children:[o.jsx(j,{variant:"h6",children:p("Coming soon!")}),o.jsxs(j,{variant:"body1",sx:{wordWrap:"pre-wrap"},children:[p("Refer to the")," ",o.jsx(Ge,{href:"/w/docs",children:"Open API"})," ",p("documentation")]})]})})}function Yd(){const{t:p}=bt();return o.jsx(E,{sx:{height:"100dvh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minWidth:0,gap:1,overflow:"auto"},children:o.jsxs(dt,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center"},children:[o.jsx(j,{variant:"h5",gutterBottom:!0,children:p("Page not found")}),o.jsx(j,{variant:"body1",children:p("Sorry, the page you are looking for does not exist.")}),o.jsxs(j,{variant:"body1",children:[p("You can always go back to the")," ",o.jsx(on,{href:"/w",sx:{cursor:"pointer"},children:p("homepage")}),p(".")]})]})})}const zo=m.forwardRef((p,t)=>{const{record:e,onView:a,onEdit:s,onDelete:r,sx:i}=p,{t:n,i18n:c}=bt();return o.jsxs(ee,{ref:t,sx:{...i,position:"relative",width:"100%",overflow:"hidden",gap:1,boxShadow:0,backgroundColor:"background.paper","&:hover, &:focus-within":{boxShadow:0},m:0},children:[o.jsx(j,{variant:"h6",sx:{...i,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"20rem"},children:e.name}),o.jsxs(E,{sx:{...i,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx(j,{variant:"body2",color:"text.secondary",children:ea(e.gmtModified||new Date(0),c.language)}),o.jsx(j,{variant:"body2",color:e.visibility==="public"?"success.main":"warning.main",children:e.visibility==="public"?n("public"):n("private")})]}),o.jsxs(E,{sx:{...i,display:"flex",justifyContent:"start",alignItems:"center",gap:2},children:[o.jsx(vt,{label:`v${e.version}`,color:"success",variant:"outlined",size:"small",sx:{m:0}}),o.jsx(vt,{label:e.type,color:e.type==="string"?"warning":"success",variant:"outlined",size:"small"})]}),o.jsx(Li,{children:e.description}),o.jsx(gt,{spacing:2}),o.jsx(rn,{onView:()=>a(),onEdit:()=>s(),onDelete:()=>r()})]})});zo.displayName="Prompts.RecordCard";function Jd(){const p=ke(),{t}=bt(["prompt"]),{promptApi:e}=Dt(),{handleError:a}=zt(),s=6,[r,i]=m.useState([]),[n,c]=m.useState(L(s)),[l,u]=m.useState(0),[f,y]=m.useState(0),[b,k]=m.useState(),[z,R]=m.useState(),[N,M]=m.useState(!1),[O,q]=m.useState("chat"),[C,K]=m.useState(!1),[W,Q]=m.useState(!1),U=m.useRef(Array(s).fill(m.createRef())),J=m.useCallback(()=>{e==null||e.searchPromptSummary(n).then($=>{i($),l===0&&(e==null||e.countPrompts(n).then(y).catch(a))}).catch(a)},[a,l,e,n]);m.useEffect(()=>(J(),en(K,Q,s)),[J]);function L($){const at=new Se;return at.where=new Ie,at.pageSize=$,at.pageNum=0,at.orderBy=["modifyTime"],at}function v($,at){const Z=new Ie;Z.text=$,Z.aiModels=at;const ct=new Se;ct.where=Z,ct.pageSize=s,ct.pageNum=0,ct.orderBy=["modifyTime"],u(0),c(ct)}function F($){const at=new Se;at.where=n==null?void 0:n.where,at.pageSize=(n==null?void 0:n.pageSize)||s,at.orderBy=n==null?void 0:n.orderBy,at.pageNum=$,u($),c(at)}function B($){$!=null&&$.name&&(e==null||e.deletePromptByName($.name).then(()=>J()).catch(a)),k(void 0)}function Y($){k($)}function D($){p(`/w/prompt/${$.promptId}`)}function X($){p(`/w/prompt/edit/${$.promptId}`)}function lt(){N||!z||e==null||e.existsPromptName(z).then($=>{if($)M(!0);else{const at=new ga;O==="chat"?(at.chatTemplate=new ta,at.chatTemplate.system="",at.chatTemplate.messageToSend=new Ce,at.chatTemplate.messageToSend.role="user",Ui(at.chatTemplate.messageToSend,"{{{input}}}"),at.inputs=JSON.stringify({input:""})):O==="string"&&(at.template=""),at.format="mustache",at.lang=Ve.defaultLocale,at.name=z,at.visibility="public",e==null||e.createPrompt(at).then(Z=>{Z&&p(`/w/prompt/edit/${Z}`)}).catch(a),R(void 0)}}).catch(a)}function et(){const $=(l+1)*s;return f===0&&r.length>0?$:Math.min(f,$)}function nt($,at,Z){return`${$}-${at} of ${at<=Z?Z:`more than ${at}`}`}return o.jsxs(o.Fragment,{children:[o.jsx(gt,{}),o.jsxs(E,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[o.jsx(wr,{onSearch:v,sx:{width:{sm:"420px"}}}),o.jsx(Rt,{startIcon:o.jsx(Ae,{}),variant:"contained",onClick:()=>R("untitled"),sx:{borderRadius:"20px"},children:t("Create new")})]}),o.jsx(gt,{}),o.jsx(E,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:3},children:r.map(($,at)=>o.jsx(Er,{in:C,timeout:at*mr,unmountOnExit:!0,nodeRef:U.current[at],children:Z=>o.jsx(zo,{ref:U.current[at],record:$,onView:()=>D($),onEdit:()=>X($),onDelete:()=>Y($),sx:{transition:_r,...tn[Z]}},$.promptId)},$.promptId||`transition-${at}`))}),o.jsxs(E,{sx:{opacity:W?1:0,display:"flex",justifyContent:"end",alignItems:"center",gap:1,mt:2},children:[o.jsx(vt,{variant:"outlined",sx:{mr:1.5},label:nt(r.length===0?0:l*s+1,et(),f)}),o.jsx(ot,{size:"small",color:"default",disabled:l===0,onClick:()=>F(l-1),sx:{bgcolor:"background.paper",border:"1px solid",borderColor:"divider"},children:o.jsx($n,{})}),o.jsx(ot,{size:"small",color:"default",disabled:r.length!==-1?(1+l)*s>=f:!1,onClick:()=>F(l+1),sx:{bgcolor:"background.paper",border:"1px solid",borderColor:"divider"},children:o.jsx(Kn,{})})]}),o.jsx(Qt,{open:!!b,onClose:()=>k(void 0),obj:b,dialog:{color:"error",title:t("Do you really want to delete this prompt?")},button:{color:"error",text:t("button:Delete"),startIcon:o.jsx(_e,{})},onConfirm:B,children:o.jsx(ma,{children:b==null?void 0:b.name})}),o.jsx(Qt,{open:z!==void 0,onClose:()=>{M(!1),R(void 0)},dialog:{title:t("Please enter a new name")},button:{text:t("button:Create"),startIcon:o.jsx(Qe,{})},onConfirm:lt,children:o.jsxs(E,{sx:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start",gap:.5},children:[o.jsxs(Zt,{error:N,children:[o.jsx(ve,{name:"RecordName",value:z,onChange:$=>{$.target&&(R($.target.value),M(!1))},size:"small"}),N&&o.jsxs(Aa,{children:[o.jsx(cr,{}),t("Name already exists!")]})]}),o.jsxs(E,{sx:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:1},children:[o.jsx(vt,{label:t("Type"),variant:"outlined",size:"small"}),o.jsx(lr,{row:!0,name:"format",value:O,onChange:$=>{$.target&&q($.target.value)},children:["chat","string"].map($=>o.jsx(ca,{value:$,control:o.jsx(Oe,{size:"small"}),label:o.jsx(j,{variant:"body2",noWrap:!0,children:$})},`prompt-type-${$}`))})]})]})})]})}function Xd(){const{id:p}=Ka();return o.jsx(So,{id:Number(p)})}function Zd(){const{id:p}=Ka();return o.jsx(xo,{id:Number(p)})}function _d(){const p=Ia(),t=m.useRef(null),{serverUrl:e}=Dt(),[a,s]=m.useState(!1),[r,i]=m.useState(!0),n=`${(e==null?void 0:e.replace("http://localhost:3000","http://127.0.0.1:8080"))??"http://127.0.0.1:8080"}/public/openapi/v3/api-docs/g-all`;return ic({useEffect:m.useEffect},"spec-loaded",()=>s(!0)),m.useEffect(()=>{var c;if(a){const l=t.current;if(l){const u=document.createElement("style");u.innerHTML=`
        :host {
          --border-radius: 6px;
          --input-bg: ${p.palette.background.default};
          --nav-hover-bg-color: ${p.palette.background.paper};
          --nav-hover-text-color:${p.palette.text.primary};
          --bg: ${p.palette.background.default};
          --bg1: ${p.palette.background.paper};
          --bg2: ${p.palette.background.paper};
          --bg3: ${p.palette.background.paper};
        }
        `,(c=l.shadowRoot)==null||c.appendChild(u)}i(!1)}},[a,p,p.palette.background.default,p.palette.background.paper,p.palette.primary,p.palette.secondary]),o.jsxs("main",{children:[o.jsx("style",{children:`
        openapi-explorer::part(section-navbar) {
          background-color: ${p.palette.background.default};
          border-radius: 6px;
          color: ${p.palette.text.primary};
        }
        openapi-explorer::part(section-main-content) {
          background-color: ${p.palette.background.default};
          border-radius: 6px;
          color: ${p.palette.text.primary};
        }
        openapi-explorer::part(navbar-operations-header) {
          background: ${p.palette.background.paper};
          border-radius: 6px;
          color: ${p.palette.primary.main};
        }
        openapi-explorer::part(btn-fill) {
          background-color: ${p.palette.background.paper};
          color: ${p.palette.text.primary};
        }
        openapi-explorer::part(btn-outline) {
          background-color: ${p.palette.background.paper};
          color: ${p.palette.text.primary};
        }
        openapi-explorer::part(btn-search) {
          background-color: ${p.palette.background.paper};
          color: ${p.palette.text.primary};
        }
        openapi-explorer::part(label-operation-path) {
          color: ${p.palette.text.primary};
        }
        `}),o.jsx(gt,{}),o.jsx("openapi-explorer",{ref:t,"spec-url":n,"hide-components":!0,style:{display:r?"none":"unset"}}),o.jsx(lo,{lines:20,loading:r,sx:{width:"100%"}}),o.jsx(gt,{spacing:1})]})}let xn=0;const Mo=m.forwardRef((p,t)=>{const{record:e,onView:a,onEdit:s,onDownload:r,onDelete:i,sx:n}=p,{t:c,i18n:l}=bt(),u=e.nickname??e.name;return o.jsxs(ee,{ref:t,sx:{...n,position:"relative",width:"100%",overflow:"hidden",gap:1,boxShadow:0,backgroundColor:"background.paper","&:hover, &:focus-within":{boxShadow:0},m:0},children:[o.jsxs(Ht,{children:[o.jsx(fa,{alt:u,src:e.avatar,children:u}),o.jsx(j,{variant:"h6",sx:{...n,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"20rem"},children:e.name})]}),o.jsxs(E,{sx:{...n,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx(j,{variant:"body2",color:"text.secondary",children:ea(e.gmtModified||new Date(0),l.language)}),o.jsx(j,{variant:"body2",color:e.visibility==="public"?"success.main":"warning.main",children:e.visibility==="public"?c("public"):c("private")})]}),o.jsx(E,{sx:{...n,display:"flex",justifyContent:"start",alignItems:"center",gap:2},children:o.jsx(vt,{label:`v${e.version}`,color:"success",variant:"outlined",size:"small"})}),o.jsx(Li,{children:e.description}),o.jsx(gt,{spacing:2}),o.jsx(rn,{icons:{view:Lr},onView:()=>a(),onEdit:()=>s(),onDownload:()=>r(),onDelete:()=>i()})]})});Mo.displayName="Characters.RecordCard";function tu(){const p=ke(),{t}=bt(["character"]),{accountApi:e,characterApi:a,chatApi:s}=Dt(),{handleError:r}=zt(),i=6,[n,c]=m.useState([]),[l,u]=m.useState(Y(i)),[f,y]=m.useState(0),[b,k]=m.useState(0),[z,R]=m.useState(),[N,M]=m.useState(),[O,q]=m.useState(!1),[C,K]=m.useState(!1),[W,Q]=m.useState(!1),[U,J]=m.useState(!1),L=m.useRef(`character-configuration-input-${xn}`).current,v=m.useRef(null),F=m.useRef(Array(i).fill(m.createRef())),B=m.useCallback(()=>{a==null||a.searchCharacterSummary(l).then(H=>{c(H),f===0&&(a==null||a.countCharacters(l).then(k).catch(r))}).catch(r)},[a,r,f,l]);m.useEffect(()=>(xn++,B(),en(K,Q,i)),[B]);function Y(H){const _=new ne;return _.where=new le,_.pageSize=H,_.pageNum=0,_.orderBy=["modifyTime"],_}function D(H){const _=new le;_.text=H;const It=new ne;It.where=_,It.pageSize=i,It.pageNum=0,It.orderBy=["modifyTime"],y(0),u(It)}function X(H){const _=new ne;_.where=l==null?void 0:l.where,_.pageSize=(l==null?void 0:l.pageSize)||i,_.orderBy=l==null?void 0:l.orderBy,_.pageNum=H,y(H),u(_)}function lt(H){H!=null&&H.name&&(a==null||a.deleteCharacterByName(H.name).then(()=>B()).catch(r)),R(void 0)}function et(H){R(H)}function nt(H){H.characterUid&&(s==null||s.getDefaultChatId(H.characterUid).then(_=>{p(`/w/chat/${_}/debug`)}).catch(()=>{e==null||e.getUserDetails().then(_=>{const It=new Ue;It.userNickname=_.nickname??_.username,It.userProfile=_.profile,It.characterNickname=H.nickname??H.name,It.characterUid=H.characterUid,It.about=H.defaultScene,s.startChat(It).then(st=>{p(`/w/chat/${st}/debug`)}).catch(r)}).catch(r)}))}function $(H){H.characterId&&p(`/w/character/edit/${H.characterId}`)}function at(H){H.characterId&&vo(H.characterId).catch(r)}function Z(){O||!N||a==null||a.existsCharacterName(N).then(H=>{if(H)q(!0);else{const _=new ka;_.lang=Ve.defaultLocale,_.name=N,_.visibility="public",a==null||a.createCharacter(_).then(It=>{It&&p(`/w/character/edit/${It}`)}).catch(r),M(void 0)}}).catch(r)}function ct(H){const _=H.target.files&&H.target.files[0];_&&(J(!0),a==null||a.importCharacter(_).then(()=>B()).catch(r).finally(()=>J(!1)))}function wt(){v.current&&v.current.click()}function Pt(){const H=(f+1)*i;return b===0&&n.length>0?H:Math.min(b,H)}function tt(H,_,It){return`${H}-${_} of ${_<=It?It:`more than ${_}`}`}return o.jsxs(o.Fragment,{children:[o.jsx(gt,{}),o.jsxs(E,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[o.jsx(wr,{onSearch:D,sx:{width:{sm:"420px"}}}),o.jsx(ve,{disabled:U,type:"file",id:L,onChange:ct,sx:{display:"none"},slotProps:{htmlInput:{ref:v,accept:"*/tar.gz"}}}),o.jsxs(Fa,{size:"small",variant:"contained",sx:{borderRadius:"16px",mb:.5,mr:2},children:[o.jsx(Rt,{disabled:U,startIcon:o.jsx(Ae,{}),onClick:()=>M("untitled"),sx:{borderRadius:"16px"},children:t("button:Create")}),o.jsx("label",{htmlFor:L,children:o.jsx(Rt,{disabled:U,startIcon:o.jsx(qn,{}),onClick:wt,sx:{borderRadius:"16px"},children:t("button:Import")})})]})]}),o.jsx(gt,{}),o.jsx(E,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:3},children:n.map((H,_)=>o.jsx(Er,{in:C,timeout:_*mr,unmountOnExit:!0,nodeRef:F.current[_],children:It=>o.jsx(Mo,{ref:F.current[_],record:H,onView:()=>nt(H),onEdit:()=>$(H),onDownload:()=>at(H),onDelete:()=>et(H),sx:{transition:_r,...tn[It]}},H.characterId)},`transition-${_}`))}),o.jsxs(E,{sx:{opacity:W?1:0,display:"flex",justifyContent:"end",alignItems:"center",gap:1,mt:2},children:[o.jsx(vt,{label:tt(n.length===0?0:f*i+1,Pt(),b),variant:"outlined",sx:{mr:1.5}}),o.jsx(ot,{size:"small",color:"default",disabled:f===0,onClick:()=>X(f-1),sx:{bgcolor:"background.paper",border:"1px solid",borderColor:"divider"},children:o.jsx($n,{})}),o.jsx(ot,{size:"small",color:"default",disabled:n.length!==-1?(1+f)*i>=b:!1,onClick:()=>X(f+1),sx:{bgcolor:"background.paper",border:"1px solid",borderColor:"divider"},children:o.jsx(Kn,{})})]}),o.jsx(Qt,{open:!!z,onClose:()=>R(void 0),obj:z,dialog:{color:"error",title:t("Do you really want to delete this character?")},button:{color:"error",text:t("button:Delete"),startIcon:o.jsx(_e,{})},onConfirm:lt,children:o.jsx(ma,{children:z==null?void 0:z.name})}),o.jsx(Qt,{open:N!==void 0,onClose:()=>{q(!1),M(void 0)},dialog:{title:t("Please enter a new name")},button:{text:t("button:Create"),startIcon:o.jsx(Qe,{})},onConfirm:Z,children:o.jsx(E,{sx:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start",gap:.5},children:o.jsxs(Zt,{error:O,children:[o.jsx(ve,{name:"RecordName",value:N,onChange:H=>{M(H.target.value),q(!1)},size:"small"}),O&&o.jsxs(Aa,{children:[o.jsx(cr,{}),t("Name already exists!")]})]})})})]})}function eu(){const{id:p}=Ka();return o.jsx(vd,{id:Number(p)})}function au(){var f,y;const{id:p}=Ka(),{promptTaskApi:t}=Dt(),{handleError:e}=zt(),[a,s]=m.useState(),[r,i]=m.useState((f=a==null?void 0:a.promptRef)==null?void 0:f.promptId),[n,c]=m.useState({...a==null?void 0:a.params,modelId:a==null?void 0:a.modelId,apiKeyName:a==null?void 0:a.apiKeyName,apiKey:a==null?void 0:a.apiKeyValue}),[l,u]=m.useState({...(y=a==null?void 0:a.promptRef)==null?void 0:y.variables});return m.useEffect(()=>{p&&(t==null||t.getPromptTask(p).then(s).catch(e))},[t,e,p]),m.useEffect(()=>{var b,k;i((b=a==null?void 0:a.promptRef)==null?void 0:b.promptId),c({...a==null?void 0:a.params,modelId:a==null?void 0:a.modelId,apiKeyName:a==null?void 0:a.apiKeyName,apiKey:a==null?void 0:a.apiKeyValue}),u({...(k=a==null?void 0:a.promptRef)==null?void 0:k.variables})},[a]),o.jsx(xo,{id:r,parameters:n,variables:l})}function iu(){var f,y;const{id:p}=Ka(),{promptTaskApi:t}=Dt(),{handleError:e}=zt(),[a,s]=m.useState(),[r,i]=m.useState((f=a==null?void 0:a.promptRef)==null?void 0:f.promptId),[n,c]=m.useState({...a==null?void 0:a.params,modelId:a==null?void 0:a.modelId,apiKeyName:a==null?void 0:a.apiKeyName,apiKey:a==null?void 0:a.apiKeyValue}),[l,u]=m.useState({...(y=a==null?void 0:a.promptRef)==null?void 0:y.variables});return m.useEffect(()=>{p&&(t==null||t.getPromptTask(p).then(s).catch(e))},[t,e,p]),m.useEffect(()=>{var b,k;i((b=a==null?void 0:a.promptRef)==null?void 0:b.promptId),c({...a==null?void 0:a.params,modelId:a==null?void 0:a.modelId,apiKeyName:a==null?void 0:a.apiKeyName,apiKey:a==null?void 0:a.apiKeyValue}),u({...(k=a==null?void 0:a.promptRef)==null?void 0:k.variables})},[a]),m.useEffect(()=>{p&&(t==null||t.getPromptTask(p).then(s).catch(e))},[t,e,p]),o.jsx(So,{id:r,parameters:n,variables:l})}function Oo(p){const{status:t="offline",...e}=p,a=zr(t)==="neutral"?"default":zr(t);return o.jsx("div",{children:o.jsx(qs,{color:a,overlap:"circular",variant:"dot",anchorOrigin:{vertical:"bottom",horizontal:"right"},sx:{"& .MuiBadge-badge":{width:12,height:12,borderRadius:"50%",border:"2px solid",borderColor:"background.paper"}},children:o.jsx(fa,{sx:{width:32,height:32},...e})})})}const Ur=m.forwardRef((p,t)=>{const{url:e,checked:a=!1,sx:s,onSelect:r}=p;return o.jsx(ee,{ref:t,onClick:()=>r(),sx:{...s,p:0,m:0,border:a?2:0},children:o.jsx(E,{sx:{position:"relative",width:"100%",paddingTop:"100%"},children:o.jsx(E,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,padding:.5,filter:a?"brightness(60%)":void 0},children:o.jsx("img",{src:e,loading:"lazy",style:{width:"100%",height:"100%",objectFit:"cover"}})})})})});Ur.displayName="MessageAssistant";const Sn=Lt(E)(({theme:p})=>({display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(100px, 1fr))",gap:p.spacing(3),width:"220px",[p.breakpoints.up("sm")]:{width:"420px"},[p.breakpoints.up("md")]:{width:"720px"}}));function ru({assistantUid:p,setAssistant:t}){const{t:e}=bt("character"),{characterApi:a}=Dt(),{handleError:s}=zt(),[r,i]=m.useState([]),[n,c]=m.useState([]),l=100;function u(){const b=new ne;return b.where=new le,b.pageSize=l,b.pageNum=0,b.orderBy=["modifyTime"],b}function f(){const b=new ne;return b.where=new le,b.where.visibility="public",b.where.highPriority=!0,b.pageSize=l,b.pageNum=0,b.orderBy=["modifyTime"],b}m.useEffect(()=>{a==null||a.searchPublicCharacterSummary(f()).then(i).catch(s),a==null||a.searchCharacterSummary(u()).then(c).catch(s)},[a,s]);function y(b){b&&(p===b.characterUid?t==null||t(null):t==null||t(b))}return o.jsxs(dt,{spacing:2,children:[r.length>0&&o.jsxs(m.Fragment,{children:[o.jsx(ut,{sx:{my:2},children:o.jsx(E,{component:"span",sx:{px:2},children:e("Recommended Characters")})}),o.jsx(Sn,{children:r.map((b,k)=>o.jsx(Ur,{url:b.avatar,checked:p===b.characterUid,onSelect:()=>y(b)},`message-assistant-official-${b.characterUid??k}`))})]}),n.length>0&&o.jsxs(m.Fragment,{children:[o.jsx(gt,{spacing:6}),o.jsx(ut,{sx:{my:2},children:o.jsx(E,{component:"span",sx:{px:2},children:e("Your Characters")})}),o.jsx(Sn,{children:n.map((b,k)=>o.jsx(Ur,{url:b.avatar,checked:p===b.characterUid,onSelect:()=>y(b)},`message-assistant-personal-${b.characterUid??k}`))})]})]})}const nu=p=>{const{t}=bt("chat"),{assistantUid:e,setAssistant:a,open:s=!1,setOpen:r=()=>{}}=p,[i,n]=m.useState(),c=t("Select an assistant");function l(){if(i!==null)return(i==null?void 0:i.characterUid)??e}function u(y){y!=="backdropClick"&&r(!1)}function f(){i!==void 0&&(a==null||a(i)),r(!1)}return o.jsx(o.Fragment,{children:o.jsxs(Ga,{open:s,onClose:u,maxWidth:"md",sx:{"& .MuiDialog-paper":{borderRadius:"6px",marginBottom:"var(--Footer-height)"}},children:[o.jsx(Xe,{children:c}),o.jsx(De,{children:o.jsx(dt,{spacing:2,sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:o.jsx(ru,{assistantUid:l(),setAssistant:n})})}),o.jsx(qi,{children:o.jsx(ot,{onClick:f,children:o.jsx(Bi,{})})})]})})};function ou(p){const{chatId:t,textAreaValue:e,setTextAreaValue:a,onSubmit:s,disabled:r=!1}=p,i=Ia(),{t:n}=bt("chat"),{handleError:c}=zt(),{serverUrl:l}=Dt(),[u,f]=m.useState(),[y,b]=m.useState(),[k,z]=m.useState(),[R,N]=m.useState(!1),[M,O]=m.useState(!1),[q,C]=m.useState(""),K=m.useRef(null),W="MessageInput.assistantUid.",Q="MessageInput.assistantName.",U="MessageInput.assistantAvatar.",J="/api/v2/chat/send/stream/assistant";m.useEffect(()=>{const D=localStorage.getItem(W+t);D&&(z(D),b(localStorage.getItem(Q+t)??void 0),f(localStorage.getItem(U+t)??void 0))},[t]),m.useEffect(()=>{var D;!r&&!(i.breakpoints.down("sm")&&Kl())&&((D=K.current)==null||D.focus())},[r,i.breakpoints]),m.useEffect(()=>{if(!M||!t||!k)return;const D=`${l}${J}/${t}/${k}`,X=new AbortController;let lt=!0;return(async()=>{try{await An(D,{method:"GET",signal:X.signal,async onopen(nt){if(nt.ok)C("");else if(nt.status===429){const $=`[${n("Quota has been used up, you can use your API key to continue chatting.")}]`;a($)}else{const $=`[${nt.statusText}]`;a($)}return Promise.resolve()},onmessage(nt){const $=JSON.parse(nt.data);if($.finishReason){const at=oe($.message);at&&a(at),C(""),O(!1)}else $.text&&C(at=>at+$.text)},onerror(nt){c(nt)},onclose(){lt&&console.error("The connection has been closed...")}})}catch(nt){c(nt)}})(),()=>{lt=!1,X.abort(),O(!1)}},[M,k,t,c,l,a,n]);function L(){e.trim()!==""&&(s(),a(""))}function v(D){D.nativeEvent.isComposing||D.key==="Enter"&&(D.shiftKey||D.ctrlKey||D.metaKey||(D.preventDefault(),L()))}function F(){N(!R)}function B(D){D!==void 0&&(z(D==null?void 0:D.characterUid),b(D==null?void 0:D.name),f(D==null?void 0:D.avatar),localStorage.setItem(W+t,(D==null?void 0:D.characterUid)??""),localStorage.setItem(Q+t,(D==null?void 0:D.name)??""),localStorage.setItem(U+t,(D==null?void 0:D.avatar)??""))}function Y(){O(!0)}return o.jsxs(dt,{sx:{px:1,pb:{xs:1,sm:3},flexDirection:"row"},children:[o.jsxs(dt,{flex:1,direction:"row",children:[o.jsx(ft,{disabled:r,placeholder:"Type something here","aria-label":"Message",onChange:D=>a(D.target.value),value:q||e,multiline:!0,minRows:1,maxRows:5,inputRef:K,onKeyDown:v,sx:{maxWidth:void 0,flex:1,mx:1,bgcolor:"background.paper",borderRadius:"4px","& .MuiOutlinedInput-root":{py:0,"&.Mui-focused":{"& .MuiOutlinedInput-notchedOutline":{borderWidth:1}}}},slotProps:{input:{size:"small",endAdornment:o.jsxs(dt,{direction:"row",justifyContent:"flex-end",alignItems:"center",alignSelf:"flex-end",sx:{py:1,pr:1,gap:1,maxHeight:"48px"},children:[o.jsx(ot,{disabled:r||M,size:"small",sx:{display:k&&!e?"inherit":"none",alignSelf:"center"},onClick:Y,children:o.jsx(fa,{sx:{width:30,height:30},alt:y,src:u,children:y})}),o.jsx(ot,{disabled:r||M||!e,size:"small",sx:{display:k&&!e?"none":"inherit",alignSelf:"center",border:"1px solid",borderColor:"divider",borderRadius:"4px",bgcolor:"#3b82f6",color:"#fefefe","&:hover, &:focus-within":{bgcolor:"#2563eb"}},onClick:L,children:o.jsx(Bs,{})})]})}}}),o.jsx(ot,{disabled:r||M,size:"small",sx:{mx:1,mb:.1,px:1,py:.5,justifySelf:"flex-end",alignSelf:"flex-end",alignItems:"flex-end",border:"1px solid",borderColor:"divider",borderRadius:"4px","&:hover":{bgcolor:"background.default"}},onClick:F,children:o.jsx(Nn,{fontSize:"large"})})]}),o.jsx(nu,{assistantUid:k,setAssistant:B,open:R,setOpen:N})]})}function su(p){const{session:t,defaultDebugMode:e=!1,fullscreenMode:a=!1,setFullscreenMode:s,onOpen:r,onReceivedMessage:i,sx:n}=p,{t:c}=bt("chat"),l=Ia(),{chatApi:u}=Dt(),{handleError:f}=zt(),[y,b]=m.useState([]),[k,z]=m.useState(""),[R,N]=m.useState(null),[M,O]=m.useState(""),[q,C]=m.useState(e),[K,W]=m.useState(""),[Q,U]=m.useState(!0),J=m.useRef(null),L=t==null?void 0:t.character,v=t==null?void 0:t.context,F=o.jsx(Oo,{status:Zr(t),src:L==null?void 0:L.avatar}),B="MessagesPane.enableBackground",Y=m.useCallback(Z=>{const ct=new Ye;ct.type="text",ct.content=Z||c("Sorry, something went wrong!");const wt=new Ce;wt.contents=[ct],wt.role="assistant",wt.name=ha(L);const Pt=new $e;return Pt.message=wt,Pt},[L,c]),D=m.useCallback((Z,ct,wt,Pt)=>{if(!wt||!Z||Pt)return;const tt=new Ye;tt.type="text",tt.content=wt.trim();const H=new Ce;H.role="user",H.contents=[tt],H.name=ct;const _=new $e;_.message=H,_.gmtCreate=new Date,b(It=>[...It,_]),N(_),O("")},[]);m.useEffect(()=>{q?v!=null&&v.chatId&&(u==null||u.listDebugMessages2(v.chatId).then(Z=>{Z&&(L!=null&&L.picture?Dr(L.picture,l.palette.mode,.6).then(ct=>{W(ct),b(Z)}):(W(""),b(Z)),r==null||r())}).catch(f)):v!=null&&v.chatId&&(u==null||u.listMessages2(v.chatId).then(Z=>{Z&&(L!=null&&L.picture?Dr(L.picture,l.palette.mode,.6).then(ct=>{W(ct),b(Z)}):(W(""),b(Z)),r==null||r())}).catch(f))},[u,q,v==null?void 0:v.chatId,f,l.palette.mode,r,L==null?void 0:L.picture]),m.useEffect(()=>{const Z=localStorage.getItem(B);Z&&U(Z==="1")},[]),m.useEffect(()=>{localStorage.setItem(B,Q?"1":"0")},[Q]),m.useEffect(()=>{var wt,Pt;J.current&&(clearTimeout(J.current),J.current=null);const Z=(t==null?void 0:t.proactiveChatWaitingTime)??0,ct=(L==null?void 0:L.lang)==="zh"?Or:Mr;if(Z>0&&y.length>2){const tt=y[y.length-1],H=y[y.length-2];((wt=tt.message)==null?void 0:wt.role)==="assistant"&&((Pt=H.message)==null?void 0:Pt.role)==="user"&&oe(H.message)!==ct&&(J.current=setTimeout(()=>{D(v==null?void 0:v.chatId,v==null?void 0:v.userNickname,ct,R)},Z*60*1e3))}},[y,v==null?void 0:v.chatId,v==null?void 0:v.userNickname,D,R,L==null?void 0:L.lang,t==null?void 0:t.proactiveChatWaitingTime]);function X(){v!=null&&v.chatId&&(y.length>0&&N(y[y.length-1]),O(""))}function lt(Z){var wt,Pt,tt;if(N(null),!Z)return;const ct=new $e;ct.message=Z.message,ct.gmtCreate=new Date,t!=null&&t.isDebugEnabled&&(ct.ext=`[${(wt=Z.tokenUsage)==null?void 0:wt.inputTokenCount},${(Pt=Z.tokenUsage)==null?void 0:Pt.outputTokenCount},${(tt=Z.tokenUsage)==null?void 0:tt.outputTokenCount}]`),b(H=>[...H,ct]),i==null||i(Z)}function et(Z){N(null),O((Z==null?void 0:Z.message)??"")}function nt(Z){var Pt;if(!(v!=null&&v.chatId)||Z>=y.length)return;let ct=Z;for(;((Pt=y[ct].message)==null?void 0:Pt.role)!=="user"&&ct>0;)ct=ct-1;const wt=y.length-ct;u==null||u.rollbackMessages(v==null?void 0:v.chatId,wt).then(()=>{const tt=y[ct],H=y.slice(0,ct+1);b(H),N(tt)}).catch(f)}function $(Z){u==null||u.clearMemory(Z).then(b).catch(f)}function at(){const Z=(L==null?void 0:L.lang)==="zh"?Or:Mr;return y.filter(ct=>!!ct.message&&oe(ct.message)!==Z)}return o.jsxs(dt,{sx:{height:{xs:"calc(100dvh - var(--Footer-height))",sm:"100dvh"},display:"flex",flexDirection:"column",backgroundColor:l.palette.background.paper,position:"relative",overflow:"hidden",backgroundImage:`url(${Q?K:""})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",...n},children:[o.jsx(cu,{session:t,onClearHistory:$,debugMode:q,fullscreenMode:a,disabled:!!R,enableBackground:K?Q:void 0,setEnableBackground:U,setDebugMode:C,setFullscreenMode:s}),o.jsx(E,{sx:{display:"flex",flex:1,minHeight:0,px:2,py:3,overflowY:"scroll",flexDirection:"column-reverse"},children:o.jsxs(dt,{spacing:2,justifyContent:"flex-end",children:[at().map((Z,ct)=>{const Pt=Z.message.role==="user";return o.jsxs(dt,{direction:"row",spacing:2,flexDirection:Pt?"row-reverse":"row",children:[!Pt&&F,o.jsx(Tr,{debugMode:q,session:t,record:Z,variant:Pt?"sent":"received",onReplay:()=>nt(ct)},`message-${ct}`)]},`message-container-${ct}`)}),(R||M)&&(v==null?void 0:v.chatId)&&o.jsxs(dt,{direction:"row",spacing:2,flexDirection:"row",children:[F,M?o.jsx(Tr,{session:t,record:Y(M),variant:"received",onReplay:X}):R&&o.jsx(Tr,{session:t,record:R,variant:"received",debugMode:q,apiPath:`/api/v2/chat/send/stream/${v==null?void 0:v.chatId}`,onFinish:lt,onError:et})]},`message-container-${at().length}`)]})}),o.jsx(ou,{chatId:v==null?void 0:v.chatId,disabled:!!R,textAreaValue:k,setTextAreaValue:z,onSubmit:()=>D(v==null?void 0:v.chatId,v==null?void 0:v.userNickname,k,R)})]})}function cu(p){var O;const{session:t,debugMode:e,disabled:a=!1,fullscreenMode:s=!1,enableBackground:r,setEnableBackground:i,setDebugMode:n,setFullscreenMode:c,onClearHistory:l}=p,{t:u}=bt("chat"),[f,y]=m.useState(!1),b=m.useRef(null),k=t==null?void 0:t.character,z=((O=t==null?void 0:t.context)==null?void 0:O.characterNickname)??ha(k),R=Zr(t),N={success:"success",warning:"warning",neutral:"disabled"};function M(){var q;l&&((q=t==null?void 0:t.context)!=null&&q.chatId)&&l(t.context.chatId)}return o.jsxs(dt,{direction:"row",justifyContent:"space-between",sx:{borderBottom:"1px solid",borderColor:"divider"},py:{xs:2,md:2},px:{xs:1,md:2},children:[o.jsxs(dt,{direction:"row",spacing:{xs:1,md:2},alignItems:"center",children:[o.jsx(ot,{color:"inherit",size:"small",sx:{display:{xs:"inline-flex",sm:"none"}},onClick:Xr,children:o.jsx(Es,{})}),o.jsx(fa,{src:k==null?void 0:k.avatar,sx:{width:56,height:56}}),o.jsxs(E,{children:[o.jsxs(j,{variant:"h6",component:"h2",noWrap:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[z,o.jsx(vt,{variant:"filled",size:"small",label:u(R),icon:o.jsx(ce,{color:N[zr(R)]})})]}),k&&o.jsx(j,{variant:"body2",color:"text.secondary",children:`@${k.name} ${u("(Content generated by AI)")}`})]})]}),o.jsxs(dt,{spacing:1,direction:"row",alignItems:"center",children:[(t==null?void 0:t.isDebugEnabled)&&o.jsxs(Ht,{sx:{gap:0},children:[o.jsx(j,{variant:"body2",children:u("Debug")}),o.jsx(kt,{disabled:a,checked:e,onChange:()=>n==null?void 0:n(!e)})]}),o.jsx(ot,{sx:{display:{xs:"none",sm:"inline-flex"}},disabled:a,color:"inherit",onClick:()=>c==null?void 0:c(!s),children:s?o.jsx(Fs,{}):o.jsx(Vs,{})}),o.jsx(ot,{disabled:a,color:"inherit",onClick:()=>y(!0),ref:b,children:o.jsx(Ls,{})}),o.jsxs($s,{id:"chat-menu",anchorEl:b.current,open:f,onClose:()=>y(!1),children:[o.jsxs(Me,{onClick:()=>{oo(),y(!1)},sx:{display:{sm:"none"}},children:[o.jsx(Cr,{children:o.jsx(Ks,{fontSize:"small"})}),u("Chat Information")]}),o.jsxs(Me,{disabled:r===void 0,onClick:()=>{i==null||i(!r),y(!1)},children:[o.jsx(Cr,{children:o.jsx(Za,{fontSize:"small",sx:{opacity:r?1:0}})}),u("Enable Background")]}),o.jsxs(Me,{onClick:()=>{M(),y(!1)},children:[o.jsx(Cr,{children:o.jsx(_e,{fontSize:"small"})}),u("Clear History")]})]})]})]})}const qr=Lt(m.forwardRef((p,t)=>{const{children:e,isSent:a,onMouseEnter:s,onMouseLeave:r,...i}=p;return o.jsx(E,{sx:{position:"relative"},onMouseEnter:s,onMouseLeave:r,children:o.jsx(dt,{ref:t,sx:[{p:1.25,borderRadius:"12px",borderTopRightRadius:a?0:"12px",borderTopLeftRadius:a?"12px":0,backgroundColor:a?"#0B6BCBC0":"#FFFFFFC0"},n=>n.applyStyles("dark",{backgroundColor:a?"#0B6BCBC0":"#000000C0"})],...i,children:e})})}))();qr.displayName="ChatBubble.BubbleContainer";function Tr(p){var X,lt;const{serverUrl:t}=Dt(),{handleError:e}=zt(),{i18n:a,t:s}=bt("chat"),{session:r,record:i,variant:n,debugMode:c=!1,apiPath:l,onFinish:u,onError:f=e,onReplay:y}=p,[b,k]=m.useState(!1),[z,R]=m.useState(!1),[N,M]=m.useState(!1),[O,q]=m.useState(!1),C=m.useRef(null),K=r==null?void 0:r.context,W=r==null?void 0:r.character,Q=n==="sent",U=(Q?K==null?void 0:K.userNickname:K==null?void 0:K.characterNickname)??ha(W),J=i.message,L=i.ext;let v,F;if(L)if(Q)try{F=(X=JSON.parse(L))==null?void 0:X.text}catch{}else try{v=JSON.parse(L)}catch{}function B(et){return et&&t+et}function Y(){var et;if(r!=null&&r.isTtsEnabled){const nt=`/api/v2/tts/speak/${(et=i.message)==null?void 0:et.messageId}`;if(C.current){const $=setTimeout(()=>q(!0),200);C.current.src=B(nt),C.current.oncanplay=()=>{clearTimeout($),q(!1),M(!0)},C.current.onerror=()=>{clearTimeout($),q(!1),M(!1)},C.current.onended=()=>{q(!1),M(!1)},C.current.onpause=()=>{q(!1),M(!1)},C.current.play().catch(at=>{clearTimeout($),q(!1),M(!1),e(at)})}}}function D(){r!=null&&r.isTtsEnabled&&C.current&&C.current.pause()}return o.jsxs(E,{sx:{maxWidth:"60%",minWidth:"auto",display:"grid",gridTemplateColumns:"auto 1fr",alignItems:"center"},children:[o.jsxs(dt,{direction:"row",justifyContent:"space-between",spacing:2,sx:{mb:.25,width:"100%"},children:[o.jsx(j,{variant:"body2",sx:{overflowWrap:"anywhere",minWidth:"35%"},children:U}),o.jsx(j,{variant:"body2",sx:{overflowWrap:"anywhere"},children:ea(i.gmtCreate||new Date,a.language,!0)})]}),o.jsx(gt,{}),l?o.jsx(qr,{isSent:Q,children:o.jsx(so,{debugMode:c,url:B(l),body:JSON.stringify(i.message),onFinish:u,onError:f,sx:et=>({color:Q?et.palette.common.white:et.palette.text.primary})})}):o.jsx(m.Fragment,{children:(lt=J==null?void 0:J.contents)==null?void 0:lt.map((et,nt)=>o.jsxs(qr,{isSent:Q,children:[et.type==="image"?o.jsx(br,{src:et.content}):o.jsx(tr,{sx:$=>({whiteSpace:"pre-wrap",color:Q?$.palette.common.white:$.palette.text.primary}),children:_i(et.content,c)}),!Q&&!l&&o.jsxs(m.Fragment,{children:[o.jsx(ut,{sx:{mt:1,mb:1}}),o.jsxs(E,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"center"},children:[et.type==="text"&&b?o.jsx(vt,{variant:"outlined",label:s("Copied!")}):o.jsx(ot,{size:"small",onClick:()=>{var $;et.content&&(($=navigator==null?void 0:navigator.clipboard)==null||$.writeText(_i(et.content,c)).then(()=>{k(!0),setTimeout(()=>k(!1),2e3)}).catch(e))},children:o.jsx(ar,{fontSize:"small"})}),(r==null?void 0:r.isTtsEnabled)&&o.jsxs(m.Fragment,{children:[O?o.jsx(Ea,{size:20}):o.jsx(ot,{size:"small",onClick:()=>N?D():Y(),children:N?o.jsx(Gs,{fontSize:"small"}):o.jsx(Qs,{fontSize:"small"})}),o.jsx("audio",{ref:C})]}),o.jsx(ot,{size:"small",disabled:O,onClick:()=>y==null?void 0:y(),children:o.jsx(Vn,{fontSize:"small"})})]})]}),c&&L&&o.jsxs(m.Fragment,{children:[v&&o.jsxs(m.Fragment,{children:[o.jsx(ut,{sx:{mt:1,mb:1},children:s("Token Usage")}),o.jsxs(E,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx(j,{variant:"body2",children:`${s("Input")}: ${v[0]}`}),o.jsx(j,{variant:"body2",children:`${s("Output")}: ${v[1]}`}),o.jsx(j,{variant:"body2",children:`${s("Total")}: ${v[2]}`})]})]}),F&&o.jsxs(m.Fragment,{children:[o.jsx(gt,{spacing:3}),o.jsxs(Ht,{sx:{justifyContent:"flex-end"},children:[o.jsx(j,{variant:"body2",sx:{color:"white"},children:s("System Prompt")}),o.jsx(ot,{"aria-label":"expand",onClick:()=>{R(!0)},size:"small",sx:{bgcolor:"rgba(0 0 0 / 0)"},children:o.jsx(sr,{sx:{color:"#e0e0e0"}})})]}),o.jsx(gd,{title:s("System Prompt"),open:z,setOpen:R,children:F})]})]})]},`message-${nt}`))})]})}function lu(p){var q,C,K,W,Q,U,J,L,v,F,B,Y,D;const{t}=bt(["chat","character"]),{session:e,memoryUsage:a,apiKeyValue:s,onApiKeyChanged:r,onSave:i}=p,[n,c]=m.useState(((q=e==null?void 0:e.context)==null?void 0:q.userNickname)??""),[l,u]=m.useState(((C=e==null?void 0:e.context)==null?void 0:C.userProfile)??""),[f,y]=m.useState(((K=e==null?void 0:e.context)==null?void 0:K.characterNickname)??""),[b,k]=m.useState(((W=e==null?void 0:e.context)==null?void 0:W.about)??""),[z,R]=m.useState(!1),N=((J=(U=(Q=e==null?void 0:e.character)==null?void 0:Q.lang)==null?void 0:U.split("_"))==null?void 0:J[0])??((L=e==null?void 0:e.character)==null?void 0:L.lang)??"en",M=((v=e==null?void 0:e.character)==null?void 0:v.tags)??[];m.useEffect(()=>{var X,lt,et,nt;c(((X=e==null?void 0:e.context)==null?void 0:X.userNickname)??""),u(((lt=e==null?void 0:e.context)==null?void 0:lt.userProfile)??""),y(((et=e==null?void 0:e.context)==null?void 0:et.characterNickname)??""),k(((nt=e==null?void 0:e.context)==null?void 0:nt.about)??"")},[e]),m.useEffect(()=>{R(!1)},[n,l,f,b]);function O(X){switch(X){case"male":return t("account:Male");case"female":return t("account:Female");default:return t("account:Other")}}return o.jsxs(dt,{sx:{p:2,height:{xs:"calc(100dvh - var(--Footer-height))",sm:"100dvh"},overflowY:"auto",gap:1},children:[o.jsxs(dt,{direction:"row",sx:{display:{xs:"inherit",sm:"none"},gap:1},children:[o.jsx(ot,{"aria-label":"edit",color:"default",size:"small",onClick:()=>{oo()},sx:{display:{sm:"none"}},children:o.jsx(Qa,{})}),o.jsx(ut,{sx:{my:2}})]}),o.jsx(du,{session:e,memoryUsage:a,apiKeyValue:s,setApiKeyValue:r}),o.jsx(ut,{sx:{my:2},children:t("Character information",{ns:"character"})}),o.jsxs(Pe,{children:[o.jsx(j,{variant:"subtitle1",color:"text.secondary",children:t("Name")}),o.jsx(j,{variant:"body2",children:(F=e==null?void 0:e.character)==null?void 0:F.name}),o.jsx(j,{variant:"subtitle1",color:"text.secondary",children:t("account:Gender")}),o.jsx(j,{variant:"body2",children:O((B=e==null?void 0:e.character)==null?void 0:B.gender)}),o.jsx(j,{variant:"subtitle1",color:"text.secondary",children:t("Language")}),o.jsx(j,{variant:"body2",children:ao(N)})]}),o.jsx(gt,{spacing:1}),o.jsx(j,{variant:"subtitle1",color:"text.secondary",children:t("Description")}),o.jsx(fo,{variant:"subtitle2",color:"text.secondary",children:(Y=e==null?void 0:e.character)==null?void 0:Y.description}),M.length>0&&o.jsx(Ht,{children:M.map((X,lt)=>o.jsx(vt,{size:"small",variant:"outlined",color:"success",label:X},`tag-${X}-${lt}`))}),o.jsx(gt,{spacing:1}),o.jsx(ut,{sx:{my:2},children:t("Settings that affect chat feedback")}),o.jsxs(Pe,{children:[o.jsx(j,{variant:"subtitle1",color:"text.secondary",children:t("Your Nickname")}),o.jsx(ft,{name:"info-user-nickname",value:n,onChange:X=>c(X.target.value),size:"small",fullWidth:!0,sx:{maxWidth:void 0},slotProps:{input:{size:"small"}}})]}),o.jsx(gt,{spacing:1}),o.jsxs(Zt,{sx:{gap:1},children:[o.jsx(j,{variant:"subtitle1",color:"text.secondary",children:t("Your Profile")}),o.jsx(te,{name:"info-user-profile",minRows:3,maxRows:10,value:l,onChange:X=>u(X.target.value)})]}),o.jsx(gt,{spacing:1}),o.jsxs(Pe,{children:[o.jsx(j,{variant:"subtitle1",color:"text.secondary",children:t("Character Nickname")}),o.jsx(ft,{name:"info-character-nickname",value:f,onChange:X=>y(X.target.value),size:"small",fullWidth:!0,sx:{maxWidth:void 0},slotProps:{input:{size:"small"}}})]}),o.jsx(gt,{spacing:1}),o.jsxs(Zt,{sx:{gap:1},children:[o.jsx(j,{variant:"subtitle1",color:"text.secondary",children:t("Anything about this chat")}),o.jsx(te,{name:"info-about",minRows:3,maxRows:10,value:b,onChange:X=>k(X.target.value)})]}),o.jsx(ut,{sx:{my:2},children:t("The settings only apply to this chat")}),o.jsx(E,{sx:{display:"flex",justifyContent:"flex-end"},children:o.jsx(Rt,{disabled:z||!((D=e==null?void 0:e.context)!=null&&D.chatId),size:"small",variant:"outlined",color:"success",startIcon:z?o.jsx(Za,{}):o.jsx(Qe,{}),onClick:()=>i==null?void 0:i(n,l,f,b,()=>R(!0)),children:t("button:Save")})})]})}function du({session:p,memoryUsage:t,apiKeyValue:e,setApiKeyValue:a}){const{t:s}=bt("chat"),[r,i]=m.useState(e),[n,c]=m.useState(!1);m.useEffect(()=>{i(e)},[e]);function l(){var y,b,k,z,R,N;return(y=p==null?void 0:p.context)!=null&&y.apiKeyName||(b=p==null?void 0:p.context)!=null&&b.apiKeyValue||((k=p==null?void 0:p.context)==null?void 0:k.quotaType)==="none"||!((z=p==null?void 0:p.context)!=null&&z.quota)?"-":`${(((R=p==null?void 0:p.context)==null?void 0:R.quotaType)=="messages"?t==null?void 0:t.messageUsage:t==null?void 0:t.tokenUsage)??0}/${(N=p==null?void 0:p.context)==null?void 0:N.quota}`}function u(){return p!=null&&p.provider?` - ${La.filter(y=>y.provider===p.provider).map(y=>y.label)??p.provider}`:""}return o.jsxs(m.Fragment,{children:[o.jsxs(Pe,{children:[o.jsx(j,{variant:"subtitle1",color:"text.secondary",children:s("My API Key",{ns:"account"})}),o.jsx(Ht,{sx:{ml:"auto"},children:o.jsx(yt,{title:p!=null&&p.isCustomizedApiKeyEnabled?s("Customize API key for the chat"):s("The character does not support custom API key"),children:o.jsx("div",{children:o.jsx(ot,{disabled:!(p!=null&&p.isCustomizedApiKeyEnabled),onClick:()=>c(!0),size:"small",children:o.jsx(Zi,{})})})})}),o.jsx(j,{variant:"subtitle1",color:"text.secondary",children:s("Usage")}),o.jsx(j,{variant:"body2",sx:{ml:"auto"},children:l()})]}),o.jsx(Qt,{open:n,onClose:f=>f!=="backdropClick"&&c(!1),dialog:{title:`${s("Set API Key",{ns:"prompt"})}${u()}`},button:{text:s("button:Confirm"),startIcon:o.jsx(Za,{})},onConfirm:()=>{a==null||a(r??""),c(!1)},children:o.jsxs(dt,{spacing:2,sx:{mx:2},children:[o.jsx(j,{variant:"body2",children:s("Your API key is only used for this chat and will not be obtained by anyone else.")}),o.jsx(ve,{type:"password",placeholder:"Paste a key here...",value:r,onChange:f=>i(f.target.value),slotProps:{input:{startAdornment:o.jsx(Ze,{position:"start",children:o.jsx(Fi,{})})}},size:"small",sx:{minWidth:"20rem"}})]})})]})}function uu(p){var O,q;const{session:t,selectedChatId:e,highlight:a,editMode:s=!1,onSelectChat:r,onRemoveChat:i}=p,{i18n:n}=bt(),[c,l]=m.useState(e===((O=t.context)==null?void 0:O.chatId)),[u,f]=m.useState(t.context),[y,b]=m.useState(t.character),[k,z]=m.useState(((q=t.context)==null?void 0:q.characterNickname)??ha(y)),[R,N]=m.useState(t.latestMessageRecord),M=m.useMemo(()=>!(u!=null&&u.gmtRead)||!(R!=null&&R.gmtCreate)?!1:(u==null?void 0:u.gmtRead)<R.gmtCreate,[u==null?void 0:u.gmtRead,R==null?void 0:R.gmtCreate]);return m.useEffect(()=>{var C,K;l(e===((C=t.context)==null?void 0:C.chatId)),f(t.context),b(t.character),z(((K=t.context)==null?void 0:K.characterNickname)??ha(t.character)),N(t.latestMessageRecord)},[e,t.character,t.context,t.latestMessageRecord]),o.jsxs(m.Fragment,{children:[o.jsx(Et,{disablePadding:!0,children:o.jsx(Te,{onClick:()=>{s||(Xr(),r==null||r())},selected:c,sx:{flexDirection:"column",alignItems:"initial",gap:1,mx:0},children:o.jsxs(Pe,{sx:{alignItems:"center",gridTemplateColumns:s?"80% 20%":"auto 1fr"},children:[o.jsxs(dt,{children:[o.jsxs(dt,{direction:"row",spacing:1.5,children:[o.jsx(Oo,{status:Zr(t),src:y==null?void 0:y.avatar}),o.jsx($a,{highlight:a,fontWeight:"bold",fontSize:"1.125rem",component:"h2",noWrap:!0,children:k}),o.jsxs(E,{sx:{lineHeight:1.5,textAlign:"right"},children:[M&&o.jsx(Fn,{sx:{fontSize:12},color:"primary"}),(R==null?void 0:R.gmtCreate)&&o.jsx(j,{variant:"caption",sx:{display:{xs:"none",md:"block"}},noWrap:!0,children:ea(R.gmtCreate,n.language)})]})]}),o.jsx(j,{variant:"body2",sx:{display:"-webkit-box",WebkitLineClamp:"2",WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",maxWidth:{xs:"100%",sm:"15vw"}},children:_i(oe(R==null?void 0:R.message)??"",!1,!0)})]}),s&&o.jsx(yo,{size:"small",onClick:C=>{C.stopPropagation(),i==null||i()},onTouchStart:C=>{C.stopPropagation()},children:o.jsx(Ln,{fontSize:"small"})})]})})}),o.jsx(ut,{sx:{mx:2,my:0}})]})}function pu(p){const{t}=bt("chat"),{sessions:e,selectedChatId:a,open:s=!0,onSelectChat:r,onRemoveChat:i}=p,[n,c]=m.useState([...e]),[l,u]=m.useState(""),[f,y]=m.useState(!1),b=po(l,200);s?ro():no(),m.useEffect(()=>{if(b){const z=uo(b),R=new RegExp(z,"i"),N=e.filter(M=>R.test(ha(M.character)));c(N)}else c([...e])},[b,e]);function k(z){z.target.value!==l&&u(z.target.value)}return o.jsxs(dt,{sx:{borderRight:"1px solid",borderColor:"divider",height:{xs:"calc(100dvh - var(--Footer-height))",sm:"100dvh"},overflowY:"auto"},children:[o.jsxs(dt,{direction:"row",spacing:1,alignItems:"center",justifyContent:"space-between",px:2,pt:2,pb:1.5,children:[o.jsxs(j,{variant:"h6",component:"h1",fontWeight:"bold",sx:{mr:"auto",display:"flex",alignItems:"center",gap:1},children:[t("Messages"),o.jsx(vt,{label:n.length,color:"primary",size:"small",sx:{ml:1}})]}),o.jsxs(dt,{direction:"row",spacing:1,children:[o.jsx(ot,{size:"small",onClick:z=>{z.stopPropagation(),y(!f)},onTouchStart:z=>{z.stopPropagation()},sx:{display:"unset"},children:f?o.jsx(Ys,{}):o.jsx(Js,{})}),o.jsx(ot,{size:"small",onClick:()=>{Xr()},sx:{display:{sm:"none"}},children:o.jsx(Qa,{})})]})]}),o.jsx(E,{sx:{px:2,pb:1.5},children:o.jsx(ve,{size:"small",fullWidth:!0,placeholder:t("Search"),"aria-label":t("Search"),onChange:k,slotProps:{input:{startAdornment:o.jsx(Ze,{position:"start",children:o.jsx(kn,{})})}}})}),o.jsx(rr,{sx:{py:0,"& .MuiListItem-root":{px:2}},children:n.map((z,R)=>{var N;return o.jsx(uu,{session:z,selectedChatId:a,highlight:b,editMode:f,onSelectChat:()=>{var M;return r==null?void 0:r((M=z.context)==null?void 0:M.chatId)},onRemoveChat:()=>{var M;return i==null?void 0:i((M=z.context)==null?void 0:M.chatId)}},((N=z.context)==null?void 0:N.chatId)||`chat-session-${R}`)})})]})}function hu(){var F;const{id:p,mode:t}=Ka(),e=p,a=t==="debug",{t:s}=bt(["chat"]),{chatApi:r}=Dt(),{handleError:i}=zt(),[n,c]=m.useState([]),[l,u]=m.useState(e),[f,y]=m.useState(),[b,k]=m.useState(),[z,R]=m.useState(""),[N,M]=m.useState(),[O,q]=m.useState(!1),C=m.useRef(!p);m.useEffect(()=>{var Y;const B=n.find(D=>{var X;return((X=D.context)==null?void 0:X.chatId)===l});R(((Y=B==null?void 0:B.context)==null?void 0:Y.apiKeyValue)??""),k(B),l&&(r==null||r.getMemoryUsage(l).then(M))},[r,l,n]),m.useEffect(()=>{r==null||r.listChats().then(c).catch(i)},[r,i]),m.useEffect(()=>{var Y;if(!n||n.length===0)return;const B=n.find(D=>{var X;return((X=D.context)==null?void 0:X.chatId)===e});u(B?e:(Y=n[0].context)==null?void 0:Y.chatId)},[e,n]);function K(B){if(!l)return;const Y=new Ke;Y.apiKeyValue=B,r==null||r.updateChat(l,Y).then(D=>{if(!D||!(b!=null&&b.context))return;const X={...b.context,apiKeyValue:B},lt={...b,context:X};k(lt)})}function W(B,Y,D,X,lt){if(!l)return;const et=new Ke;et.userNickname=B,et.userProfile=Y,et.characterNickname=D,et.about=X,r==null||r.updateChat(l,et).then(nt=>{if(!nt||!(b!=null&&b.context))return;const $={...b.context,userNickname:B,userProfile:Y,characterNickname:D,about:X},at={...b,context:$};k(at),lt()})}function Q(){if(!l)return;const B=new Ke;B.gmtRead=new Date,r==null||r.updateChat(l,B).then(Y=>{!Y||!(b!=null&&b.context)||(b.context.gmtRead=B.gmtRead)})}function U(B){var wt,Pt,tt,H,_,It;const Y=(N==null?void 0:N.messageUsage)??0,D=((wt=N==null?void 0:N.tokenUsage)==null?void 0:wt.inputTokenCount)??0,X=((Pt=N==null?void 0:N.tokenUsage)==null?void 0:Pt.outputTokenCount)??0,lt=((tt=N==null?void 0:N.tokenUsage)==null?void 0:tt.totalTokenCount)??0,et=1,nt=((H=B.tokenUsage)==null?void 0:H.inputTokenCount)??0,$=((_=B.tokenUsage)==null?void 0:_.outputTokenCount)??0,at=((It=B.tokenUsage)==null?void 0:It.totalTokenCount)??nt+$,Z=new za;Z.inputTokenCount=D+nt,Z.outputTokenCount=X+$,Z.totalTokenCount=lt+at;const ct=new Ha;ct.messageUsage=Y+et,ct.tokenUsage=Z,M(ct)}function J(B){B&&(r==null||r.deleteChat(B).then(()=>r==null?void 0:r.listChats().then(c).catch(i)).finally(()=>y(null)).catch(i))}function L(B){var D,X,lt;if(!B)return"";const Y=n.find(et=>{var nt;return((nt=et.context)==null?void 0:nt.chatId)===B});return((D=Y==null?void 0:Y.context)==null?void 0:D.characterNickname)??((X=Y==null?void 0:Y.character)==null?void 0:X.nickname)??((lt=Y==null?void 0:Y.character)==null?void 0:lt.name)??""}function v(B){var D;if(!B)return"";const Y=n.find(X=>{var lt;return((lt=X.context)==null?void 0:lt.chatId)===B});return((D=Y==null?void 0:Y.character)==null?void 0:D.name)??""}return o.jsxs(E,{sx:{flex:1,width:"100%",mx:"auto",display:"grid",backgroundColor:"background.default",gridTemplateColumns:{xs:"1fr",sm:O?"1fr":"3fr 11fr 6fr"}},children:[o.jsx(E,{sx:{display:O?"none":void 0,position:{xs:"fixed",sm:"sticky"},transform:{xs:"translateX(calc(100% * (var(--ChatsPane-slideIn, 0) - 1)))",sm:"none"},transition:"transform 0.2s, width 0.2s",zIndex:100,width:"100%",backgroundColor:"background.default"},children:o.jsx(pu,{sessions:n,selectedChatId:l,open:C.current,onSelectChat:B=>{C.current=!1,u(B)},onRemoveChat:y})}),o.jsx(su,{session:b,defaultDebugMode:a,fullscreenMode:O,setFullscreenMode:q,onOpen:Q,onReceivedMessage:U},(F=b==null?void 0:b.context)==null?void 0:F.chatId),o.jsx(E,{sx:{display:O?"none":void 0,position:{xs:"fixed",sm:"sticky"},transform:{xs:"translateX(calc(100% * (var(--ChatInfoPane-slideIn, 0) + 1)))",sm:"none"},transition:"transform 0.2s, width 0.2s",zIndex:100,width:"100%",backgroundColor:"background.default"},children:o.jsx(lu,{session:b,memoryUsage:N,apiKeyValue:z,onApiKeyChanged:K,onSave:W})}),o.jsx(Qt,{open:!!f,onClose:()=>y(null),obj:f,dialog:{color:"error",title:s("Do you really want to delete this chat?")},button:{color:"error",text:s("button:Delete"),startIcon:o.jsx(_e,{})},onConfirm:J,children:o.jsxs(ma,{sx:{whiteSpace:"nowrap"},children:[L(f),L(f)!==v(f)&&o.jsx(j,{variant:"body2",component:"span",children:`@${v(f)}`})]})})]})}const mu=[{index:!0,element:o.jsx(bn,{})},{path:"w",element:o.jsx(bn,{})},{path:"w/login",element:o.jsx(Vd,{})},{path:"w/chat/:id?/:mode?",element:o.jsx(hu,{})},{path:"w/prompts",element:o.jsx(Jd,{})},{path:"w/prompt/:id",element:o.jsx(Xd,{})},{path:"w/prompt/edit/:id",element:o.jsx(Zd,{})},{path:"w/prompt/task/:id",element:o.jsx(iu,{})},{path:"w/prompt/task/edit/:id",element:o.jsx(au,{})},{path:"w/characters",element:o.jsx(tu,{})},{path:"w/character/edit/:id",element:o.jsx(eu,{})},{path:"w/plugins",element:o.jsx(wn,{})},{path:"w/agents",element:o.jsx(wn,{})},{path:"w/docs",element:o.jsx(_d,{})},{path:"w/profile",element:o.jsx(Ld,{})},{path:"w/credentials",element:o.jsx(Gd,{})},{path:"*",element:o.jsx(Yd,{})}],fu=[{path:"/*",element:o.jsx(Qd,{}),children:mu}],yu=Ko(fu),gu=Xs({colorSchemes:{light:{palette:{background:{default:"#FBFCFE",paper:"#F0F4F8"}}},dark:{palette:{background:{default:"#0B0D0E",paper:"#272A2C"},divider:"#424242"}}},components:{MuiButton:{styleOverrides:{root:{textTransform:"none"}}}}});function bu(){return o.jsx(oc,{children:o.jsxs(Zs,{defaultMode:"dark",theme:gu,noSsr:!0,children:[o.jsx(_s,{}),o.jsx(tc,{styles:()=>({":root":{"--Collapsed-breakpoint":"769px","--Cover-width":"50dvw","--Form-maxWidth":"800px","--Transition-duration":"0.4s","--Sidebar-width":"240px","--Header-height":"40px","--Footer-height":"42px","--Footer-width":"80vw"}})}),o.jsxs(ec,{dateAdapter:ac,children:[o.jsx(xd,{}),o.jsx(id,{}),o.jsx(Go,{router:yu})]})]})})}const wu=(p,t,e)=>{const a=p[t];return a?typeof a=="function"?a():Promise.resolve(a):new Promise((s,r)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(r.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==e?". Note that variables only represent file names one level deep.":""))))})};Fr.use(Qo);var Pn;const xu=(Pn=document.querySelector('meta[name="_location"]'))==null?void 0:Pn.getAttribute("content");xu!=="CN"&&Fr.use(Yo);Fr.use(Jo((p,t)=>wu(Object.assign({"./locales/en/account.json":()=>Xt(()=>import("./account-DR1YdzYu.js"),[]),"./locales/en/button.json":()=>Xt(()=>import("./button-S2MlYetF.js"),[]),"./locales/en/character.json":()=>Xt(()=>import("./character-BWFG2GXR.js"),[]),"./locales/en/chat.json":()=>Xt(()=>import("./chat-DTwfz1d9.js"),[]),"./locales/en/prompt.json":()=>Xt(()=>import("./prompt-D-juxslp.js"),[]),"./locales/en/sidebar.json":()=>Xt(()=>import("./sidebar-BQ0fOD__.js"),[]),"./locales/en/sign-in.json":()=>Xt(()=>import("./sign-in-BLtH2CDD.js"),[]),"./locales/en/translation.json":()=>Xt(()=>import("./translation-BRAh6gwc.js"),[]),"./locales/zh/account.json":()=>Xt(()=>import("./account-CIMK6AUR.js"),[]),"./locales/zh/button.json":()=>Xt(()=>import("./button-CqLJehWA.js"),[]),"./locales/zh/character.json":()=>Xt(()=>import("./character-D0DOxZXX.js"),[]),"./locales/zh/chat.json":()=>Xt(()=>import("./chat-OMPo2-yd.js"),[]),"./locales/zh/prompt.json":()=>Xt(()=>import("./prompt-B0-e8R5_.js"),[]),"./locales/zh/sidebar.json":()=>Xt(()=>import("./sidebar-tlS3maee.js"),[]),"./locales/zh/sign-in.json":()=>Xt(()=>import("./sign-in-DNQh-bFA.js"),[]),"./locales/zh/translation.json":()=>Xt(()=>import("./translation-DVV4eO5C.js"),[])}),`./locales/${p}/${t}.json`,4))).init({fallbackLng:Ve.defaultLocale,supportedLngs:Ve.locales,defaultNS:Ve.defaultNamespace,fallbackNS:Ve.defaultNamespace,ns:Ve.namespaces,nonExplicitSupportedLngs:!0,interpolation:{escapeValue:!1},debug:!1});Xo.createRoot(document.getElementById("root")).render(o.jsx(er.StrictMode,{children:o.jsx(bu,{})}));
